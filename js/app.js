!function e(n,t,i){function r(a,s){if(!t[a]){if(!n[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[a]={exports:{}};n[a][0].call(l.exports,function(e){var t=n[a][1][e];return r(t||e)},l,l.exports,e,n,t,i)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){requestAnimationFrame(r),h.renderLoop(),o(),d.renderer.render(d.scene,d.camera)}function o(){v.textContent=f.myPlayer.score,p.textContent=f.myPlayer.money}var a=e("./modules/view"),s=e("./modules/game-engine"),u=i(s),c=e("./modules/game-view"),l=i(c),d=void 0,f=void 0,h=void 0,v=void 0,p=void 0;!function(){var e=(0,a.setupScreenView)(),n=e.scene,t=e.camera,i=e.renderer;d={scene:n,camera:t,renderer:i},f=new u.default,h=new l.default(d,f),v=document.getElementById("score"),p=document.getElementById("money"),window.addEventListener("click",function(){var e=h.getCurrentPanelIndex();if(e>=0){var t=f.myPlayer.spawnMinion(e);t&&n.add(t.viewObj)}}),window.addEventListener("keypress",function(){var e=f.computer.spawnMinion(3);e&&n.add(e.viewObj)}),r()}()},{"./modules/game-engine":3,"./modules/game-view":4,"./modules/view":7}],2:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.xPositive=1,t.xNegative=-1},{}],3:[function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=e("./player"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=e("./constants"),u=function(){function e(){i(this,e),this.state={},this.initializePlayers()}return r(e,[{key:"initializePlayers",value:function(){this.myPlayer=new a.default({type:"human",direction:s.xPositive}),this.computer=new a.default({type:"computer",direction:s.xNegative}),this.state.players=[this.myPlayer,this.computer]}},{key:"gameLoop",value:function(){this.state.players.forEach(function(e){return e.runLoop()})}}]),e}();t.default=u},{"./constants":2,"./player":6}],4:[function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=function(){function e(n,t){i(this,e),this.scene=n.scene,this.camera=n.camera,this.renderer=n.renderer,this.gameEngine=t,this.setupGrid(),this.setupLight(),this.mouse={x:0,y:0},this.camera.position.z=50,this.camera.position.y=50,this.camera.lookAt(this.scene.position),this.raycaster=new THREE.Raycaster,this.currentHoveredPanel=null,this.setupMouseEvent()}return r(e,[{key:"setupLight",value:function(){var e=new THREE.AmbientLight(6710886),n=new THREE.PointLight(8947848);n.position.set(3,3,3),this.scene.add(e),this.scene.add(n)}},{key:"setupGrid",value:function(){var e=new THREE.GridHelper(70,8);this.scene.add(e),this.gridPanels={};for(var n=-30.6,t=0;t<8;t++){var i=new THREE.PlaneGeometry(70,8.75),r=new THREE.MeshBasicMaterial({color:6710886}),o=new THREE.Mesh(i,r);o.rotation.x=-.5*Math.PI,o.position.z=n,o.position.y=-.1,this.scene.add(o),this.gridPanels[t]=o,n+=8.75}}},{key:"checkGridIntersections",value:function(){this.raycaster.setFromCamera(this.mouse,this.camera);var e=Object.values(this.gridPanels),n=this.raycaster.intersectObjects(e);if(e.forEach(function(e){e.material.color.setHex(6710886)}),n.length>0){var t=n[0].object;t.material.color.setHex(16711680),this.currentHoveredPanel=t}else this.currentHoveredPanel&&(this.currentHoveredPanel=null)}},{key:"getCurrentPanelIndex",value:function(){if(this.currentHoveredPanel)for(var e=Object.values(this.gridPanels),n=0;n<8;n++)if(this.currentHoveredPanel===e[n])return n}},{key:"setupMouseEvent",value:function(){var e=this.mouse;window.addEventListener("mousemove",function(n){e.x=event.clientX/window.innerWidth*2-1,e.y=2*-(event.clientY/window.innerHeight)+1})}},{key:"renderLoop",value:function(){this.checkGridIntersections(),this.gameEngine.gameLoop()}}]),e}();t.default=o},{}],5:[function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=function(){function e(n){i(this,e),this.health=20,this.attackStrength=3,this.direction=n.direction,this.initializeView(n.startingZ),this.speed=.08}return r(e,[{key:"initializeView",value:function(e){var n=new THREE.BoxGeometry(1,1,1),t=new THREE.MeshPhongMaterial({color:65280,specular:5592405,shininess:30});this.viewObj=new THREE.Mesh(n,t),this.viewObj.position.z=9*e-32,this.viewObj.position.x=-38*this.direction}},{key:"runLoop",value:function(){this.viewObj.position.x+=this.speed*this.direction}}]),e}();t.default=o},{}],6:[function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),o=e("./minion"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(n){i(this,e),this.type=n.type,this.direction=n.direction,this.setupGameState()}return r(e,[{key:"spawnMinion",value:function(e){if(this.money>=this.minionCost){this.money-=this.minionCost;var n=new a.default({direction:this.direction,startingZ:e});return this.minions.push(n),n}return null}},{key:"runLoop",value:function(){this.minions.forEach(function(e){return e.runLoop()})}},{key:"setupGameState",value:function(){this.minions=[],this.score=0,this.money=200,this.minionCost=20}}]),e}();t.default=s},{"./minion":5}],7:[function(e,n,t){"use strict";function i(e,n){var t=window.innerWidth,i=window.innerHeight;e.setSize(t,i),n.aspect=t/i,n.updateProjectionMatrix()}function r(e,n){window.addEventListener("resize",function(){i(e,n)})}function o(){var e=new THREE.Scene,n=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),t=new THREE.WebGLRenderer;return t.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(t.domElement),r(t,n),{scene:e,camera:n,renderer:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.setupScreenView=o},{}]},{},[1]);
//# sourceMappingURL=maps/app.js.map
