{"version":3,"sources":["app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","render","timestamp","delta","lastTimeStamp","fps","Math","round","requestAnimationFrame","gameView","renderLoop","updateUI","globals","renderer","scene","camera","rendererStats","update","scoreText","textContent","gameEngine","myPlayer","score","moneyText","money","fpsText","_view","_gameEngine","_gameEngine2","_gameView","_gameView2","THREEx","RendererStats","domElement","style","position","left","bottom","document","body","appendChild","_setupScreenView","setupScreenView","getElementById","window","addEventListener","index","getCurrentPanelIndex","spawnMinion","computer","./modules/game-engine","./modules/game-view","./modules/view","2","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_constants","AI","args","this","determineAIFunction","personality","player","spawnInterval","lastSpawn","opponents","canSpawn","spawnIndex","AIFunction","floor","random","gridSubDiv","map","forEach","enemy","startingZ","minions","minion","spawnValue","values","val","./constants","3","Base","direction","colliderList","playerId","id","baseWidth","gridWidth","baseHeight","baseDepth","maxHealth","health","hitBoxBuffer","killReward","initializeView","registerCollision","hitBoxOpacity","arguments","undefined","viewObj","THREE","Group","shapeGeometry","BoxGeometry","shapeMaterial","MeshPhongMaterial","color","specular","shininess","shapeMesh","Mesh","hitGeometry","hitMaterial","MeshBasicMaterial","transparent","opacity","hitMesh","healthBar","initializeHealthBar","hitBox","add","x","y","userData","object","_healthBarLength","_healthBarWidth","fullHealthBarGeometry","fullHealthBarMaterial","fullHealthBarMesh","name","emptyHealthBarGeometry","emptyHealthBarMaterial","emptyHealthBarMesh","healthBarGroup","healthPercent","healthBarOffset","fullHealthBar","getObjectByName","scale","geometry","computeBoundingBox","box3","boundingBox","clone","collider","ColliderBox3","push","updateHealthBar","4","xPositive","xNegative","5","_player","_player2","_aiPlayer","_aiPlayer2","_menuScreen","GameEngine","state","colliderSystem","ColliderSystem","initializePlayers","type","players","activateMenu","winner","pop","reset","gameOver","_this","runLoop","playerAI","lost","initializeGameOver","computeAndNotify","./ai-player","./menu-screen","./player","6","planeTexture","TextureLoader","load","repeat","set","wrapS","RepeatWrapping","wrapT","GameView","setupGrid","setupLight","mouse","positionScale","z","lookAt","raycaster","Raycaster","currentHoveredPanel","setupMouseEvent","bindButtons","lightAmbient","AmbientLight","lightSource","PointLight","texturedSurfaceGeometry","PlaneGeometry","texturedSurfaceMaterial","texturedSurface","rotation","PI","grid","GridHelper","gridPanels","panelLength","zPos","planeGeometry","planeMaterial","plane","setFromCamera","planes","intersects","intersectObjects","panel","material","setHex","evt","event","clientX","innerWidth","clientY","innerHeight","checkGridIntersections","gameLoop","7","activateStartScreen","startSection","classList","restartSection","remove","activateRestartScreen","modal","closeMenu","restart","8","Minion","attackStrength","attackSpeed","defaultSpeed","speed","attackProperties","attackTime","destroy","attack","otherCollider","object3d","currentTarget","attackProcedure","attackLoop","getAttackValue","processReward","9","_minion","_minion2","_base","_base2","Player","minionId","setupGameState","spawnBase","base","minionCost","ObjectLoader","console","log","reward","keys","_this2","destroyBase","destroyMinion","splice","findColliderIndex","_this3","./base","./minion","10","handleResize","w","h","setSize","aspect","updateProjectionMatrix","setupResizing","Scene","PerspectiveCamera","WebGLRenderer"],"mappings":"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","file":"../app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _view = require('./modules/view');\n\nvar _gameEngine = require('./modules/game-engine');\n\nvar _gameEngine2 = _interopRequireDefault(_gameEngine);\n\nvar _gameView = require('./modules/game-view');\n\nvar _gameView2 = _interopRequireDefault(_gameView);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Globals\nvar globals = void 0;\n\nvar gameEngine = void 0,\n    gameView = void 0;\n\n// UI Elements\nvar scoreText = void 0,\n    moneyText = void 0,\n    fpsText = void 0;\n\n// Shapes\nvar cube;\n\n// performance\nvar rendererStats = new THREEx.RendererStats();\nrendererStats.domElement.style.position = 'absolute';\nrendererStats.domElement.style.left = '0px';\nrendererStats.domElement.style.bottom = '0px';\ndocument.body.appendChild(rendererStats.domElement);\n\nfunction init() {\n  var _setupScreenView = (0, _view.setupScreenView)(),\n      scene = _setupScreenView.scene,\n      camera = _setupScreenView.camera,\n      renderer = _setupScreenView.renderer;\n\n  globals = { scene: scene, camera: camera, renderer: renderer };\n\n  gameEngine = new _gameEngine2.default(globals);\n  gameView = new _gameView2.default(globals, gameEngine);\n\n  scoreText = document.getElementById('score');\n  moneyText = document.getElementById('money');\n  fpsText = document.getElementById('fps');\n\n  window.addEventListener('click', function () {\n    var index = gameView.getCurrentPanelIndex();\n    if (index >= 0) {\n      gameEngine.myPlayer.spawnMinion(index);\n    }\n  });\n\n  window.addEventListener('keypress', function () {\n    gameEngine.computer.spawnMinion(3);\n  });\n\n  render();\n}\n\nvar lastTimeStamp = 0;\nfunction render(timestamp) {\n  var delta = timestamp - lastTimeStamp;\n  delta = delta / 1000;\n  lastTimeStamp = timestamp;\n  var fps = Math.round(1 / delta);\n  requestAnimationFrame(render);\n  gameView.renderLoop(timestamp);\n\n  updateUI(fps);\n\n  globals.renderer.render(globals.scene, globals.camera);\n  rendererStats.update(globals.renderer);\n}\n\nfunction updateUI(fps) {\n  scoreText.textContent = gameEngine.myPlayer.score;\n  moneyText.textContent = gameEngine.myPlayer.money;\n  fpsText.textContent = fps;\n}\n\ninit();\n\n},{\"./modules/game-engine\":5,\"./modules/game-view\":6,\"./modules/view\":10}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require(\"./constants\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AI = function () {\n  function AI(args) {\n    _classCallCheck(this, AI);\n\n    this.determineAIFunction(args.personality);\n    this.player = args.player;\n    this.spawnInterval = 200;\n    this.lastSpawn = 0;\n  }\n\n  _createClass(AI, [{\n    key: \"canSpawn\",\n    value: function canSpawn(timestamp) {\n      return timestamp - this.lastSpawn > this.spawnInterval;\n    }\n  }, {\n    key: \"runLoop\",\n    value: function runLoop(timestamp, opponents) {\n      if (!this.canSpawn(timestamp)) {\n        return;\n      }\n\n      var spawnIndex = this.AIFunction(opponents);\n\n      if (spawnIndex >= 0) {\n        this.player.spawnMinion(spawnIndex);\n        this.lastSpawn = timestamp;\n      }\n    }\n  }, {\n    key: \"randomAI\",\n    value: function randomAI(opponents) {\n      return Math.floor(Math.random() * _constants.gridSubDiv);\n    }\n  }, {\n    key: \"defensiveAI\",\n    value: function defensiveAI(opponents) {\n      var map = {};\n      for (var i = 0; i < _constants.gridSubDiv; i++) {\n        map[i] = 0;\n      }\n\n      opponents.forEach(function (enemy) {\n        map[enemy.startingZ]--;\n      });\n\n      this.player.minions.forEach(function (minion) {\n        map[minion.startingZ]++;\n      });\n\n      var spawnIndex = -1;\n      var spawnValue = 100000;\n      Object.values(map).forEach(function (val, index) {\n        if (val < spawnValue) {\n          spawnValue = val;\n          spawnIndex = index;\n        }\n      });\n\n      return spawnIndex;\n    }\n  }, {\n    key: \"determineAIFunction\",\n    value: function determineAIFunction(personality) {\n      if (personality) {\n        this.AIFunction = this[personality];\n      } else {\n        this.AIFunction = this[\"randomAI\"];\n      }\n    }\n  }]);\n\n  return AI;\n}();\n\nexports.default = AI;\n\n},{\"./constants\":4}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require(\"./constants\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Base = function () {\n    function Base(args) {\n        _classCallCheck(this, Base);\n\n        this.direction = args.direction;\n        this.colliderList = args.colliderList;\n        this.player = args.player;\n        this.playerId = this.player.id;\n\n        this.baseWidth = _constants.gridWidth;\n        this.baseHeight = 20;\n        this.baseDepth = 10;\n\n        this.maxHealth = 50;\n        this.health = this.maxHealth;\n\n        this.hitBoxBuffer = 2;\n\n        this.killReward = {\n            money: 550,\n            score: 1000\n        };\n\n        this.initializeView(this.direction);\n        this.registerCollision();\n    }\n\n    _createClass(Base, [{\n        key: \"initializeView\",\n        value: function initializeView(direction) {\n            var hitBoxOpacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : .25;\n\n            this.viewObj = new THREE.Group();\n\n            var shapeGeometry = new THREE.BoxGeometry(this.baseDepth, this.baseHeight, this.baseWidth);\n\n            var shapeMaterial = new THREE.MeshPhongMaterial({ color: 0x008800, specular: 0x555555, shininess: 30 });\n            var shapeMesh = new THREE.Mesh(shapeGeometry, shapeMaterial);\n\n            var hitGeometry = new THREE.BoxGeometry(this.baseDepth + this.hitBoxBuffer, this.baseHeight + this.hitBoxBuffer, this.baseWidth + this.hitBoxBuffer);\n\n            var hitMaterial = new THREE.MeshBasicMaterial({ color: 0x00ffff, transparent: true, opacity: hitBoxOpacity });\n            var hitMesh = new THREE.Mesh(hitGeometry, hitMaterial);\n\n            this.healthBar = this.initializeHealthBar();\n            this.hitBox = hitMesh;\n\n            this.viewObj.add(shapeMesh);\n            this.viewObj.add(hitMesh);\n            this.viewObj.add(this.healthBar);\n\n            this.viewObj.position.x = (-_constants.gridWidth / 2 - this.baseDepth / 2) * this.direction;\n            this.viewObj.position.y = this.baseHeight / 2;\n\n            this.hitBox.userData.object = this;\n            this.hitBox.userData.player = this.player;\n        }\n    }, {\n        key: \"initializeHealthBar\",\n        value: function initializeHealthBar() {\n            this._healthBarLength = _constants.gridWidth / 10;\n            this._healthBarWidth = _constants.gridWidth / 150;\n            var fullHealthBarGeometry = new THREE.BoxGeometry(this._healthBarLength, this._healthBarWidth, this._healthBarWidth);\n            var fullHealthBarMaterial = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n            var fullHealthBarMesh = new THREE.Mesh(fullHealthBarGeometry, fullHealthBarMaterial);\n            fullHealthBarMesh.name = \"FullHealthBar\";\n\n            var emptyHealthBarGeometry = new THREE.BoxGeometry(this._healthBarLength * 0.99, this._healthBarWidth * 0.9, this._healthBarWidth * 0.9);\n            var emptyHealthBarMaterial = new THREE.MeshBasicMaterial({ color: 0xff0000 });\n            var emptyHealthBarMesh = new THREE.Mesh(emptyHealthBarGeometry, emptyHealthBarMaterial);\n            emptyHealthBarMesh.name = \"EmptyHealthBar\";\n\n            var healthBarGroup = new THREE.Group();\n            healthBarGroup.add(fullHealthBarMesh);\n            healthBarGroup.add(emptyHealthBarMesh);\n\n            healthBarGroup.position.y = this.baseHeight + 5;\n\n            return healthBarGroup;\n        }\n    }, {\n        key: \"updateHealthBar\",\n        value: function updateHealthBar() {\n            var healthPercent = this.health / this.maxHealth;\n            var healthBarOffset = -(1 - healthPercent) * this._healthBarLength / 2;\n            var fullHealthBar = this.healthBar.getObjectByName('FullHealthBar');\n\n            fullHealthBar.scale.x = healthPercent;\n            fullHealthBar.position.x = healthBarOffset;\n        }\n    }, {\n        key: \"registerCollision\",\n        value: function registerCollision() {\n            this.hitBox.geometry.computeBoundingBox();\n            var box3 = this.hitBox.geometry.boundingBox.clone();\n            this.collider = new THREEx.ColliderBox3(this.hitBox, box3);\n\n            this.colliderList.push(this.collider);\n        }\n    }, {\n        key: \"runLoop\",\n        value: function runLoop() {\n            this.collider.update();\n            this.updateHealthBar();\n        }\n    }]);\n\n    return Base;\n}();\n\nexports.default = Base;\n\n},{\"./constants\":4}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar xPositive = exports.xPositive = 1;\nvar xNegative = exports.xNegative = -1;\nvar gridWidth = exports.gridWidth = 64;\nvar gridSubDiv = exports.gridSubDiv = 16;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _player = require('./player');\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _aiPlayer = require('./ai-player');\n\nvar _aiPlayer2 = _interopRequireDefault(_aiPlayer);\n\nvar _menuScreen = require('./menu-screen');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GameEngine = function () {\n  function GameEngine(args) {\n    _classCallCheck(this, GameEngine);\n\n    this.state = {};\n    this.scene = args.scene;\n    this.camera = args.camera;\n\n    this.colliderSystem = new THREEx.ColliderSystem();\n    this.colliderList = [];\n\n    this.playerId = 0;\n\n    this.initializePlayers();\n  }\n\n  _createClass(GameEngine, [{\n    key: 'initializePlayers',\n    value: function initializePlayers() {\n      this.myPlayer = new _player2.default({\n        type: 'human',\n        direction: _constants.xPositive,\n        colliderList: this.colliderList,\n        scene: this.scene,\n        id: this.playerId++\n      });\n\n      this.computer = new _player2.default({\n        type: 'computer',\n        direction: _constants.xNegative,\n        colliderList: this.colliderList,\n        scene: this.scene,\n        id: this.playerId++\n      });\n\n      this.AI = new _aiPlayer2.default({\n        player: this.computer,\n        personality: \"defensiveAI\"\n      });\n\n      // this.playerAI = new AI({\n      //   player: this.myPlayer\n      // });\n\n\n      this.state.players = [this.myPlayer, this.computer];\n    }\n  }, {\n    key: 'initializeGameOver',\n    value: function initializeGameOver() {\n      (0, _menuScreen.activateMenu)({\n        winner: this.winner\n      });\n    }\n  }, {\n    key: 'restart',\n    value: function restart() {\n      while (this.colliderList.length > 0) {\n        this.colliderList.pop();\n      }\n      this.state.players.forEach(function (player) {\n        player.reset();\n      });\n      this.gameOver = false;\n    }\n  }, {\n    key: 'gameLoop',\n    value: function gameLoop(timestamp) {\n      var _this = this;\n\n      if (this.gameOver) {}\n      if (this.AI) {\n        this.AI.runLoop(timestamp, this.myPlayer.minions);\n      }\n\n      if (this.playerAI) {\n        this.playerAI.runLoop(timestamp, this.computer.minions);\n      }\n      this.state.players.forEach(function (player) {\n        player.runLoop(timestamp);\n        if (player.lost && !_this.gameOver) {\n          _this.gameOver = true;\n          _this.winner = player.id !== _this.myPlayer.id;\n          _this.initializeGameOver();\n        }\n      });\n      this.colliderSystem.computeAndNotify(this.colliderList);\n    }\n  }]);\n\n  return GameEngine;\n}();\n\nexports.default = GameEngine;\n\n},{\"./ai-player\":2,\"./constants\":4,\"./menu-screen\":7,\"./player\":9}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require('./constants');\n\nvar _menuScreen = require('./menu-screen');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar planeTexture = new THREE.TextureLoader().load(\"textures/stone.jpg\");\nplaneTexture.repeat.set(10, 10);\nplaneTexture.wrapS = THREE.RepeatWrapping;\nplaneTexture.wrapT = THREE.RepeatWrapping;\n\nvar GameView = function () {\n  function GameView(globals, gameEngine) {\n    _classCallCheck(this, GameView);\n\n    this.scene = globals.scene;\n    this.camera = globals.camera;\n    this.renderer = globals.renderer;\n\n    this.gameEngine = gameEngine;\n\n    this.setupGrid();\n    this.setupLight();\n\n    this.mouse = { x: -10000, y: 0 };\n\n    var positionScale = _constants.gridWidth / 2;\n\n    this.camera.position.z = 2 * positionScale;\n    this.camera.position.y = 1.5 * positionScale;\n    this.camera.lookAt(this.scene.position);\n\n    this.raycaster = new THREE.Raycaster();\n    this.currentHoveredPanel = null;\n\n    this.setupMouseEvent();\n    (0, _menuScreen.bindButtons)(this.gameEngine);\n  }\n\n  _createClass(GameView, [{\n    key: 'setupLight',\n    value: function setupLight() {\n      var lightAmbient = new THREE.AmbientLight(0x666666, 3);\n      var lightSource = new THREE.PointLight(0x888888);\n\n      lightSource.position.set(3, 3, 3);\n\n      this.scene.add(lightAmbient);\n      this.scene.add(lightSource);\n    }\n  }, {\n    key: 'setupGrid',\n    value: function setupGrid() {\n      var texturedSurfaceGeometry = new THREE.PlaneGeometry(_constants.gridWidth, _constants.gridWidth);\n      var texturedSurfaceMaterial = new THREE.MeshBasicMaterial({ map: planeTexture });\n      var texturedSurface = new THREE.Mesh(texturedSurfaceGeometry, texturedSurfaceMaterial);\n      texturedSurface.rotation.x = -0.5 * Math.PI;\n      texturedSurface.position.y = -0.3;\n      this.scene.add(texturedSurface);\n\n      var grid = new THREE.GridHelper(_constants.gridWidth, _constants.gridSubDiv);\n      this.scene.add(grid);\n\n      this.gridPanels = {};\n\n      var panelLength = _constants.gridWidth / _constants.gridSubDiv;\n      var zPos = (_constants.gridWidth / 2 - panelLength / 2) * -1;\n\n      for (var i = 0; i < _constants.gridSubDiv; i++) {\n        var planeGeometry = new THREE.PlaneGeometry(_constants.gridWidth, panelLength);\n        var planeMaterial = new THREE.MeshBasicMaterial({ transparent: true, opacity: 0 });\n        var plane = new THREE.Mesh(planeGeometry, planeMaterial);\n        plane.rotation.x = -0.5 * Math.PI;\n        plane.position.z = zPos;\n        plane.position.y = -0.2;\n        this.scene.add(plane);\n        this.gridPanels[i] = plane;\n\n        zPos += panelLength;\n      }\n    }\n  }, {\n    key: 'checkGridIntersections',\n    value: function checkGridIntersections() {\n      this.raycaster.setFromCamera(this.mouse, this.camera);\n      var planes = Object.values(this.gridPanels);\n      var intersects = this.raycaster.intersectObjects(planes);\n\n      planes.forEach(function (panel) {\n        panel.material.color.setHex(0x666666);\n        panel.material.opacity = 0;\n      });\n\n      if (intersects.length > 0) {\n        var obj = intersects[0].object;\n\n        obj.material.color.setHex(0xff0000);\n        obj.material.opacity = .5;\n        this.currentHoveredPanel = obj;\n      } else if (this.currentHoveredPanel) {\n        this.currentHoveredPanel = null;\n      }\n    }\n  }, {\n    key: 'getCurrentPanelIndex',\n    value: function getCurrentPanelIndex() {\n      if (!this.currentHoveredPanel) {\n        return;\n      }\n\n      var planes = Object.values(this.gridPanels);\n\n      for (var i = 0; i < _constants.gridSubDiv; i++) {\n        if (this.currentHoveredPanel === planes[i]) {\n          return i;\n        }\n      }\n    }\n  }, {\n    key: 'setupMouseEvent',\n    value: function setupMouseEvent() {\n      var mouse = this.mouse;\n\n      window.addEventListener('mousemove', function (evt) {\n        mouse.x = event.clientX / window.innerWidth * 2 - 1;\n        mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n      });\n    }\n  }, {\n    key: 'renderLoop',\n    value: function renderLoop(timestamp) {\n      this.checkGridIntersections();\n      this.gameEngine.gameLoop(timestamp);\n    }\n  }]);\n\n  return GameView;\n}();\n\nexports.default = GameView;\n\n},{\"./constants\":4,\"./menu-screen\":7}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.activateMenu = activateMenu;\nexports.closeMenu = closeMenu;\nexports.bindButtons = bindButtons;\nvar modal = document.getElementById('modal');\nvar startSection = document.getElementById('startModal');\nvar restartSection = document.getElementById('restartModal');\nfunction activateStartScreen() {\n  startSection.classList.add('modal--visible');\n  restartSection.classList.remove('modal--visible');\n}\n\nfunction activateRestartScreen(winner) {\n  startSection.classList.remove('modal--visible');\n  restartSection.classList.add('modal--visible');\n}\n\nfunction activateMenu(args) {\n  modal.classList.add('modal--visible');\n\n  if (args.winner !== null) {\n    activateRestartScreen(args.winner);\n  } else {\n    activateStartScreen();\n  }\n}\n\nfunction closeMenu(args) {\n  modal.classList.remove('modal--visible');\n}\n\nfunction bindButtons(gameEngine) {\n  startSection.addEventListener('click', function () {});\n\n  restartSection.addEventListener('click', function () {\n    gameEngine.restart();\n    closeMenu();\n  });\n}\n\n},{}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require(\"./constants\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Minion = function () {\n  function Minion(args) {\n    _classCallCheck(this, Minion);\n\n    this.direction = args.direction;\n    this.colliderList = args.colliderList;\n    this.id = args.id;\n    this.playerId = args.playerId;\n    this.player = args.player;\n    this.startingZ = args.startingZ;\n    this.scene = args.scene;\n\n    this.maxHealth = 10;\n    this.health = this.maxHealth;\n    this.attackStrength = 3;\n    this.attackSpeed = 100;\n\n    this.defaultSpeed = 1;\n    this.speed = this.defaultSpeed;\n    this.attackProperties = {\n      lastTimeStamp: null,\n      attackTime: 0\n    };\n\n    this.killReward = {\n      money: 15,\n      score: 10\n    };\n\n    this.destroy = false;\n    this.attack = false;\n\n    this.initializeView(this.startingZ);\n    this.registerCollision();\n  }\n\n  _createClass(Minion, [{\n    key: \"initializeView\",\n    value: function initializeView(startingZ) {\n      var hitBoxOpacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : .25;\n\n      this.viewObj = new THREE.Group();\n\n      var hitGeometry = new THREE.BoxGeometry(3, 8, 3);\n      var hitMaterial = new THREE.MeshBasicMaterial({ color: 0x00ffff, transparent: true, opacity: hitBoxOpacity });\n      var hitMesh = new THREE.Mesh(hitGeometry, hitMaterial);\n\n      this.healthBar = this.initializeHealthBar();\n\n      //this.viewObj.add(shapeMesh);\n      //this.viewObj.add(hitMesh);\n      //this.viewObj.add(this.healthBar);\n\n      hitMesh.add(this.healthBar);\n      this.viewObj = hitMesh;\n      this.hitBox = this.viewObj;\n\n      var z = startingZ * (_constants.gridWidth / _constants.gridSubDiv) - _constants.gridWidth / 2 + _constants.gridWidth / _constants.gridSubDiv / 2;\n      var x = _constants.gridWidth / 2 * -this.direction;\n      this.viewObj.position.z = z;\n      this.viewObj.position.x = x;\n      this.viewObj.position.y = 4;\n\n      this.hitBox.userData.object = this;\n      this.hitBox.userData.player = this.player;\n    }\n  }, {\n    key: \"initializeHealthBar\",\n    value: function initializeHealthBar() {\n      this._healthBarWidth = 2;\n      var fullHealthBarGeometry = new THREE.BoxGeometry(this._healthBarWidth, 0.3, 0.3);\n      var fullHealthBarMaterial = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n      var fullHealthBarMesh = new THREE.Mesh(fullHealthBarGeometry, fullHealthBarMaterial);\n      fullHealthBarMesh.name = \"FullHealthBar\";\n\n      var emptyHealthBarGeometry = new THREE.BoxGeometry(this._healthBarWidth, 0.2, 0.2);\n      var emptyHealthBarMaterial = new THREE.MeshBasicMaterial({ color: 0xff0000 });\n      var emptyHealthBarMesh = new THREE.Mesh(emptyHealthBarGeometry, emptyHealthBarMaterial);\n      emptyHealthBarMesh.name = \"EmptyHealthBar\";\n\n      var healthBarGroup = new THREE.Group();\n      healthBarGroup.add(fullHealthBarMesh);\n      healthBarGroup.add(emptyHealthBarMesh);\n\n      healthBarGroup.position.y = 4;\n\n      return healthBarGroup;\n    }\n  }, {\n    key: \"isObjectLoaded\",\n    value: function isObjectLoaded(obj) {\n      return obj.position.x === 0 && obj.position.y === 0 && obj.position.z === 0;\n    }\n  }, {\n    key: \"registerCollision\",\n    value: function registerCollision() {\n      var _this = this;\n\n      this.hitBox.geometry.computeBoundingBox();\n      var box3 = this.hitBox.geometry.boundingBox.clone();\n      this.collider = new THREEx.ColliderBox3(this.hitBox, box3);\n\n      this.colliderList.push(this.collider);\n\n      this.collider.addEventListener('contactEnter', function (otherCollider) {\n        if (otherCollider.object3d.userData.player.id === _this.playerId) {\n          return;\n        }\n\n        _this.speed = 0;\n        _this.attack = true;\n        _this.currentTarget = otherCollider.object3d.userData.object;\n      });\n\n      this.collider.addEventListener('contactStay', function (otherCollider) {\n        if (otherCollider.object3d.userData.player.id === _this.playerId) {\n          return;\n        }\n\n        if (_this.currentTarget === null) {\n          _this.speed = 0;\n          _this.attack = true;\n          _this.currentTarget = otherCollider.object3d.userData.object;\n        }\n      });\n\n      this.collider.addEventListener('contactRemoved', function (otherCollider) {\n        _this.speed = _this.defaultSpeed;\n        _this.attack = false;\n        _this.currentTarget = null;\n      });\n    }\n  }, {\n    key: \"getAttackValue\",\n    value: function getAttackValue() {\n      return Math.random() * this.attackStrength;\n    }\n  }, {\n    key: \"updateHealthBar\",\n    value: function updateHealthBar() {\n      var healthPercent = this.health / this.maxHealth;\n      var healthBarOffset = -(1 - healthPercent) * this._healthBarWidth / 2;\n      var fullHealthBar = this.healthBar.getObjectByName('FullHealthBar');\n\n      fullHealthBar.scale.x = healthPercent;\n      fullHealthBar.position.x = healthBarOffset;\n    }\n  }, {\n    key: \"runLoop\",\n    value: function runLoop(timestamp) {\n\n      this.attackProcedure(timestamp);\n      this.viewObj.position.x += this.speed * this.direction;\n\n      this.collider.update();\n      this.updateHealthBar();\n    }\n  }, {\n    key: \"attackProcedure\",\n    value: function attackProcedure(timestamp) {\n      if (this.health <= 0) {\n        return;\n      }\n\n      if (this.attackProperties.lastTimeStamp != null && this.attack) {\n        var delta = timestamp - this.attackProperties.lastTimeStamp;\n        this.attackProperties.attackTime += delta;\n        this.attackProperties.lastTimeStamp = timestamp;\n        this.attackLoop();\n      } else if (this.attack) {\n        this.attackProperties.attackTime = 0;\n        this.attackProperties.lastTimeStamp = timestamp;\n        this.attackLoop();\n      }\n\n      this.attackProperties.lastTimeStamp = timestamp;\n    }\n  }, {\n    key: \"attackLoop\",\n    value: function attackLoop() {\n      if (this.currentTarget === null || this.currentTarget.playerId === this.playerId) {\n        return;\n      }\n      if (this.attackProperties.attackTime < this.attackSpeed) {\n        return;\n      }\n\n      this.currentTarget.health -= this.getAttackValue();\n\n      if (this.currentTarget.health <= 0) {\n        this.player.processReward(this.currentTarget.killReward);\n\n        this.currentTarget.attack = false;\n        this.currentTarget.destroy = true;\n        this.currentTarget = null;\n      }\n\n      this.attackProperties.attackTime = 0;\n      this.attackProperties.lastTimeStamp = null;\n    }\n  }]);\n\n  return Minion;\n}();\n\nexports.default = Minion;\n\n},{\"./constants\":4}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _minion = require('./minion');\n\nvar _minion2 = _interopRequireDefault(_minion);\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Player = function () {\n  function Player(args) {\n    _classCallCheck(this, Player);\n\n    this.type = args.type;\n    this.id = args.id;\n    this.direction = args.direction;\n    this.colliderList = args.colliderList;\n    this.scene = args.scene;\n    this.minionId = 0;\n\n    this.setupGameState();\n    this.spawnBase();\n  }\n\n  _createClass(Player, [{\n    key: 'spawnBase',\n    value: function spawnBase() {\n      this.base = new _base2.default({\n        direction: this.direction,\n        colliderList: this.colliderList,\n        player: this\n      });\n\n      this.scene.add(this.base.viewObj);\n    }\n  }, {\n    key: 'spawnMinion',\n    value: function spawnMinion(index) {\n      var _this = this;\n\n      if (this.money >= this.minionCost) {\n        this.money -= this.minionCost;\n\n        var minion = new _minion2.default({\n          id: this.minionId++,\n          playerId: this.id,\n          direction: this.direction,\n          startingZ: index,\n          colliderList: this.colliderList,\n          player: this\n        });\n\n        this.minions.push(minion);\n        var shapeGeometry = new THREE.BoxGeometry(2, 2, 2);\n        var loader = new THREE.ObjectLoader();\n        loader.load('../../geometry/model.json', function (obj) {\n          console.log(minion);\n          obj.position.y = -4;\n          minion.viewObj.add(obj);\n          _this.scene.add(minion.viewObj);\n        });\n      }\n    }\n  }, {\n    key: 'processReward',\n    value: function processReward(reward) {\n      var t = this;\n      Object.keys(reward).forEach(function (key) {\n        t[key] += reward[key];\n      });\n    }\n  }, {\n    key: 'runLoop',\n    value: function runLoop(timestamp) {\n      var _this2 = this;\n\n      if (this.base !== null) {\n        this.base.runLoop();\n        if (this.base.destroy) {\n          this.destroyBase();\n        }\n      }\n\n      this.minions.forEach(function (minion, index) {\n        minion.runLoop(timestamp);\n        if (minion.destroy) {\n          _this2.destroyMinion(minion, index);\n        }\n      });\n    }\n  }, {\n    key: 'destroyMinion',\n    value: function destroyMinion(minion, index) {\n      this.scene.remove(minion.viewObj);\n\n      this.colliderList.splice(this.findColliderIndex(minion.collider.id), 1);\n\n      this.minions.splice(index, 1);\n    }\n  }, {\n    key: 'destroyBase',\n    value: function destroyBase() {\n      this.scene.remove(this.base.viewObj);\n      this.colliderList.splice(this.findColliderIndex(this.base.collider.id), 1);\n      this.base = null;\n      this.lost = true;\n    }\n  }, {\n    key: 'findColliderIndex',\n    value: function findColliderIndex(id) {\n      var index = -1;\n\n      for (var i = 0; i < this.colliderList.length; i++) {\n        if (this.colliderList[i].id === id) {\n          index = i;\n        }\n      }\n\n      return index;\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      var _this3 = this;\n\n      this.minions.forEach(function (minion) {\n        _this3.scene.remove(minion.viewObj);\n      });\n\n      if (this.base) {\n        this.scene.remove(this.base.viewObj);\n        this.base = null;\n      }\n\n      this.spawnBase();\n      this.setupGameState();\n    }\n  }, {\n    key: 'setupGameState',\n    value: function setupGameState() {\n      this.minions = [];\n      this.score = 0;\n      this.money = 400;\n      this.minionCost = 20;\n      this.lost = false;\n    }\n  }]);\n\n  return Player;\n}();\n\nexports.default = Player;\n\n},{\"./base\":3,\"./minion\":8}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setupScreenView = setupScreenView;\nfunction handleResize(renderer, camera) {\n  var w = window.innerWidth;\n  var h = window.innerHeight;\n  renderer.setSize(w, h);\n  camera.aspect = w / h;\n  camera.updateProjectionMatrix();\n}\n\nfunction setupResizing(renderer, camera) {\n  window.addEventListener('resize', function () {\n    handleResize(renderer, camera);\n  });\n}\n\nfunction setupScreenView() {\n  var scene = new THREE.Scene();\n  var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n  var renderer = new THREE.WebGLRenderer();\n\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  document.body.appendChild(renderer.domElement);\n\n  setupResizing(renderer, camera);\n\n  return { scene: scene, camera: camera, renderer: renderer };\n}\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzXFxhcHAuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFxhaS1wbGF5ZXIuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFxiYXNlLmpzIiwic3JjXFxqc1xcbW9kdWxlc1xcY29uc3RhbnRzLmpzIiwic3JjXFxqc1xcbW9kdWxlc1xcZ2FtZS1lbmdpbmUuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFxnYW1lLXZpZXcuanMiLCJzcmNcXGpzXFxtb2R1bGVzXFxtZW51LXNjcmVlbi5qcyIsInNyY1xcanNcXG1vZHVsZXNcXG1pbmlvbi5qcyIsInNyY1xcanNcXG1vZHVsZXNcXHBsYXllci5qcyIsInNyY1xcanNcXG1vZHVsZXNcXHZpZXcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBOztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBO0FBQ0EsSUFBSSxnQkFBSjs7QUFFQSxJQUFJLG1CQUFKO0FBQUEsSUFBZ0IsaUJBQWhCOztBQUVBO0FBQ0EsSUFBSSxrQkFBSjtBQUFBLElBQWUsa0JBQWY7QUFBQSxJQUEwQixnQkFBMUI7O0FBRUE7QUFDQSxJQUFJLElBQUo7O0FBRUE7QUFDQSxJQUFJLGdCQUFnQixJQUFJLE9BQU8sYUFBWCxFQUFwQjtBQUNBLGNBQWMsVUFBZCxDQUF5QixLQUF6QixDQUErQixRQUEvQixHQUEwQyxVQUExQztBQUNBLGNBQWMsVUFBZCxDQUF5QixLQUF6QixDQUErQixJQUEvQixHQUFzQyxLQUF0QztBQUNBLGNBQWMsVUFBZCxDQUF5QixLQUF6QixDQUErQixNQUEvQixHQUF3QyxLQUF4QztBQUNBLFNBQVMsSUFBVCxDQUFjLFdBQWQsQ0FBMkIsY0FBYyxVQUF6Qzs7QUFFQSxTQUFTLElBQVQsR0FBZ0I7QUFBQSx5QkFDb0IsNEJBRHBCO0FBQUEsTUFDUixLQURRLG9CQUNSLEtBRFE7QUFBQSxNQUNELE1BREMsb0JBQ0QsTUFEQztBQUFBLE1BQ08sUUFE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a0IsRUFBbEI7QUFDQSxXQUFLLElBQUwsR0FBWSxLQUFaO0FBQ0Q7Ozs7OztrQkFwSGtCLE07Ozs7Ozs7O1FDV0wsZSxHQUFBLGU7QUFkaEIsU0FBUyxZQUFULENBQXNCLFFBQXRCLEVBQWdDLE1BQWhDLEVBQXVDO0FBQ3JDLE1BQUksSUFBSSxPQUFPLFVBQWY7QUFDQSxNQUFJLElBQUksT0FBTyxXQUFmO0FBQ0EsV0FBUyxPQUFULENBQWlCLENBQWpCLEVBQW1CLENBQW5CO0FBQ0EsU0FBTyxNQUFQLEdBQWdCLElBQUUsQ0FBbEI7QUFDQSxTQUFPLHNCQUFQO0FBQ0Q7O0FBRUQsU0FBUyxhQUFULENBQXVCLFFBQXZCLEVBQWlDLE1BQWpDLEVBQXlDO0FBQ3ZDLFNBQU8sZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MsWUFBTTtBQUN0QyxpQkFBYSxRQUFiLEVBQXVCLE1BQXZCO0FBQ0QsR0FGRDtBQUdEOztBQUVNLFNBQVMsZUFBVCxHQUEyQjtBQUNoQyxNQUFJLFFBQVEsSUFBSSxNQUFNLEtBQVYsRUFBWjtBQUNBLE1BQUksU0FBUyxJQUFJLE1BQU0saUJBQVYsQ0FBNEIsRUFBNUIsRUFBZ0MsT0FBTyxVQUFQLEdBQW9CLE9BQU8sV0FBM0QsRUFBd0UsR0FBeEUsRUFBNkUsSUFBN0UsQ0FBYjtBQUNBLE1BQUksV0FBVyxJQUFJLE1BQU0sYUFBVixFQUFmOztBQUVBLFdBQVMsT0FBVCxDQUFpQixPQUFPLFVBQXhCLEVBQW9DLE9BQU8sV0FBM0M7QUFDQSxXQUFTLElBQVQsQ0FBYyxXQUFkLENBQTBCLFNBQVMsVUFBbkM7O0FBRUEsZ0JBQWMsUUFBZCxFQUF3QixNQUF4Qjs7QUFFQSxTQUFPLEVBQUUsWUFBRixFQUFTLGNBQVQsRUFBaUIsa0JBQWpCLEVBQVA7QUFDRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgeyBzZXR1cFNjcmVlblZpZXcgfSBmcm9tICcuL21vZHVsZXMvdmlldyc7XHJcbmltcG9ydCBHYW1lRW5naW5lIGZyb20gJy4vbW9kdWxlcy9nYW1lLWVuZ2luZSc7XHJcbmltcG9ydCBHYW1lVmlldyBmcm9tICcuL21vZHVsZXMvZ2FtZS12aWV3JztcclxuXHJcbi8vIEdsb2JhbHNcclxubGV0IGdsb2JhbHM7XHJcblxyXG5sZXQgZ2FtZUVuZ2luZSwgZ2FtZVZpZXc7XHJcblxyXG4vLyBVSSBFbGVtZW50c1xyXG5sZXQgc2NvcmVUZXh0LCBtb25leVRleHQsIGZwc1RleHQ7XHJcblxyXG4vLyBTaGFwZXNcclxudmFyIGN1YmU7XHJcblxyXG4vLyBwZXJmb3JtYW5jZVxyXG52YXIgcmVuZGVyZXJTdGF0cyA9IG5ldyBUSFJFRXguUmVuZGVyZXJTdGF0cygpO1xyXG5yZW5kZXJlclN0YXRzLmRvbUVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXHJcbnJlbmRlcmVyU3RhdHMuZG9tRWxlbWVudC5zdHlsZS5sZWZ0ID0gJzBweCdcclxucmVuZGVyZXJTdGF0cy5kb21FbGVtZW50LnN0eWxlLmJvdHRvbSA9ICcwcHgnXHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHJlbmRlcmVyU3RhdHMuZG9tRWxlbWVudCApXHJcblxyXG5mdW5jdGlvbiBpbml0KCkge1xyXG4gIGxldCB7IHNjZW5lLCBjYW1lcmEsIHJlbmRlcmVyIH0gPSBzZXR1cFNjcmVlblZpZXcoKTtcclxuICBnbG9iYWxzID0geyBzY2VuZSwgY2FtZXJhLCByZW5kZXJlciB9O1xyXG5cclxuICBnYW1lRW5naW5lID0gbmV3IEdhbWVFbmdpbmUoZ2xvYmFscyk7XHJcbiAgZ2FtZVZpZXcgPSBuZXcgR2FtZVZpZXcoZ2xvYmFscywgZ2FtZUVuZ2luZSk7XHJcblxyXG4gIHNjb3JlVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZScpO1xyXG4gIG1vbmV5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb25leScpO1xyXG4gIGZwc1RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnBzJyk7XHJcblxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGxldCBpbmRleCA9IGdhbWVWaWV3LmdldEN1cnJlbnRQYW5lbEluZGV4KCk7XHJcbiAgICBpZihpbmRleCA+PSAwKSB7XHJcbiAgICAgIGdhbWVFbmdpbmUubXlQbGF5ZXIuc3Bhd25NaW5pb24oaW5kZXgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoKSA9PiB7XHJcbiAgICBnYW1lRW5naW5lLmNvbXB1dGVyLnNwYXduTWluaW9uKDMpO1xyXG4gIH0pO1xyXG5cclxuICByZW5kZXIoKTtcclxufVxyXG5cclxubGV0IGxhc3RUaW1lU3RhbXAgPSAwO1xyXG5mdW5jdGlvbiByZW5kZXIodGltZXN0YW1wKSB7XHJcbiAgbGV0IGRlbHRhID0gdGltZXN0YW1wIC0gbGFzdFRpbWVTdGFtcDtcclxuICBkZWx0YSA9IGRlbHRhIC8gMTAwMDtcclxuICBsYXN0VGltZVN0YW1wID0gdGltZXN0YW1wO1xyXG4gIGxldCBmcHMgPSBNYXRoLnJvdW5kKDEgLyBkZWx0YSk7XHJcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XHJcbiAgZ2FtZVZpZXcucmVuZGVyTG9vcCh0aW1lc3RhbXApO1xyXG5cclxuICB1cGRhdGVVSShmcHMpO1xyXG5cclxuICBnbG9iYWxzLnJlbmRlcmVyLnJlbmRlcihnbG9iYWxzLnNjZW5lLCBnbG9iYWxzLmNhbWVyYSk7XHJcbiAgcmVuZGVyZXJTdGF0cy51cGRhdGUoZ2xvYmFscy5yZW5kZXJlcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVVJKGZwcykge1xyXG4gIHNjb3JlVGV4dC50ZXh0Q29udGVudCA9IGdhbWVFbmdpbmUubXlQbGF5ZXIuc2NvcmU7XHJcbiAgbW9uZXlUZXh0LnRleHRDb250ZW50ID0gZ2FtZUVuZ2luZS5teVBsYXllci5tb25leTtcclxuICBmcHNUZXh0LnRleHRDb250ZW50ID0gZnBzO1xyXG59XHJcblxyXG5pbml0KCk7XHJcbiIsImltcG9ydCB7IGdyaWRXaWR0aCwgZ3JpZExlbmd0aCwgZ3JpZFN1YkRpdiB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFJIHtcclxuXHJcbiAgY29uc3RydWN0b3IoYXJncykge1xyXG4gICAgdGhpcy5kZXRlcm1pbmVBSUZ1bmN0aW9uKGFyZ3MucGVyc29uYWxpdHkpO1xyXG4gICAgdGhpcy5wbGF5ZXIgPSBhcmdzLnBsYXllcjtcclxuICAgIHRoaXMuc3Bhd25JbnRlcnZhbCA9IDIwMDtcclxuICAgIHRoaXMubGFzdFNwYXduID0gMDtcclxuICB9XHJcblxyXG4gIGNhblNwYXduKHRpbWVzdGFtcCkge1xyXG4gICAgcmV0dXJuIHRpbWVzdGFtcCAtIHRoaXMubGFzdFNwYXduID4gdGhpcy5zcGF3bkludGVydmFsO1xyXG4gIH1cclxuXHJcbiAgcnVuTG9vcCh0aW1lc3RhbXAsIG9wcG9uZW50cykge1xyXG4gICAgaWYoIXRoaXMuY2FuU3Bhd24odGltZXN0YW1wKSkgeyByZXR1cm47IH1cclxuXHJcbiAgICBsZXQgc3Bhd25JbmRleCA9IHRoaXMuQUlGdW5jdGlvbihvcHBvbmVudHMpO1xyXG5cclxuICAgIGlmKHNwYXduSW5kZXggPj0gMCkge1xyXG4gICAgICB0aGlzLnBsYXllci5zcGF3bk1pbmlvbihzcGF3bkluZGV4KTtcclxuICAgICAgdGhpcy5sYXN0U3Bhd24gPSB0aW1lc3RhbXA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByYW5kb21BSShvcHBvbmVudHMpIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBncmlkU3ViRGl2KTtcclxuICB9XHJcblxyXG4gIGRlZmVuc2l2ZUFJKG9wcG9uZW50cykge1xyXG4gICAgbGV0IG1hcCA9IHt9O1xyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGdyaWRTdWJEaXY7IGkrKykge1xyXG4gICAgICBtYXBbaV0gPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIG9wcG9uZW50cy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG4gICAgICBtYXBbZW5lbXkuc3RhcnRpbmdaXS0tO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5wbGF5ZXIubWluaW9ucy5mb3JFYWNoKChtaW5pb24pID0+IHtcclxuICAgICAgbWFwW21pbmlvbi5zdGFydGluZ1pdKytcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBzcGF3bkluZGV4ID0gLTE7XHJcbiAgICBsZXQgc3Bhd25WYWx1ZSA9IDEwMDAwMDtcclxuICAgIE9iamVjdC52YWx1ZXMobWFwKS5mb3JFYWNoKCh2YWwsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmKHZhbCA8IHNwYXduVmFsdWUpIHtcclxuICAgICAgICBzcGF3blZhbHVlID0gdmFsO1xyXG4gICAgICAgIHNwYXduSW5kZXggPSBpbmRleFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gc3Bhd25JbmRleDtcclxuICB9XHJcblxyXG4gIGRldGVybWluZUFJRnVuY3Rpb24ocGVyc29uYWxpdHkpIHtcclxuICAgIGlmKHBlcnNvbmFsaXR5KSB7XHJcbiAgICAgIHRoaXMuQUlGdW5jdGlvbiA9IHRoaXNbcGVyc29uYWxpdHldO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5BSUZ1bmN0aW9uID0gdGhpc1tcInJhbmRvbUFJXCJdO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBncmlkV2lkdGgsIGdyaWRMZW5ndGgsIGdyaWRTdWJEaXYgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlIHtcclxuXHJcbiAgY29uc3RydWN0b3IoYXJncykge1xyXG4gICAgdGhpcy5kaXJlY3Rpb24gPSBhcmdzLmRpcmVjdGlvbjtcclxuICAgIHRoaXMuY29sbGlkZXJMaXN0ID0gYXJncy5jb2xsaWRlckxpc3Q7XHJcbiAgICB0aGlzLnBsYXllciA9IGFyZ3MucGxheWVyO1xyXG4gICAgdGhpcy5wbGF5ZXJJZCA9IHRoaXMucGxheWVyLmlkO1xyXG5cclxuICAgIHRoaXMuYmFzZVdpZHRoID0gZ3JpZFdpZHRoO1xyXG4gICAgdGhpcy5iYXNlSGVpZ2h0ID0gMjA7XHJcbiAgICB0aGlzLmJhc2VEZXB0aCA9IDEwO1xyXG5cclxuICAgIHRoaXMubWF4SGVhbHRoID0gNTA7XHJcbiAgICB0aGlzLmhlYWx0aCA9IHRoaXMubWF4SGVhbHRoO1xyXG5cclxuICAgIHRoaXMuaGl0Qm94QnVmZmVyID0gMjtcclxuXHJcbiAgICB0aGlzLmtpbGxSZXdhcmQgPSB7XHJcbiAgICAgIG1vbmV5OiA1NTAsXHJcbiAgICAgIHNjb3JlOiAxMDAwXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5pbml0aWFsaXplVmlldyh0aGlzLmRpcmVjdGlvbik7XHJcbiAgICB0aGlzLnJlZ2lzdGVyQ29sbGlzaW9uKCk7XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplVmlldyhkaXJlY3Rpb24sIGhpdEJveE9wYWNpdHk9LjI1KSB7XHJcbiAgICB0aGlzLnZpZXdPYmogPSBuZXcgVEhSRUUuR3JvdXAoKTtcclxuXHJcbiAgICBsZXQgc2hhcGVHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeShcclxuICAgICAgdGhpcy5iYXNlRGVwdGgsXHJcbiAgICAgIHRoaXMuYmFzZUhlaWdodCxcclxuICAgICAgdGhpcy5iYXNlV2lkdGhcclxuICAgICk7XHJcblxyXG4gICAgbGV0IHNoYXBlTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe2NvbG9yOiAweDAwODgwMCwgc3BlY3VsYXI6IDB4NTU1NTU1LCBzaGluaW5lc3M6IDMwIH0pO1xyXG4gICAgbGV0IHNoYXBlTWVzaCA9IG5ldyBUSFJFRS5NZXNoKHNoYXBlR2VvbWV0cnksIHNoYXBlTWF0ZXJpYWwpO1xyXG5cclxuICAgIGxldCBoaXRHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeShcclxuICAgICAgdGhpcy5iYXNlRGVwdGggKyB0aGlzLmhpdEJveEJ1ZmZlcixcclxuICAgICAgdGhpcy5iYXNlSGVpZ2h0ICsgdGhpcy5oaXRCb3hCdWZmZXIsXHJcbiAgICAgIHRoaXMuYmFzZVdpZHRoICsgdGhpcy5oaXRCb3hCdWZmZXIgXHJcbiAgICApO1xyXG5cclxuICAgIGxldCBoaXRNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IDB4MDBmZmZmLCB0cmFuc3BhcmVudDogdHJ1ZSwgb3BhY2l0eTogaGl0Qm94T3BhY2l0eSB9KTtcclxuICAgIGxldCBoaXRNZXNoID0gbmV3IFRIUkVFLk1lc2goaGl0R2VvbWV0cnksIGhpdE1hdGVyaWFsKTtcclxuXHJcbiAgICB0aGlzLmhlYWx0aEJhciA9IHRoaXMuaW5pdGlhbGl6ZUhlYWx0aEJhcigpO1xyXG4gICAgdGhpcy5oaXRCb3ggPSBoaXRNZXNoO1xyXG5cclxuICAgIHRoaXMudmlld09iai5hZGQoc2hhcGVNZXNoKTtcclxuICAgIHRoaXMudmlld09iai5hZGQoaGl0TWVzaCk7XHJcbiAgICB0aGlzLnZpZXdPYmouYWRkKHRoaXMuaGVhbHRoQmFyKTtcclxuXHJcbiAgICB0aGlzLnZpZXdPYmoucG9zaXRpb24ueCA9ICgoLWdyaWRXaWR0aC8yKSAtICh0aGlzLmJhc2VEZXB0aCAvIDIpKSAqIHRoaXMuZGlyZWN0aW9uO1xyXG4gICAgdGhpcy52aWV3T2JqLnBvc2l0aW9uLnkgPSB0aGlzLmJhc2VIZWlnaHQvMjtcclxuXHJcbiAgICB0aGlzLmhpdEJveC51c2VyRGF0YS5vYmplY3QgPSB0aGlzO1xyXG4gICAgdGhpcy5oaXRCb3gudXNlckRhdGEucGxheWVyID0gdGhpcy5wbGF5ZXI7XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplSGVhbHRoQmFyKCkge1xyXG4gICAgdGhpcy5faGVhbHRoQmFyTGVuZ3RoID0gZ3JpZFdpZHRoIC8gMTA7XHJcbiAgICB0aGlzLl9oZWFsdGhCYXJXaWR0aCA9IGdyaWRXaWR0aCAvIDE1MDtcclxuICAgIGxldCBmdWxsSGVhbHRoQmFyR2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkodGhpcy5faGVhbHRoQmFyTGVuZ3RoLCB0aGlzLl9oZWFsdGhCYXJXaWR0aCwgdGhpcy5faGVhbHRoQmFyV2lkdGgpO1xyXG4gICAgbGV0IGZ1bGxIZWFsdGhCYXJNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IDB4MDBmZjAwfSk7XHJcbiAgICBsZXQgZnVsbEhlYWx0aEJhck1lc2ggPSBuZXcgVEhSRUUuTWVzaChmdWxsSGVhbHRoQmFyR2VvbWV0cnksIGZ1bGxIZWFsdGhCYXJNYXRlcmlhbCk7XHJcbiAgICBmdWxsSGVhbHRoQmFyTWVzaC5uYW1lID0gXCJGdWxsSGVhbHRoQmFyXCI7XHJcblxyXG4gICAgbGV0IGVtcHR5SGVhbHRoQmFyR2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkodGhpcy5faGVhbHRoQmFyTGVuZ3RoICogMC45OSwgdGhpcy5faGVhbHRoQmFyV2lkdGggKiAwLjksIHRoaXMuX2hlYWx0aEJhcldpZHRoICogMC45KTtcclxuICAgIGxldCBlbXB0eUhlYWx0aEJhck1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHhmZjAwMDB9KTtcclxuICAgIGxldCBlbXB0eUhlYWx0aEJhck1lc2ggPSBuZXcgVEhSRUUuTWVzaChlbXB0eUhlYWx0aEJhckdlb21ldHJ5LCBlbXB0eUhlYWx0aEJhck1hdGVyaWFsKTtcclxuICAgIGVtcHR5SGVhbHRoQmFyTWVzaC5uYW1lID0gXCJFbXB0eUhlYWx0aEJhclwiO1xyXG5cclxuICAgIGxldCBoZWFsdGhCYXJHcm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xyXG4gICAgaGVhbHRoQmFyR3JvdXAuYWRkKGZ1bGxIZWFsdGhCYXJNZXNoKTtcclxuICAgIGhlYWx0aEJhckdyb3VwLmFkZChlbXB0eUhlYWx0aEJhck1lc2gpO1xyXG5cclxuICAgIGhlYWx0aEJhckdyb3VwLnBvc2l0aW9uLnkgPSB0aGlzLmJhc2VIZWlnaHQgKyA1O1xyXG5cclxuICAgIHJldHVybiBoZWFsdGhCYXJHcm91cDtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUhlYWx0aEJhcigpIHtcclxuICAgIGxldCBoZWFsdGhQZXJjZW50ID0gdGhpcy5oZWFsdGgvdGhpcy5tYXhIZWFsdGg7XHJcbiAgICBsZXQgaGVhbHRoQmFyT2Zmc2V0ID0gLSgxLWhlYWx0aFBlcmNlbnQpICogdGhpcy5faGVhbHRoQmFyTGVuZ3RoIC8gMjtcclxuICAgIGxldCBmdWxsSGVhbHRoQmFyID0gdGhpcy5oZWFsdGhCYXIuZ2V0T2JqZWN0QnlOYW1lKCdGdWxsSGVhbHRoQmFyJyk7XHJcblxyXG4gICAgZnVsbEhlYWx0aEJhci5zY2FsZS54ID0gaGVhbHRoUGVyY2VudDtcclxuICAgIGZ1bGxIZWFsdGhCYXIucG9zaXRpb24ueCA9IGhlYWx0aEJhck9mZnNldDtcclxuICB9XHJcblxyXG4gIHJlZ2lzdGVyQ29sbGlzaW9uKCkge1xyXG4gICAgdGhpcy5oaXRCb3guZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KClcclxuICAgIGxldCBib3gzID0gdGhpcy5oaXRCb3guZ2VvbWV0cnkuYm91bmRpbmdCb3guY2xvbmUoKTtcclxuICAgIHRoaXMuY29sbGlkZXIgPSBuZXcgVEhSRUV4LkNvbGxpZGVyQm94Myh0aGlzLmhpdEJveCwgYm94Myk7XHJcblxyXG4gICAgdGhpcy5jb2xsaWRlckxpc3QucHVzaCh0aGlzLmNvbGxpZGVyKTtcclxuICB9XHJcblxyXG4gIHJ1bkxvb3AoKSB7XHJcbiAgICB0aGlzLmNvbGxpZGVyLnVwZGF0ZSgpO1xyXG4gICAgdGhpcy51cGRhdGVIZWFsdGhCYXIoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IHhQb3NpdGl2ZSA9IDE7XHJcbmV4cG9ydCBjb25zdCB4TmVnYXRpdmUgPSAtMTtcclxuZXhwb3J0IGNvbnN0IGdyaWRXaWR0aCA9IDY0O1xyXG5leHBvcnQgY29uc3QgZ3JpZFN1YkRpdiA9IDE2O1xyXG4iLCJpbXBvcnQgUGxheWVyIGZyb20gJy4vcGxheWVyJztcclxuaW1wb3J0IEFJIGZyb20gJy4vYWktcGxheWVyJztcclxuaW1wb3J0IHsgYWN0aXZhdGVNZW51IH0gZnJvbSAnLi9tZW51LXNjcmVlbic7XHJcbmltcG9ydCB7IHhQb3NpdGl2ZSwgeE5lZ2F0aXZlLCBncmlkU3ViRGl2IH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUVuZ2luZSB7XHJcbiAgY29uc3RydWN0b3IoYXJncykge1xyXG4gICAgdGhpcy5zdGF0ZSA9IHt9O1xyXG4gICAgdGhpcy5zY2VuZSA9IGFyZ3Muc2NlbmU7XHJcbiAgICB0aGlzLmNhbWVyYSA9IGFyZ3MuY2FtZXJhO1xyXG5cclxuICAgIHRoaXMuY29sbGlkZXJTeXN0ZW0gPSBuZXcgVEhSRUV4LkNvbGxpZGVyU3lzdGVtKCk7XHJcbiAgICB0aGlzLmNvbGxpZGVyTGlzdCA9IFtdO1xyXG5cclxuICAgIHRoaXMucGxheWVySWQgPSAwO1xyXG5cclxuICAgIHRoaXMuaW5pdGlhbGl6ZVBsYXllcnMoKTtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVQbGF5ZXJzKCkge1xyXG4gICAgdGhpcy5teVBsYXllciA9IG5ldyBQbGF5ZXIoe1xyXG4gICAgICB0eXBlOiAnaHVtYW4nLFxyXG4gICAgICBkaXJlY3Rpb246IHhQb3NpdGl2ZSxcclxuICAgICAgY29sbGlkZXJMaXN0OiB0aGlzLmNvbGxpZGVyTGlzdCxcclxuICAgICAgc2NlbmU6dGhpcy5zY2VuZSxcclxuICAgICAgaWQ6IHRoaXMucGxheWVySWQrK1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jb21wdXRlciA9IG5ldyBQbGF5ZXIoe1xyXG4gICAgICB0eXBlOiAnY29tcHV0ZXInLFxyXG4gICAgICBkaXJlY3Rpb246IHhOZWdhdGl2ZSxcclxuICAgICAgY29sbGlkZXJMaXN0OiB0aGlzLmNvbGxpZGVyTGlzdCxcclxuICAgICAgc2NlbmU6IHRoaXMuc2NlbmUsXHJcbiAgICAgIGlkOiB0aGlzLnBsYXllcklkKytcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuQUkgPSBuZXcgQUkoe1xyXG4gICAgICBwbGF5ZXI6IHRoaXMuY29tcHV0ZXIsXHJcbiAgICAgIHBlcnNvbmFsaXR5OiBcImRlZmVuc2l2ZUFJXCJcclxuICAgIH0pO1xyXG5cclxuICAgICAvLyB0aGlzLnBsYXllckFJID0gbmV3IEFJKHtcclxuICAgICAvLyAgIHBsYXllcjogdGhpcy5teVBsYXllclxyXG4gICAgIC8vIH0pO1xyXG5cclxuXHJcbiAgICB0aGlzLnN0YXRlLnBsYXllcnMgPSBbIHRoaXMubXlQbGF5ZXIsIHRoaXMuY29tcHV0ZXIgXTtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVHYW1lT3ZlcigpIHtcclxuICAgIGFjdGl2YXRlTWVudSh7XHJcbiAgICAgIHdpbm5lcjogdGhpcy53aW5uZXJcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZXN0YXJ0KCkge1xyXG4gICAgd2hpbGUodGhpcy5jb2xsaWRlckxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLmNvbGxpZGVyTGlzdC5wb3AoKTtcclxuICAgIH1cclxuICAgIHRoaXMuc3RhdGUucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgIHBsYXllci5yZXNldCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmdhbWVPdmVyID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBnYW1lTG9vcCh0aW1lc3RhbXApIHtcclxuICAgIGlmKHRoaXMuZ2FtZU92ZXIpIHtcclxuICAgIH1cclxuICAgIGlmKHRoaXMuQUkpIHtcclxuICAgICAgdGhpcy5BSS5ydW5Mb29wKHRpbWVzdGFtcCwgdGhpcy5teVBsYXllci5taW5pb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLnBsYXllckFJKSB7XHJcbiAgICAgIHRoaXMucGxheWVyQUkucnVuTG9vcCh0aW1lc3RhbXAsIHRoaXMuY29tcHV0ZXIubWluaW9ucyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnN0YXRlLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICBwbGF5ZXIucnVuTG9vcCh0aW1lc3RhbXApO1xyXG4gICAgICBpZihwbGF5ZXIubG9zdCAmJiAhdGhpcy5nYW1lT3Zlcikge1xyXG4gICAgICAgIHRoaXMuZ2FtZU92ZXIgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMud2lubmVyID0gcGxheWVyLmlkICE9PSB0aGlzLm15UGxheWVyLmlkO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUdhbWVPdmVyKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5jb2xsaWRlclN5c3RlbS5jb21wdXRlQW5kTm90aWZ5KHRoaXMuY29sbGlkZXJMaXN0KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgZ3JpZFdpZHRoLCBncmlkTGVuZ3RoLCBncmlkU3ViRGl2IH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBiaW5kQnV0dG9ucyB9IGZyb20gJy4vbWVudS1zY3JlZW4nO1xyXG5cclxuY29uc3QgcGxhbmVUZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKFwidGV4dHVyZXMvc3RvbmUuanBnXCIpO1xyXG5wbGFuZVRleHR1cmUucmVwZWF0LnNldCgxMCwxMCk7XHJcbnBsYW5lVGV4dHVyZS53cmFwUyA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xyXG5wbGFuZVRleHR1cmUud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVmlldyB7XHJcbiAgY29uc3RydWN0b3IoZ2xvYmFscywgZ2FtZUVuZ2luZSkge1xyXG4gICAgdGhpcy5zY2VuZSA9IGdsb2JhbHMuc2NlbmU7XHJcbiAgICB0aGlzLmNhbWVyYSA9IGdsb2JhbHMuY2FtZXJhO1xyXG4gICAgdGhpcy5yZW5kZXJlciA9IGdsb2JhbHMucmVuZGVyZXI7XHJcblxyXG4gICAgdGhpcy5nYW1lRW5naW5lID0gZ2FtZUVuZ2luZTtcclxuXHJcbiAgICB0aGlzLnNldHVwR3JpZCgpO1xyXG4gICAgdGhpcy5zZXR1cExpZ2h0KCk7XHJcblxyXG4gICAgdGhpcy5tb3VzZSA9IHsgeDogLTEwMDAwLCB5OiAwIH07XHJcblxyXG4gICAgbGV0IHBvc2l0aW9uU2NhbGUgPSBncmlkV2lkdGggLyAyO1xyXG5cclxuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAyICogcG9zaXRpb25TY2FsZTtcclxuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnkgPSAxLjUgKiBwb3NpdGlvblNjYWxlO1xyXG4gICAgdGhpcy5jYW1lcmEubG9va0F0KHRoaXMuc2NlbmUucG9zaXRpb24pO1xyXG5cclxuXHJcbiAgICB0aGlzLnJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKTtcclxuICAgIHRoaXMuY3VycmVudEhvdmVyZWRQYW5lbCA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5zZXR1cE1vdXNlRXZlbnQoKTtcclxuICAgIGJpbmRCdXR0b25zKHRoaXMuZ2FtZUVuZ2luZSk7XHJcbiAgfVxyXG5cclxuICBzZXR1cExpZ2h0KCkge1xyXG4gICAgbGV0IGxpZ2h0QW1iaWVudCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHg2NjY2NjYsIDMpO1xyXG4gICAgbGV0IGxpZ2h0U291cmNlID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoMHg4ODg4ODgpO1xyXG5cclxuICAgIGxpZ2h0U291cmNlLnBvc2l0aW9uLnNldCgzLCAzLCAzKTtcclxuXHJcbiAgICB0aGlzLnNjZW5lLmFkZChsaWdodEFtYmllbnQpO1xyXG4gICAgdGhpcy5zY2VuZS5hZGQobGlnaHRTb3VyY2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0dXBHcmlkKCkge1xyXG4gICAgbGV0IHRleHR1cmVkU3VyZmFjZUdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoZ3JpZFdpZHRoLCBncmlkV2lkdGgpO1xyXG4gICAgbGV0IHRleHR1cmVkU3VyZmFjZU1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHttYXA6IHBsYW5lVGV4dHVyZX0pO1xyXG4gICAgbGV0IHRleHR1cmVkU3VyZmFjZSA9IG5ldyBUSFJFRS5NZXNoKHRleHR1cmVkU3VyZmFjZUdlb21ldHJ5LCB0ZXh0dXJlZFN1cmZhY2VNYXRlcmlhbCk7XHJcbiAgICB0ZXh0dXJlZFN1cmZhY2Uucm90YXRpb24ueCA9IC0wLjUgKiBNYXRoLlBJO1xyXG4gICAgdGV4dHVyZWRTdXJmYWNlLnBvc2l0aW9uLnkgPSAtMC4zO1xyXG4gICAgdGhpcy5zY2VuZS5hZGQodGV4dHVyZWRTdXJmYWNlKTtcclxuXHJcbiAgICBsZXQgZ3JpZCA9IG5ldyBUSFJFRS5HcmlkSGVscGVyKGdyaWRXaWR0aCwgZ3JpZFN1YkRpdik7XHJcbiAgICB0aGlzLnNjZW5lLmFkZChncmlkKTtcclxuXHJcbiAgICB0aGlzLmdyaWRQYW5lbHMgPSB7fTtcclxuXHJcbiAgICBsZXQgcGFuZWxMZW5ndGggPSBncmlkV2lkdGggLyBncmlkU3ViRGl2O1xyXG4gICAgbGV0IHpQb3MgPSAoKGdyaWRXaWR0aCAvIDIpIC0gcGFuZWxMZW5ndGggLyAyKSAqIC0xO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBncmlkU3ViRGl2OyBpKyspIHtcclxuICAgICAgbGV0IHBsYW5lR2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeShncmlkV2lkdGgsIHBhbmVsTGVuZ3RoKTtcclxuICAgICAgbGV0IHBsYW5lTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe3RyYW5zcGFyZW50OiB0cnVlLCBvcGFjaXR5OiAwfSk7XHJcbiAgICAgIGxldCBwbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHBsYW5lR2VvbWV0cnksIHBsYW5lTWF0ZXJpYWwpO1xyXG4gICAgICBwbGFuZS5yb3RhdGlvbi54ID0gLTAuNSAqIE1hdGguUEk7XHJcbiAgICAgIHBsYW5lLnBvc2l0aW9uLnogPSB6UG9zO1xyXG4gICAgICBwbGFuZS5wb3NpdGlvbi55ID0gLTAuMjtcclxuICAgICAgdGhpcy5zY2VuZS5hZGQocGxhbmUpO1xyXG4gICAgICB0aGlzLmdyaWRQYW5lbHNbaV0gPSBwbGFuZTtcclxuXHJcbiAgICAgIHpQb3MgKz0gcGFuZWxMZW5ndGg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGVja0dyaWRJbnRlcnNlY3Rpb25zKCkge1xyXG4gICAgdGhpcy5yYXljYXN0ZXIuc2V0RnJvbUNhbWVyYSh0aGlzLm1vdXNlLCB0aGlzLmNhbWVyYSk7XHJcbiAgICBsZXQgcGxhbmVzID0gT2JqZWN0LnZhbHVlcyh0aGlzLmdyaWRQYW5lbHMpO1xyXG4gICAgbGV0IGludGVyc2VjdHMgPSB0aGlzLnJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKHBsYW5lcyk7XHJcblxyXG4gICAgcGxhbmVzLmZvckVhY2goKHBhbmVsKSA9PiB7XHJcbiAgICAgIHBhbmVsLm1hdGVyaWFsLmNvbG9yLnNldEhleCgweDY2NjY2Nik7XHJcbiAgICAgIHBhbmVsLm1hdGVyaWFsLm9wYWNpdHkgPSAwO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYoaW50ZXJzZWN0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGxldCBvYmogPSBpbnRlcnNlY3RzWzBdLm9iamVjdDtcclxuXHJcbiAgICAgIG9iai5tYXRlcmlhbC5jb2xvci5zZXRIZXgoMHhmZjAwMDApOyAgICAgIFxyXG4gICAgICBvYmoubWF0ZXJpYWwub3BhY2l0eSA9IC41O1xyXG4gICAgICB0aGlzLmN1cnJlbnRIb3ZlcmVkUGFuZWwgPSBvYmo7XHJcbiAgICB9IGVsc2UgaWYodGhpcy5jdXJyZW50SG92ZXJlZFBhbmVsKXtcclxuICAgICAgdGhpcy5jdXJyZW50SG92ZXJlZFBhbmVsID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRQYW5lbEluZGV4KCkge1xyXG4gICAgaWYoIXRoaXMuY3VycmVudEhvdmVyZWRQYW5lbCkgeyByZXR1cm47IH1cclxuXHJcbiAgICBsZXQgcGxhbmVzID0gT2JqZWN0LnZhbHVlcyh0aGlzLmdyaWRQYW5lbHMpO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBncmlkU3ViRGl2OyBpKyspIHtcclxuICAgICAgaWYodGhpcy5jdXJyZW50SG92ZXJlZFBhbmVsID09PSBwbGFuZXNbaV0pIHtcclxuICAgICAgICByZXR1cm4gaTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIHNldHVwTW91c2VFdmVudCgpIHtcclxuICAgIGxldCBtb3VzZSA9IHRoaXMubW91c2U7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGV2dCA9PiB7XHJcbiAgICAgIG1vdXNlLnggPSAoIGV2ZW50LmNsaWVudFggLyB3aW5kb3cuaW5uZXJXaWR0aCApICogMiAtIDE7XHJcbiAgICAgIG1vdXNlLnkgPSAtICggZXZlbnQuY2xpZW50WSAvIHdpbmRvdy5pbm5lckhlaWdodCApICogMiArIDE7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlckxvb3AodGltZXN0YW1wKSB7XHJcbiAgICB0aGlzLmNoZWNrR3JpZEludGVyc2VjdGlvbnMoKTtcclxuICAgIHRoaXMuZ2FtZUVuZ2luZS5nYW1lTG9vcCh0aW1lc3RhbXApO1xyXG4gIH1cclxufSBcclxuIiwibGV0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsJyk7XHJcbmxldCBzdGFydFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRNb2RhbCcpO1xyXG5sZXQgcmVzdGFydFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGFydE1vZGFsJyk7XHJcbmZ1bmN0aW9uIGFjdGl2YXRlU3RhcnRTY3JlZW4oKSB7XHJcbiAgc3RhcnRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ21vZGFsLS12aXNpYmxlJyk7XHJcbiAgcmVzdGFydFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtLXZpc2libGUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWN0aXZhdGVSZXN0YXJ0U2NyZWVuKHdpbm5lcikge1xyXG4gIHN0YXJ0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC0tdmlzaWJsZScpO1xyXG4gIHJlc3RhcnRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ21vZGFsLS12aXNpYmxlJyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhY3RpdmF0ZU1lbnUoYXJncykge1xyXG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsLS12aXNpYmxlJyk7XHJcblxyXG4gIGlmKGFyZ3Mud2lubmVyICE9PSBudWxsKSB7XHJcbiAgICBhY3RpdmF0ZVJlc3RhcnRTY3JlZW4oYXJncy53aW5uZXIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhY3RpdmF0ZVN0YXJ0U2NyZWVuKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VNZW51KGFyZ3MpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC0tdmlzaWJsZScpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmluZEJ1dHRvbnMoZ2FtZUVuZ2luZSkge1xyXG4gIHN0YXJ0U2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHJcbiAgfSk7XHJcblxyXG4gIHJlc3RhcnRTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgZ2FtZUVuZ2luZS5yZXN0YXJ0KCk7XHJcbiAgICBjbG9zZU1lbnUoKTtcclxuICB9KTtcclxufVxyXG4iLCJpbXBvcnQgeyBncmlkV2lkdGgsIGdyaWRMZW5ndGgsIGdyaWRTdWJEaXYgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaW5pb24ge1xyXG4gIGNvbnN0cnVjdG9yKGFyZ3MpIHtcclxuICAgIHRoaXMuZGlyZWN0aW9uID0gYXJncy5kaXJlY3Rpb247XHJcbiAgICB0aGlzLmNvbGxpZGVyTGlzdCA9IGFyZ3MuY29sbGlkZXJMaXN0O1xyXG4gICAgdGhpcy5pZCA9IGFyZ3MuaWQ7XHJcbiAgICB0aGlzLnBsYXllcklkID0gYXJncy5wbGF5ZXJJZDtcclxuICAgIHRoaXMucGxheWVyID0gYXJncy5wbGF5ZXI7XHJcbiAgICB0aGlzLnN0YXJ0aW5nWiA9IGFyZ3Muc3RhcnRpbmdaO1xyXG4gICAgdGhpcy5zY2VuZSA9IGFyZ3Muc2NlbmU7XHJcblxyXG4gICAgdGhpcy5tYXhIZWFsdGggPSAxMDtcclxuICAgIHRoaXMuaGVhbHRoID0gdGhpcy5tYXhIZWFsdGg7XHJcbiAgICB0aGlzLmF0dGFja1N0cmVuZ3RoID0gMztcclxuICAgIHRoaXMuYXR0YWNrU3BlZWQgPSAxMDA7XHJcblxyXG4gICAgdGhpcy5kZWZhdWx0U3BlZWQgPSAxO1xyXG4gICAgdGhpcy5zcGVlZCA9IHRoaXMuZGVmYXVsdFNwZWVkO1xyXG4gICAgdGhpcy5hdHRhY2tQcm9wZXJ0aWVzID0ge1xyXG4gICAgICBsYXN0VGltZVN0YW1wOiBudWxsLFxyXG4gICAgICBhdHRhY2tUaW1lOiAwXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMua2lsbFJld2FyZCA9IHtcclxuICAgICAgbW9uZXk6IDE1LFxyXG4gICAgICBzY29yZTogMTBcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRlc3Ryb3kgPSBmYWxzZTtcclxuICAgIHRoaXMuYXR0YWNrID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5pbml0aWFsaXplVmlldyh0aGlzLnN0YXJ0aW5nWik7XHJcbiAgICB0aGlzLnJlZ2lzdGVyQ29sbGlzaW9uKCk7XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplVmlldyhzdGFydGluZ1osIGhpdEJveE9wYWNpdHk9LjI1KSB7XHJcbiAgICB0aGlzLnZpZXdPYmogPSBuZXcgVEhSRUUuR3JvdXAoKTsgICAgXHJcblxyXG4gICAgbGV0IGhpdEdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDMsOCwzKTtcclxuICAgIGxldCBoaXRNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IDB4MDBmZmZmLCB0cmFuc3BhcmVudDogdHJ1ZSwgb3BhY2l0eTogaGl0Qm94T3BhY2l0eSB9KTtcclxuICAgIGxldCBoaXRNZXNoID0gbmV3IFRIUkVFLk1lc2goaGl0R2VvbWV0cnksIGhpdE1hdGVyaWFsKTtcclxuXHJcbiAgICB0aGlzLmhlYWx0aEJhciA9IHRoaXMuaW5pdGlhbGl6ZUhlYWx0aEJhcigpO1xyXG5cclxuICAgIC8vdGhpcy52aWV3T2JqLmFkZChzaGFwZU1lc2gpO1xyXG4gICAgLy90aGlzLnZpZXdPYmouYWRkKGhpdE1lc2gpO1xyXG4gICAgLy90aGlzLnZpZXdPYmouYWRkKHRoaXMuaGVhbHRoQmFyKTtcclxuXHJcbiAgICBoaXRNZXNoLmFkZCh0aGlzLmhlYWx0aEJhcik7XHJcbiAgICB0aGlzLnZpZXdPYmogPSBoaXRNZXNoO1xyXG4gICAgdGhpcy5oaXRCb3ggPSB0aGlzLnZpZXdPYmo7XHJcblxyXG4gICAgbGV0IHogPSAoKHN0YXJ0aW5nWiAqIChncmlkV2lkdGggLyBncmlkU3ViRGl2KSkgLSAoZ3JpZFdpZHRoIC8gMikpICsgKGdyaWRXaWR0aCAvIGdyaWRTdWJEaXYgLyAyKTtcclxuICAgIGxldCB4ID0gKGdyaWRXaWR0aCAvIDIpICogLXRoaXMuZGlyZWN0aW9uO1xyXG4gICAgdGhpcy52aWV3T2JqLnBvc2l0aW9uLnogPSB6O1xyXG4gICAgdGhpcy52aWV3T2JqLnBvc2l0aW9uLnggPSB4O1xyXG4gICAgdGhpcy52aWV3T2JqLnBvc2l0aW9uLnkgPSA0O1xyXG5cclxuICAgIHRoaXMuaGl0Qm94LnVzZXJEYXRhLm9iamVjdCA9IHRoaXM7XHJcbiAgICB0aGlzLmhpdEJveC51c2VyRGF0YS5wbGF5ZXIgPSB0aGlzLnBsYXllcjtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVIZWFsdGhCYXIoKSB7XHJcbiAgICB0aGlzLl9oZWFsdGhCYXJXaWR0aCA9IDI7XHJcbiAgICBsZXQgZnVsbEhlYWx0aEJhckdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KHRoaXMuX2hlYWx0aEJhcldpZHRoLCAwLjMsIDAuMyk7XHJcbiAgICBsZXQgZnVsbEhlYWx0aEJhck1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHgwMGZmMDB9KTtcclxuICAgIGxldCBmdWxsSGVhbHRoQmFyTWVzaCA9IG5ldyBUSFJFRS5NZXNoKGZ1bGxIZWFsdGhCYXJHZW9tZXRyeSwgZnVsbEhlYWx0aEJhck1hdGVyaWFsKTtcclxuICAgIGZ1bGxIZWFsdGhCYXJNZXNoLm5hbWUgPSBcIkZ1bGxIZWFsdGhCYXJcIjtcclxuXHJcbiAgICBsZXQgZW1wdHlIZWFsdGhCYXJHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSh0aGlzLl9oZWFsdGhCYXJXaWR0aCwgMC4yLCAwLjIpO1xyXG4gICAgbGV0IGVtcHR5SGVhbHRoQmFyTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweGZmMDAwMH0pO1xyXG4gICAgbGV0IGVtcHR5SGVhbHRoQmFyTWVzaCA9IG5ldyBUSFJFRS5NZXNoKGVtcHR5SGVhbHRoQmFyR2VvbWV0cnksIGVtcHR5SGVhbHRoQmFyTWF0ZXJpYWwpO1xyXG4gICAgZW1wdHlIZWFsdGhCYXJNZXNoLm5hbWUgPSBcIkVtcHR5SGVhbHRoQmFyXCI7XHJcblxyXG4gICAgbGV0IGhlYWx0aEJhckdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XHJcbiAgICBoZWFsdGhCYXJHcm91cC5hZGQoZnVsbEhlYWx0aEJhck1lc2gpO1xyXG4gICAgaGVhbHRoQmFyR3JvdXAuYWRkKGVtcHR5SGVhbHRoQmFyTWVzaCk7XHJcblxyXG4gICAgaGVhbHRoQmFyR3JvdXAucG9zaXRpb24ueSA9IDQ7XHJcblxyXG4gICAgcmV0dXJuIGhlYWx0aEJhckdyb3VwO1xyXG4gIH1cclxuXHJcbiAgaXNPYmplY3RMb2FkZWQob2JqKSB7XHJcbiAgICByZXR1cm4gKG9iai5wb3NpdGlvbi54ID09PSAwICYmIG9iai5wb3NpdGlvbi55ID09PSAwICYmIG9iai5wb3NpdGlvbi56ID09PSAwKTtcclxuICB9XHJcblxyXG4gIHJlZ2lzdGVyQ29sbGlzaW9uKCkge1xyXG4gICAgdGhpcy5oaXRCb3guZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KClcclxuICAgIGxldCBib3gzID0gdGhpcy5oaXRCb3guZ2VvbWV0cnkuYm91bmRpbmdCb3guY2xvbmUoKTtcclxuICAgIHRoaXMuY29sbGlkZXIgPSBuZXcgVEhSRUV4LkNvbGxpZGVyQm94Myh0aGlzLmhpdEJveCwgYm94Myk7XHJcblxyXG4gICAgdGhpcy5jb2xsaWRlckxpc3QucHVzaCh0aGlzLmNvbGxpZGVyKTtcclxuXHJcbiAgICB0aGlzLmNvbGxpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRhY3RFbnRlcicsIChvdGhlckNvbGxpZGVyKSA9PiB7XHJcbiAgICAgIGlmKG90aGVyQ29sbGlkZXIub2JqZWN0M2QudXNlckRhdGEucGxheWVyLmlkID09PSB0aGlzLnBsYXllcklkKSB7IHJldHVybjsgfVxyXG5cclxuICAgICAgdGhpcy5zcGVlZCA9IDA7XHJcbiAgICAgIHRoaXMuYXR0YWNrID0gdHJ1ZTtcclxuICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gb3RoZXJDb2xsaWRlci5vYmplY3QzZC51c2VyRGF0YS5vYmplY3Q7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmNvbGxpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRhY3RTdGF5JywgKG90aGVyQ29sbGlkZXIpID0+IHtcclxuICAgICAgaWYob3RoZXJDb2xsaWRlci5vYmplY3QzZC51c2VyRGF0YS5wbGF5ZXIuaWQgPT09IHRoaXMucGxheWVySWQpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgICBpZih0aGlzLmN1cnJlbnRUYXJnZXQgPT09IG51bGwpIHtcclxuICAgICAgICB0aGlzLnNwZWVkID0gMDtcclxuICAgICAgICB0aGlzLmF0dGFjayA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gb3RoZXJDb2xsaWRlci5vYmplY3QzZC51c2VyRGF0YS5vYmplY3Q7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY29sbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udGFjdFJlbW92ZWQnLCAob3RoZXJDb2xsaWRlcikgPT4ge1xyXG4gICAgICB0aGlzLnNwZWVkID0gdGhpcy5kZWZhdWx0U3BlZWQ7XHJcbiAgICAgIHRoaXMuYXR0YWNrID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldEF0dGFja1ZhbHVlKCkge1xyXG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiB0aGlzLmF0dGFja1N0cmVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlSGVhbHRoQmFyKCkge1xyXG4gICAgbGV0IGhlYWx0aFBlcmNlbnQgPSB0aGlzLmhlYWx0aC90aGlzLm1heEhlYWx0aDtcclxuICAgIGxldCBoZWFsdGhCYXJPZmZzZXQgPSAtKDEtaGVhbHRoUGVyY2VudCkgKiB0aGlzLl9oZWFsdGhCYXJXaWR0aCAvIDI7XHJcbiAgICBsZXQgZnVsbEhlYWx0aEJhciA9IHRoaXMuaGVhbHRoQmFyLmdldE9iamVjdEJ5TmFtZSgnRnVsbEhlYWx0aEJhcicpO1xyXG5cclxuICAgIGZ1bGxIZWFsdGhCYXIuc2NhbGUueCA9IGhlYWx0aFBlcmNlbnQ7XHJcbiAgICBmdWxsSGVhbHRoQmFyLnBvc2l0aW9uLnggPSBoZWFsdGhCYXJPZmZzZXQ7XHJcbiAgfVxyXG5cclxuICBydW5Mb29wKHRpbWVzdGFtcCkge1xyXG5cclxuICAgIHRoaXMuYXR0YWNrUHJvY2VkdXJlKHRpbWVzdGFtcCk7XHJcbiAgICB0aGlzLnZpZXdPYmoucG9zaXRpb24ueCArPSAodGhpcy5zcGVlZCAqIHRoaXMuZGlyZWN0aW9uKTtcclxuXHJcbiAgICB0aGlzLmNvbGxpZGVyLnVwZGF0ZSgpO1xyXG4gICAgdGhpcy51cGRhdGVIZWFsdGhCYXIoKTtcclxuICB9XHJcblxyXG4gIGF0dGFja1Byb2NlZHVyZSh0aW1lc3RhbXApIHtcclxuICAgIGlmKHRoaXMuaGVhbHRoIDw9IDApIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgaWYodGhpcy5hdHRhY2tQcm9wZXJ0aWVzLmxhc3RUaW1lU3RhbXAgIT0gbnVsbCAmJiB0aGlzLmF0dGFjaykge1xyXG4gICAgICBsZXQgZGVsdGEgPSB0aW1lc3RhbXAgLSB0aGlzLmF0dGFja1Byb3BlcnRpZXMubGFzdFRpbWVTdGFtcDtcclxuICAgICAgdGhpcy5hdHRhY2tQcm9wZXJ0aWVzLmF0dGFja1RpbWUgKz0gZGVsdGE7XHJcbiAgICAgIHRoaXMuYXR0YWNrUHJvcGVydGllcy5sYXN0VGltZVN0YW1wID0gdGltZXN0YW1wO1xyXG4gICAgICB0aGlzLmF0dGFja0xvb3AoKTtcclxuICAgIH0gZWxzZSBpZih0aGlzLmF0dGFjaykge1xyXG4gICAgICB0aGlzLmF0dGFja1Byb3BlcnRpZXMuYXR0YWNrVGltZSA9IDA7XHJcbiAgICAgIHRoaXMuYXR0YWNrUHJvcGVydGllcy5sYXN0VGltZVN0YW1wID0gdGltZXN0YW1wO1xyXG4gICAgICB0aGlzLmF0dGFja0xvb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmF0dGFja1Byb3BlcnRpZXMubGFzdFRpbWVTdGFtcCA9IHRpbWVzdGFtcDtcclxuICB9XHJcblxyXG4gIGF0dGFja0xvb3AoKSB7XHJcbiAgICBpZih0aGlzLmN1cnJlbnRUYXJnZXQgPT09IG51bGwgfHwgdGhpcy5jdXJyZW50VGFyZ2V0LnBsYXllcklkID09PSB0aGlzLnBsYXllcklkKSB7IHJldHVybjsgfVxyXG4gICAgaWYodGhpcy5hdHRhY2tQcm9wZXJ0aWVzLmF0dGFja1RpbWUgPCB0aGlzLmF0dGFja1NwZWVkKSB7IHJldHVybjsgfVxyXG5cclxuICAgIHRoaXMuY3VycmVudFRhcmdldC5oZWFsdGggLT0gdGhpcy5nZXRBdHRhY2tWYWx1ZSgpO1xyXG5cclxuICAgIGlmKHRoaXMuY3VycmVudFRhcmdldC5oZWFsdGggPD0gMCkge1xyXG4gICAgICB0aGlzLnBsYXllci5wcm9jZXNzUmV3YXJkKHRoaXMuY3VycmVudFRhcmdldC5raWxsUmV3YXJkKTtcclxuXHJcbiAgICAgIHRoaXMuY3VycmVudFRhcmdldC5hdHRhY2sgPSBmYWxzZTtcclxuICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0LmRlc3Ryb3kgPSB0cnVlO1xyXG4gICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYXR0YWNrUHJvcGVydGllcy5hdHRhY2tUaW1lID0gMDtcclxuICAgIHRoaXMuYXR0YWNrUHJvcGVydGllcy5sYXN0VGltZVN0YW1wID0gbnVsbDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IE1pbmlvbiBmcm9tICcuL21pbmlvbic7XHJcbmltcG9ydCBCYXNlIGZyb20gJy4vYmFzZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIge1xyXG5cclxuICBjb25zdHJ1Y3RvcihhcmdzKSB7XHJcbiAgICB0aGlzLnR5cGUgPSBhcmdzLnR5cGU7XHJcbiAgICB0aGlzLmlkID0gYXJncy5pZDtcclxuICAgIHRoaXMuZGlyZWN0aW9uID0gYXJncy5kaXJlY3Rpb247XHJcbiAgICB0aGlzLmNvbGxpZGVyTGlzdCA9IGFyZ3MuY29sbGlkZXJMaXN0O1xyXG4gICAgdGhpcy5zY2VuZSA9IGFyZ3Muc2NlbmU7XHJcbiAgICB0aGlzLm1pbmlvbklkID0gMDtcclxuXHJcbiAgICB0aGlzLnNldHVwR2FtZVN0YXRlKCk7XHJcbiAgICB0aGlzLnNwYXduQmFzZSgpO1xyXG4gIH1cclxuXHJcbiAgc3Bhd25CYXNlKCkge1xyXG4gICAgdGhpcy5iYXNlID0gbmV3IEJhc2Uoe1xyXG4gICAgICBkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uLFxyXG4gICAgICBjb2xsaWRlckxpc3Q6IHRoaXMuY29sbGlkZXJMaXN0LFxyXG4gICAgICBwbGF5ZXI6IHRoaXNcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuYmFzZS52aWV3T2JqKTtcclxuICB9XHJcblxyXG4gIHNwYXduTWluaW9uKGluZGV4KSB7XHJcbiAgICBpZih0aGlzLm1vbmV5ID49IHRoaXMubWluaW9uQ29zdCkge1xyXG4gICAgICB0aGlzLm1vbmV5IC09IHRoaXMubWluaW9uQ29zdDtcclxuXHJcbiAgICAgIGxldCBtaW5pb24gPSBuZXcgTWluaW9uKHtcclxuICAgICAgICBpZDogdGhpcy5taW5pb25JZCsrLFxyXG4gICAgICAgIHBsYXllcklkOiB0aGlzLmlkLFxyXG4gICAgICAgIGRpcmVjdGlvbjogdGhpcy5kaXJlY3Rpb24sXHJcbiAgICAgICAgc3RhcnRpbmdaOiBpbmRleCxcclxuICAgICAgICBjb2xsaWRlckxpc3Q6IHRoaXMuY29sbGlkZXJMaXN0LFxyXG4gICAgICAgIHBsYXllcjogdGhpc1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMubWluaW9ucy5wdXNoKG1pbmlvbik7XHJcbiAgICAgIGxldCBzaGFwZUdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDIsMiwyKTtcclxuICAgICAgbGV0IGxvYWRlciA9IG5ldyBUSFJFRS5PYmplY3RMb2FkZXIoKTtcclxuICAgICAgbG9hZGVyLmxvYWQoJy4uLy4uL2dlb21ldHJ5L21vZGVsLmpzb24nLCAob2JqKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cobWluaW9uKTtcclxuICAgICAgICBvYmoucG9zaXRpb24ueSA9IC00O1xyXG4gICAgICAgIG1pbmlvbi52aWV3T2JqLmFkZChvYmopO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKG1pbmlvbi52aWV3T2JqKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcm9jZXNzUmV3YXJkKHJld2FyZCkge1xyXG4gICAgbGV0IHQgPSB0aGlzO1xyXG4gICAgT2JqZWN0LmtleXMocmV3YXJkKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgdFtrZXldICs9IHJld2FyZFtrZXldO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBydW5Mb29wKHRpbWVzdGFtcCkge1xyXG4gICAgaWYodGhpcy5iYXNlICE9PSBudWxsKSB7IFxyXG4gICAgICB0aGlzLmJhc2UucnVuTG9vcCgpO1xyXG4gICAgICBpZih0aGlzLmJhc2UuZGVzdHJveSkgeyB0aGlzLmRlc3Ryb3lCYXNlKCk7IH0gXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5taW5pb25zLmZvckVhY2goKG1pbmlvbiwgaW5kZXgpID0+IHtcclxuICAgICAgbWluaW9uLnJ1bkxvb3AodGltZXN0YW1wKTtcclxuICAgICAgaWYobWluaW9uLmRlc3Ryb3kpIHsgdGhpcy5kZXN0cm95TWluaW9uKG1pbmlvbiwgaW5kZXgpOyB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3lNaW5pb24obWluaW9uLCBpbmRleCkge1xyXG4gICAgdGhpcy5zY2VuZS5yZW1vdmUobWluaW9uLnZpZXdPYmopO1xyXG5cclxuICAgIHRoaXMuY29sbGlkZXJMaXN0LnNwbGljZSh0aGlzLmZpbmRDb2xsaWRlckluZGV4KG1pbmlvbi5jb2xsaWRlci5pZCksIDEpO1xyXG5cclxuICAgIHRoaXMubWluaW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveUJhc2UoKSB7XHJcbiAgICB0aGlzLnNjZW5lLnJlbW92ZSh0aGlzLmJhc2Uudmlld09iaik7XHJcbiAgICB0aGlzLmNvbGxpZGVyTGlzdC5zcGxpY2UodGhpcy5maW5kQ29sbGlkZXJJbmRleCh0aGlzLmJhc2UuY29sbGlkZXIuaWQpLCAxKTtcclxuICAgIHRoaXMuYmFzZSA9IG51bGw7XHJcbiAgICB0aGlzLmxvc3QgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZmluZENvbGxpZGVySW5kZXgoaWQpIHtcclxuICAgIGxldCBpbmRleCA9IC0xO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2xsaWRlckxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYodGhpcy5jb2xsaWRlckxpc3RbaV0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgaW5kZXggPSBpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGluZGV4O1xyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLm1pbmlvbnMuZm9yRWFjaChtaW5pb24gPT4ge1xyXG4gICAgICB0aGlzLnNjZW5lLnJlbW92ZShtaW5pb24udmlld09iaik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZih0aGlzLmJhc2UpIHtcclxuICAgICAgdGhpcy5zY2VuZS5yZW1vdmUodGhpcy5iYXNlLnZpZXdPYmopO1xyXG4gICAgICB0aGlzLmJhc2UgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3Bhd25CYXNlKCk7XHJcbiAgICB0aGlzLnNldHVwR2FtZVN0YXRlKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgc2V0dXBHYW1lU3RhdGUoKSB7XHJcbiAgICB0aGlzLm1pbmlvbnMgPSBbXTtcclxuICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgdGhpcy5tb25leSA9IDQwMDtcclxuICAgIHRoaXMubWluaW9uQ29zdCA9IDIwO1xyXG4gICAgdGhpcy5sb3N0ID0gZmFsc2U7XHJcbiAgfVxyXG59XHJcbiIsImZ1bmN0aW9uIGhhbmRsZVJlc2l6ZShyZW5kZXJlciwgY2FtZXJhKXtcclxuICBsZXQgdyA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gIGxldCBoID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gIHJlbmRlcmVyLnNldFNpemUodyxoKTtcclxuICBjYW1lcmEuYXNwZWN0ID0gdy9oO1xyXG4gIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldHVwUmVzaXppbmcocmVuZGVyZXIsIGNhbWVyYSkge1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICBoYW5kbGVSZXNpemUocmVuZGVyZXIsIGNhbWVyYSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXR1cFNjcmVlblZpZXcoKSB7XHJcbiAgbGV0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XHJcbiAgbGV0IGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg3NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMSwgMTAwMCk7XHJcbiAgbGV0IHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcclxuXHJcbiAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xyXG5cclxuICBzZXR1cFJlc2l6aW5nKHJlbmRlcmVyLCBjYW1lcmEpO1xyXG5cclxuICByZXR1cm4geyBzY2VuZSwgY2FtZXJhLCByZW5kZXJlciB9O1xyXG59XHJcbiJdfQ==\n"]}