{"version":3,"sources":["app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","render","timestamp","requestAnimationFrame","gameView","renderLoop","globals","renderer","scene","camera","performance","rendererStats","update","_view","_gameEngine","_gameEngine2","_gameView","_gameView2","gameEngine","_setupScreenView","setupScreenView","setupPerformance","./modules/game-engine","./modules/game-view","./modules/view","2","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_constants","Array","unique","this","filter","index","self","indexOf","AI","args","determineAIFunction","personality","player","spawnInterval","lastSpawn","poppulationLimit","opponents","canSpawn","spawnIndex","AIFunction","minions","spawnMinion","Math","floor","random","gridSubDiv","friendlies","startingPos","spawnPos","friendlyMap","map","m","row","startingZ","distance","getPosition","x","opponentMap","rowArray","push","decision","hasFriendlies","closestIndex","closestVal","distanceTies","forEach","val","idx","fullIdxArr","slice","gaps","arrayToUse","gridWidth","enemy","minion","spawnValue","values","./constants","3","_constants2","Archer","playerId","id","colliderList","direction","startingY","startingX","targetList","arrows","startingRotation","_90deg","PI","_135deg","animationProperties","arm","startingAngle","endingAngle","angleDifference","speedDown","speedUp","lastAnimate","arrowSpeed","attackProperties","lastAttack","attackSpeed","archer","baseAttackSpeed","baseArrowSpeed","attackStrength","baseAttack","arrowId","initializeView","registerCollision","hitBoxOpacity","arguments","undefined","viewObj","THREE","Group","bodyG","BoxGeometry","bodyMat","MeshBasicMaterial","color","body","Mesh","hitBoxG","material","transparent","opacity","depthWrite","hitBox","userData","object","ranged","add","position","set","_this","geometry","computeBoundingBox","box3","boundingBox","clone","collider","THREEx","ColliderBox3","addEventListener","otherCollider","object3d","immuneToRange","findColliderIndex","splice","determineTarget","removeTarget","initiateAttack","recharging","_this2","canAttack","nextTarget","callback","health","getAttackValue","processReward","killReward","attack","destroy","_this3","arrowG","SphereGeometry","arrowMat","arrow","name","y","max","endingY","y_1","y_2","y_3","b","c","yFunction","delta","m_x","c_x","xFunction","m_z","z","c_z","zFunction","startingTime","setTimeout","remove","_this4","rightArm","rotation","timeRatio","degreeChange","spawnArrow","resetAttackAnimation","_delta","_timeRatio","_degreeChange","angleTowardsTarget","calculateAngleToTarget","bodyModel","xDiff","zDiff","diffRatio","atan","attackProcedure","animateArrows","animateAttack","4","Base","baseWidth","baseHeight","baseDepth","maxHealth","hitBoxBuffer","money","score","shapeGeometry","textureLoader","TextureLoader","normalMap","load","longTexture","skinnyTexture","sideTexture","wrapS","wrapT","RepeatWrapping","repeat","skinnyMat","MeshPhongMaterial","specular","shininess","normalScale","Vector2","longMat","sideMat","shapeMaterials","shapeMesh","MultiMaterial","hitGeometry","hitMaterial","hitMesh","healthBar","initializeHealthBar","_healthBarLength","_healthBarWidth","fullHealthBarGeometry","fullHealthBarMaterial","fullHealthBarMesh","emptyHealthBarGeometry","emptyHealthBarMaterial","emptyHealthBarMesh","healthBarGroup","healthPercent","healthBarOffset","fullHealthBar","getObjectByName","scale","updateHealthBar","5","xPositive","xNegative","baseHealth","upgrades","cost","amount","base","6","_player","_player2","_aiPlayer","_menuScreen","GameEngine","gameOver","state","colliderSystem","ColliderSystem","initializePlayers","myPlayer","type","computer","players","_ref","winner","p","setGameOver","activateMenu","pop","reset","runLoop","playerAI","lost","find","initializeGameOver","computeAndNotify","./ai-player","./menu-screen","./player","7","scoreText","moneyText","fpsText","baseHealthText","minionBaseHealthText","minionBaseAttackText","minionBaseAttackSpeedText","archerBaseAttackText","archerBaseAttackSpeedText","baseHealthUpgrade","minionBaseHealthUpgrade","minionBaseAttackUpgrade","minionBaseAttackSpeedUpgrade","archerBaseAttackUpgrade","archerBaseAttackSpeedUpgrade","planeTexture","GameView","setupGrid","setupGrassField","setupLight","mouse","positionScale","lookAt","hud","document","getElementById","hudUpgrade","lastTimeStamp","started","raycaster","Raycaster","currentHoveredPanel","setupMouseEvent","bindButtons","lightAmbient","AmbientLight","lightSource","PointLight","grid","GridHelper","gridPanels","panelLength","zPos","planeGeometry","PlaneGeometry","planeMaterial","plane","texture","anisotropy","getMaxAnisotropy","rotateX","setFromCamera","planes","intersects","intersectObjects","panel","setHex","window","evt","event","clientX","innerWidth","clientY","innerHeight","restart","classList","initializeUpgradeButtons","initializeHudTexts","getCurrentPanelIndex","round","textContent","calculateFPS","toFixed","minionBaseHealth","minionBaseAttack","minionBaseAttackSpeed","archerBaseAttack","archerBaseAttackSpeed","checkGridIntersections","gameLoop","updateUI","archers","8","activateStartScreen","startSection","restartSection","activateRestartScreen","text","restartModalMessage","modal","closeMenu","startButton","startFirstGame","restartButton","9","Minion","healthUpgrade","attackUpgrade","attackSpeedUpgrade","defaultSpeed","speed","attackTime","attackAnimationProperties","walkingAnimationProperties","time","rotObjectMatrix","dispose","currentTarget","resetWalkAnimation","walkProcedure","attackLoop","children","currentAttackTime","animationSpeed","min","walkLoop","animateWalk","legs","leftLeg","rightLeg","animateLegForward","animateLegBack","toDegrees","leg","maxRotation","toRadians","angleRadians","angleDegrees","10","_minion","_minion2","_archer","_archer2","_base","_base2","Player","minionId","setUpgradeValues","loader","ObjectLoader","setupGameState","spawnBase","spawnArchers","minionCost","reward","keys","destroyBase","destroyMinion","removeEventListener","_this5","./archer","./base","./minion","11","handleResize","w","h","setSize","aspect","updateProjectionMatrix","setupResizing","Scene","PerspectiveCamera","WebGLRenderer","appendChild","domElement","RendererStats","style","left","bottom"],"mappings":"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","file":"../app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _view = require('./modules/view');\n\nvar _gameEngine = require('./modules/game-engine');\n\nvar _gameEngine2 = _interopRequireDefault(_gameEngine);\n\nvar _gameView = require('./modules/game-view');\n\nvar _gameView2 = _interopRequireDefault(_gameView);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Globals\nvar globals = void 0;\n\nvar gameEngine = void 0,\n    gameView = void 0;\nvar rendererStats = void 0;\nvar performance = true;\n\nfunction init() {\n  var _setupScreenView = (0, _view.setupScreenView)(),\n      scene = _setupScreenView.scene,\n      camera = _setupScreenView.camera,\n      renderer = _setupScreenView.renderer;\n\n  globals = { scene: scene, camera: camera, renderer: renderer };\n\n  if (performance) {\n    rendererStats = (0, _view.setupPerformance)();\n  }\n\n  gameEngine = new _gameEngine2.default(globals);\n  gameView = new _gameView2.default(globals, gameEngine);\n\n  render();\n}\n\nfunction render(timestamp) {\n  requestAnimationFrame(render);\n  gameView.renderLoop(timestamp);\n\n  globals.renderer.render(globals.scene, globals.camera);\n  if (performance) {\n    rendererStats.update(globals.renderer);\n  }\n}\n\ninit();\n\n},{\"./modules/game-engine\":6,\"./modules/game-view\":7,\"./modules/view\":11}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require(\"./constants\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nArray.prototype.unique = function () {\n  return this.filter(function (value, index, self) {\n    return self.indexOf(value) === index;\n  });\n};\n\nvar AI = function () {\n  function AI(args) {\n    _classCallCheck(this, AI);\n\n    this.determineAIFunction(args.personality);\n    this.player = args.player;\n    this.spawnInterval = 400;\n    this.lastSpawn = 0;\n    this.poppulationLimit = 15;\n  }\n\n  _createClass(AI, [{\n    key: \"canSpawn\",\n    value: function canSpawn(timestamp) {\n      return timestamp - this.lastSpawn > this.spawnInterval;\n    }\n  }, {\n    key: \"runLoop\",\n    value: function runLoop(timestamp, opponents) {\n      if (!this.canSpawn(timestamp)) {\n        return;\n      }\n\n      var spawnIndex = this.AIFunction(opponents, this.player.minions);\n\n      if (spawnIndex >= 0 && this.player.minions.length < this.poppulationLimit) {\n        this.player.spawnMinion(spawnIndex);\n        this.lastSpawn = timestamp;\n      }\n    }\n  }, {\n    key: \"randomAI\",\n    value: function randomAI(opponents) {\n      return Math.floor(Math.random() * _constants.gridSubDiv);\n    }\n  }, {\n    key: \"nicksAI\",\n    value: function nicksAI(opponents, friendlies) {\n      var startingPos = this.player.spawnPos;\n\n      var friendlyMap = friendlies.map(function (m) {\n        return {\n          row: m.startingZ,\n          distance: m.getPosition().x - startingPos\n        };\n      });\n\n      var opponentMap = opponents.map(function (m) {\n\n        var distance = startingPos - m.getPosition().x;\n        return {\n          row: m.startingZ,\n          distance: distance\n        };\n      });\n\n      var rowArray = [];\n      for (var i = 0; i < _constants.gridSubDiv; i++) {\n        rowArray.push(i);\n      }\n\n      var decision = {\n        hasFriendlies: [],\n        closestIndex: -1,\n        closestVal: 99999,\n        distanceTies: []\n\n      };\n\n      friendlyMap.forEach(function (val, idx) {\n        decision.hasFriendlies.push(val.row);\n      });\n\n      opponentMap.forEach(function (val, idx) {\n        if (val.distance < decision.closestVal) {\n          decision.closestIndex = val.row;\n          decision.closestVal = val.distance;\n\n          if (decision.distanceTies.length > 0) {\n            decision.distanceTies.length = 0;\n          }\n        } else if (val.distance === decision.closestVal) {\n          decision.distanceTies.push(val.row);\n        }\n      });\n\n      decision.distanceTies.push(decision.closestIndex);\n      decision.hasFriendlies = decision.hasFriendlies.unique();\n\n      var fullIdxArr = rowArray.slice(0);\n\n      decision.gaps = fullIdxArr.filter(function (x) {\n        return decision.hasFriendlies.indexOf(x) < 0;\n      });\n\n      //if(friendlies.length > 3) {\n      //friendlies[2].viewObj.position.z += 1;\n      //}\n\n\n      var arrayToUse = void 0;\n      if (decision.closestVal < _constants.gridWidth / 2) {\n        arrayToUse = decision.distanceTies;\n      } else {\n        arrayToUse = decision.gaps;\n      }\n\n      var arrIdx = Math.floor(Math.random() * arrayToUse.length);\n      return arrayToUse[arrIdx];\n    }\n  }, {\n    key: \"defensiveAI\",\n    value: function defensiveAI(opponents) {\n      var map = {};\n      for (var i = 0; i < _constants.gridSubDiv; i++) {\n        map[i] = 0;\n      }\n\n      opponents.forEach(function (enemy) {\n        map[enemy.startingZ]--;\n      });\n\n      this.player.minions.forEach(function (minion) {\n        map[minion.startingZ]++;\n      });\n\n      var spawnIndex = -1;\n      var spawnValue = 100000;\n      Object.values(map).forEach(function (val, index) {\n        if (val < spawnValue) {\n          spawnValue = val;\n          spawnIndex = index;\n        }\n      });\n\n      return spawnIndex;\n    }\n  }, {\n    key: \"determineAIFunction\",\n    value: function determineAIFunction(personality) {\n      if (personality) {\n        this.AIFunction = this[personality];\n      } else {\n        this.AIFunction = this[\"randomAI\"];\n      }\n    }\n  }]);\n\n  return AI;\n}();\n\nexports.default = AI;\n\n},{\"./constants\":5}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Archer = function () {\n  function Archer(args) {\n    _classCallCheck(this, Archer);\n\n    this.scene = args.scene;\n    this.player = args.player;\n    this.playerId = this.player.id;\n    this.colliderList = args.colliderList;\n\n    this.direction = args.direction;\n    this.startingZ = args.startingZ;\n    this.startingY = args.startingY + 4;\n    this.startingX = args.startingX - 4 * this.direction;\n\n    this.targetList = [];\n    this.arrows = [];\n\n    this.startingRotation = 0;\n    var _90deg = 90 / 180 * Math.PI;\n    var _135deg = 135 / 180 * Math.PI;\n\n    this.animationProperties = {\n      arm: {\n        startingAngle: _135deg,\n        endingAngle: _90deg,\n        angleDifference: _135deg - _90deg,\n        speedDown: 200,\n        speedUp: 150,\n        lastAnimate: null\n      },\n      arrowSpeed: 500\n    };\n\n    this.attackProperties = {\n      lastAttack: 0\n    };\n\n    this.attackSpeed = _constants2.default.archer.baseAttackSpeed;\n    this.arrowSpeed = _constants2.default.archer.baseArrowSpeed;\n    this.attackStrength = _constants2.default.archer.baseAttack;\n    this.arrowId = 0;\n    this.initializeView();\n    this.registerCollision();\n  }\n\n  _createClass(Archer, [{\n    key: 'initializeView',\n    value: function initializeView() {\n      var hitBoxOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      this.viewObj = new THREE.Group();\n\n      var bodyG = new THREE.BoxGeometry(0.01, 0.013, 0.013);\n      var bodyMat = new THREE.MeshBasicMaterial({ color: 0x00FF00 });\n      this.body = new THREE.Mesh(bodyG, bodyMat);\n\n      var hitBoxG = new THREE.BoxGeometry(60, 60, 60);\n      var material = new THREE.MeshBasicMaterial({ color: 0xffff00, transparent: true, opacity: hitBoxOpacity, depthWrite: false });\n      this.hitBox = new THREE.Mesh(hitBoxG, material);\n\n      this.hitBox.userData.player = this.player;\n      this.hitBox.userData.object = this;\n      this.hitBox.userData.ranged = true;\n\n      this.viewObj.add(this.body);\n      this.viewObj.add(this.hitBox);\n\n      this.viewObj.position.set(this.startingX, this.startingY, this.startingZ);\n    }\n  }, {\n    key: 'registerCollision',\n    value: function registerCollision() {\n      var _this = this;\n\n      this.hitBox.geometry.computeBoundingBox();\n      var box3 = this.hitBox.geometry.boundingBox.clone();\n      this.collider = new THREEx.ColliderBox3(this.hitBox, box3);\n      this.colliderList.push(this.collider);\n\n      this.collider.addEventListener('contactEnter', function (otherCollider) {\n        var userData = otherCollider.object3d.userData;\n\n        if (userData.player.id === _this.playerId) {\n          return;\n        }\n        if (userData.ranged || userData.immuneToRange) {\n          return;\n        }\n\n        _this.targetList.push(userData.object);\n      });\n\n      this.collider.addEventListener('contactStay', function (otherCollider) {\n        var userData = otherCollider.object3d.userData;\n\n        if (userData.player.id === _this.playerId) {\n          return;\n        }\n        if (userData.ranged || userData.immuneToRange) {\n          return;\n        }\n\n        if (_this.findColliderIndex(otherCollider.id) === -1) {\n          _this.targetList.push(userData.object);\n        }\n      });\n\n      this.collider.addEventListener('contactRemoved', function (otherCollider) {\n        _this.targetList.splice(_this.findColliderIndex(otherCollider), 1);\n        _this.determineTarget();\n      });\n\n      this.collider.addEventListener('contactExit', function (otherCollider) {\n        _this.removeTarget(otherCollider);\n        _this.determineTarget();\n      });\n    }\n  }, {\n    key: 'findColliderIndex',\n    value: function findColliderIndex(id) {\n      var index = -1;\n\n      for (var i = 0; i < this.targetList.length; i++) {\n        if (this.targetList[i].collider.id === id) {\n          index = i;\n        }\n      }\n\n      return index;\n    }\n  }, {\n    key: 'removeTarget',\n    value: function removeTarget(id) {\n      this.targetList.splice(this.findColliderIndex(id), 1);\n    }\n  }, {\n    key: 'canAttack',\n    value: function canAttack(timestamp) {\n      if (this.targetList.length === 0) {\n        return false;\n      }\n      if (this.initiateAttack || this.recharging) {\n        return false;\n      }\n\n      var delta = timestamp - this.attackProperties.lastAttack;\n      return delta >= this.attackSpeed;\n    }\n  }, {\n    key: 'getAttackValue',\n    value: function getAttackValue() {\n      return this.attackStrength;\n    }\n  }, {\n    key: 'determineTarget',\n    value: function determineTarget() {\n      if (this.targetList.length > 0) {\n        return this.targetList[0];\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'attackProcedure',\n    value: function attackProcedure(timestamp) {\n      var _this2 = this;\n\n      if (!this.canAttack(timestamp)) {\n        return;\n      }\n\n      var target = this.determineTarget();\n      if (target !== null && target.viewObj) {\n        this.nextTarget = {\n          target: target,\n          callback: function callback(target) {\n            target.health -= _this2.getAttackValue();\n            if (target.health <= 0) {\n              _this2.player.processReward(target.killReward);\n\n              target.attack = false;\n              target.destroy = true;\n              _this2.removeTarget(target.collider.id);\n            }\n          }\n        };\n        this.initiateAttack = true;\n      }\n\n      this.attackProperties.lastAttack = timestamp;\n    }\n  }, {\n    key: 'spawnArrow',\n    value: function spawnArrow(target, timestamp, callback) {\n      var _this3 = this;\n\n      var arrowG = new THREE.SphereGeometry(1, 10, 10);\n      var arrowMat = new THREE.MeshBasicMaterial({ color: 0x9C3724 });\n      var arrow = new THREE.Mesh(arrowG, arrowMat);\n      arrow.name = \"Arrow\";\n      this.scene.add(arrow);\n\n      arrow.position.set(this.startingX, this.startingY + 2, this.startingZ);\n\n      var id = this.arrowId++;\n\n      var startingY = arrow.position.y;\n      var max = startingY + 5;\n      var endingY = target.viewObj.position.y;\n\n      var x_1 = 0;\n      var y_1 = startingY;\n\n      var x_2 = 0.5;\n      var y_2 = max;\n\n      var x_3 = 1;\n      var y_3 = endingY;\n\n      var a = y_1 / ((x_1 - x_2) * (x_1 - x_3)) + y_2 / ((x_2 - x_1) * (x_2 - x_3)) + y_3 / ((x_3 - x_1) * (x_3 - x_2));\n\n      var b = -y_1 * (x_2 + x_3) / ((x_1 - x_2) * (x_1 - x_3)) - y_2 * (x_1 + x_3) / ((x_2 - x_1) * (x_2 - x_3)) - y_3 * (x_1 + x_2) / ((x_3 - x_1) * (x_3 - x_2));\n\n      var c = y_1 * x_2 * x_3 / ((x_1 - x_2) * (x_1 - x_3)) + y_2 * x_1 * x_3 / ((x_2 - x_1) * (x_2 - x_3)) + y_3 * x_1 * x_2 / ((x_3 - x_1) * (x_3 - x_2));\n\n      var yFunction = function yFunction(delta) {\n        return a * (delta * delta) + b * delta + c;\n      };\n\n      var m_x = target.viewObj.position.x - arrow.position.x;\n      var c_x = arrow.position.x;\n\n      var xFunction = function xFunction(delta) {\n        return m_x * delta + c_x;\n      };\n\n      var m_z = target.viewObj.position.z - arrow.position.z;\n      var c_z = arrow.position.z;\n\n      var zFunction = function zFunction(delta) {\n        return m_z * delta + c_z;\n      };\n\n      this.arrows.push({\n        id: id,\n        obj: arrow,\n        target: target,\n        startingTime: timestamp,\n        yFunction: yFunction,\n        xFunction: xFunction,\n        zFunction: zFunction\n      });\n\n      setTimeout(function () {\n        callback(target);\n        _this3.arrows = _this3.arrows.filter(function (a) {\n          return a !== id;\n        });\n        _this3.scene.remove(arrow);\n      }, this.arrowSpeed);\n    }\n  }, {\n    key: 'animateArrows',\n    value: function animateArrows(timestamp) {\n      var _this4 = this;\n\n      this.arrows.forEach(function (arrow) {\n        var delta = (timestamp - arrow.startingTime) / _this4.arrowSpeed;\n        arrow.obj.position.y = arrow.yFunction(delta);\n        arrow.obj.position.x = arrow.xFunction(delta);\n        arrow.obj.position.z = arrow.zFunction(delta);\n      });\n    }\n  }, {\n    key: 'animateAttack',\n    value: function animateAttack(timestamp) {\n      if (this.rightArm && this.initiateAttack) {\n        if (this.rightArm.rotation.z > this.animationProperties.arm.endingAngle) {\n          if (this.animationProperties.arm.lastAnimate === null) {\n            this.animationProperties.arm.lastAnimate = timestamp;\n          }\n\n          var delta = timestamp - this.animationProperties.arm.lastAnimate;\n          var timeRatio = delta / this.animationProperties.arm.speedDown;\n          var degreeChange = this.animationProperties.arm.angleDifference * timeRatio;\n\n          this.rightArm.rotation.z -= degreeChange;\n          this.animationProperties.arm.lastAnimate = timestamp;\n        } else {\n          this.spawnArrow(this.nextTarget.target, timestamp, this.nextTarget.callback);\n\n          this.resetAttackAnimation();\n        }\n      }\n\n      if (this.rightArm && this.recharging) {\n        if (this.rightArm.rotation.z < this.animationProperties.arm.startingAngle) {\n          if (this.animationProperties.arm.lastAnimate === null) {\n            this.animationProperties.arm.lastAnimate = timestamp;\n          }\n\n          var _delta = timestamp - this.animationProperties.arm.lastAnimate;\n          var _timeRatio = _delta / this.animationProperties.arm.speedUp;\n          var _degreeChange = this.animationProperties.arm.angleDifference * _timeRatio;\n\n          this.rightArm.rotation.z += _degreeChange;\n          this.animationProperties.arm.lastAnimate = timestamp;\n        } else {\n          this.recharging = false;\n          this.animationProperties.arm.lastAnimate = null;\n        }\n      }\n\n      if (this.nextTarget && this.nextTarget.target) {\n        var angleTowardsTarget = this.calculateAngleToTarget(this.nextTarget.target);\n        this.bodyModel.rotation.y = angleTowardsTarget + this.startingRotation;\n      }\n    }\n  }, {\n    key: 'resetAttackAnimation',\n    value: function resetAttackAnimation() {\n      this.initiateAttack = false;\n      this.recharging = true;\n      this.animationProperties.arm.lastAnimate = null;\n    }\n  }, {\n    key: 'calculateAngleToTarget',\n    value: function calculateAngleToTarget(target) {\n      var xDiff = target.viewObj.position.x - this.viewObj.position.x;\n      var zDiff = target.viewObj.position.z - this.viewObj.position.z;\n      var diffRatio = zDiff / xDiff;\n      return Math.PI * -this.direction - Math.atan(diffRatio) + Math.PI;\n    }\n  }, {\n    key: 'runLoop',\n    value: function runLoop(timestamp) {\n      this.attackProcedure(timestamp);\n      this.animateArrows(timestamp);\n      this.animateAttack(timestamp);\n      this.collider.update();\n    }\n  }]);\n\n  return Archer;\n}();\n\nexports.default = Archer;\n\n},{\"./constants\":5}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require('./constants');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Base = function () {\n  function Base(args) {\n    _classCallCheck(this, Base);\n\n    this.direction = args.direction;\n    this.colliderList = args.colliderList;\n    this.player = args.player;\n    this.playerId = this.player.id;\n\n    this.baseWidth = _constants.gridWidth;\n    this.baseHeight = 20;\n    this.baseDepth = 10;\n\n    this.maxHealth = 250;\n    this.health = this.maxHealth;\n\n    this.hitBoxBuffer = 2;\n\n    this.killReward = {\n      money: 550,\n      score: 1000\n    };\n\n    this.initializeView(this.direction);\n    this.registerCollision();\n  }\n\n  _createClass(Base, [{\n    key: 'initializeView',\n    value: function initializeView(direction) {\n      var hitBoxOpacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      this.viewObj = new THREE.Group();\n\n      var shapeGeometry = new THREE.BoxGeometry(this.baseDepth, this.baseHeight, this.baseWidth);\n\n      var textureLoader = new THREE.TextureLoader();\n      var normalMap = textureLoader.load('textures/rock-normal-map.jpg');\n      var longTexture = textureLoader.load('textures/brick-wall.jpg');\n      var skinnyTexture = textureLoader.load('textures/brick-wall.jpg');\n      var sideTexture = textureLoader.load('textures/brick-wall.jpg');\n      var baseColor = 0x555555;\n\n      longTexture.wrapS = longTexture.wrapT = THREE.RepeatWrapping;\n      longTexture.repeat.set(3, 1);\n\n      skinnyTexture.wrapS = skinnyTexture.wrapT = THREE.RepeatWrapping;\n      skinnyTexture.repeat.set(1, 3);\n\n      sideTexture.wrapS = sideTexture.wrapT = THREE.RepeatWrapping;\n      sideTexture.repeat.set(1, 1);\n\n      var skinnyMat = new THREE.MeshPhongMaterial({ color: 0x333333, specular: 0x333333, shininess: 15, normalMap: textureLoader.load('textures/rock-normal-map.jpg'), normalScale: new THREE.Vector2(0.05, 1), map: skinnyTexture });\n\n      var longMat = new THREE.MeshPhongMaterial({ color: baseColor, specular: 0x333333, shininess: 15, normalMap: normalMap, normalScale: new THREE.Vector2(1, 1), map: longTexture });\n\n      var sideMat = new THREE.MeshPhongMaterial({ color: baseColor, specular: 0x333333, shininess: 15, normalMap: normalMap, normalScale: new THREE.Vector2(1, 1), map: sideTexture });\n\n      var shapeMaterials = [longMat, // Right\n      longMat, // Left\n      skinnyMat, // Top\n      sideMat, // Back\n      sideMat, // Front\n      skinnyMat];\n\n      var shapeMesh = new THREE.Mesh(shapeGeometry, new THREE.MultiMaterial(shapeMaterials));\n\n      var hitGeometry = new THREE.BoxGeometry(this.baseDepth + this.hitBoxBuffer, this.baseHeight + this.hitBoxBuffer, this.baseWidth + this.hitBoxBuffer);\n\n      var hitMaterial = new THREE.MeshBasicMaterial({ color: 0x00ffff, transparent: true, opacity: hitBoxOpacity });\n      var hitMesh = new THREE.Mesh(hitGeometry, hitMaterial);\n\n      this.healthBar = this.initializeHealthBar();\n      this.hitBox = hitMesh;\n\n      this.viewObj.add(shapeMesh);\n      this.viewObj.add(hitMesh);\n      this.viewObj.add(this.healthBar);\n\n      this.viewObj.position.x = (-_constants.gridWidth / 2 - this.baseDepth / 2) * this.direction;\n      this.viewObj.position.y = this.baseHeight / 2;\n\n      this.hitBox.userData.object = this;\n      this.hitBox.userData.player = this.player;\n      this.hitBox.userData.immuneToRange = true;\n    }\n  }, {\n    key: 'initializeHealthBar',\n    value: function initializeHealthBar() {\n      this._healthBarLength = _constants.gridWidth / 10;\n      this._healthBarWidth = _constants.gridWidth / 150;\n      var fullHealthBarGeometry = new THREE.BoxGeometry(this._healthBarLength, this._healthBarWidth, this._healthBarWidth);\n      var fullHealthBarMaterial = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n      var fullHealthBarMesh = new THREE.Mesh(fullHealthBarGeometry, fullHealthBarMaterial);\n      fullHealthBarMesh.name = \"FullHealthBar\";\n\n      var emptyHealthBarGeometry = new THREE.BoxGeometry(this._healthBarLength * 0.99, this._healthBarWidth * 0.9, this._healthBarWidth * 0.9);\n      var emptyHealthBarMaterial = new THREE.MeshBasicMaterial({ color: 0xff0000 });\n      var emptyHealthBarMesh = new THREE.Mesh(emptyHealthBarGeometry, emptyHealthBarMaterial);\n      emptyHealthBarMesh.name = \"EmptyHealthBar\";\n\n      var healthBarGroup = new THREE.Group();\n      healthBarGroup.add(fullHealthBarMesh);\n      healthBarGroup.add(emptyHealthBarMesh);\n\n      healthBarGroup.position.y = this.baseHeight + 5;\n\n      return healthBarGroup;\n    }\n  }, {\n    key: 'updateHealthBar',\n    value: function updateHealthBar() {\n      var healthPercent = this.health / this.maxHealth;\n      var healthBarOffset = -(1 - healthPercent) * this._healthBarLength / 2;\n      var fullHealthBar = this.healthBar.getObjectByName('FullHealthBar');\n\n      fullHealthBar.scale.x = healthPercent;\n      fullHealthBar.position.x = healthBarOffset;\n    }\n  }, {\n    key: 'registerCollision',\n    value: function registerCollision() {\n      this.hitBox.geometry.computeBoundingBox();\n      var box3 = this.hitBox.geometry.boundingBox.clone();\n      this.collider = new THREEx.ColliderBox3(this.hitBox, box3);\n      this.colliderList.push(this.collider);\n    }\n  }, {\n    key: 'runLoop',\n    value: function runLoop() {\n      this.collider.update();\n      this.updateHealthBar();\n    }\n  }]);\n\n  return Base;\n}();\n\nexports.default = Base;\n\n},{\"./constants\":5}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar xPositive = exports.xPositive = 1;\nvar xNegative = exports.xNegative = -1;\nvar gridWidth = exports.gridWidth = 64;\nvar gridSubDiv = exports.gridSubDiv = 16;\n\nvar minion = {\n\tbaseHealth: 10,\n\tbaseAttack: 3,\n\tbaseAttackSpeed: 1000,\n\tupgrades: {\n\t\thealth: {\n\t\t\tcost: 50,\n\t\t\tamount: 5\n\t\t},\n\t\tattack: {\n\t\t\tcost: 75,\n\t\t\tamount: 2\n\t\t},\n\t\tattackSpeed: {\n\t\t\tcost: 100,\n\t\t\tamount: 10\n\t\t}\n\t}\n};\n\nvar base = {\n\tbaseHealth: 250,\n\tupgrades: {\n\t\thealth: {\n\t\t\tcost: 150,\n\t\t\tamount: 250\n\t\t}\n\t}\n};\n\nvar archer = {\n\tbaseAttack: 1,\n\tbaseAttackSpeed: 1000,\n\tbaseArrowSpeed: 1000,\n\tupgrades: {\n\t\tattack: {\n\t\t\tcost: 50,\n\t\t\tamount: 1\n\t\t},\n\t\tattackSpeed: {\n\t\t\tcost: 100,\n\t\t\tamount: 10\n\t\t}\n\t}\n};\n\nvar player = {};\n\nexports.default = { minion: minion, base: base, archer: archer, player: player };\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _player = require('./player');\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _aiPlayer = require('./ai-player');\n\nvar _aiPlayer2 = _interopRequireDefault(_aiPlayer);\n\nvar _menuScreen = require('./menu-screen');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GameEngine = function () {\n  function GameEngine(args) {\n    _classCallCheck(this, GameEngine);\n\n    this.gameOver = true;\n    this.state = {};\n    this.scene = args.scene;\n    this.camera = args.camera;\n\n    this.colliderSystem = new THREEx.ColliderSystem();\n    this.colliderList = [];\n\n    this.playerId = 0;\n\n    this.initializePlayers();\n  }\n\n  _createClass(GameEngine, [{\n    key: 'initializePlayers',\n    value: function initializePlayers() {\n      this.myPlayer = new _player2.default({\n        type: 'human',\n        direction: _constants.xPositive,\n        colliderList: this.colliderList,\n        colliderSystem: this.colliderSystem,\n        scene: this.scene,\n        id: this.playerId++\n      });\n\n      this.computer = new _player2.default({\n        type: 'computer',\n        direction: _constants.xNegative,\n        colliderList: this.colliderList,\n        colliderSystem: this.colliderSystem,\n        scene: this.scene,\n        id: this.playerId++\n      });\n\n      //this.AI = new AI({\n      //player: this.computer,\n      //personality: \"randomAI\"\n      //});\n\n      //this.playerAI = new AI({\n      //player: this.myPlayer,\n      //personality: \"randomAI\"\n      //});\n\n\n      this.state.players = [this.myPlayer, this.computer];\n    }\n  }, {\n    key: 'initializeGameOver',\n    value: function initializeGameOver(_ref) {\n      var winner = _ref.winner,\n          score = _ref.score;\n\n      this.state.players.forEach(function (p) {\n        return p.setGameOver();\n      });\n      (0, _menuScreen.activateMenu)({\n        winner: winner,\n        score: score\n      });\n    }\n  }, {\n    key: 'restart',\n    value: function restart() {\n      while (this.colliderList.length > 0) {\n        this.colliderList.pop();\n      }\n      this.state.players.forEach(function (player) {\n        player.reset();\n      });\n      this.gameOver = false;\n    }\n  }, {\n    key: 'gameLoop',\n    value: function gameLoop(timestamp) {\n      var _this = this;\n\n      if (this.gameOver) {}\n      if (this.AI) {\n        this.AI.runLoop(timestamp, this.myPlayer.minions);\n      }\n\n      if (this.playerAI) {\n        this.playerAI.runLoop(timestamp, this.computer.minions);\n      }\n      this.state.players.forEach(function (player) {\n        player.runLoop(timestamp);\n        if (player.lost && !_this.gameOver) {\n          _this.gameOver = true;\n          var winner = _this.state.players.find(function (p) {\n            return p.id !== player.id;\n          });\n          var score = winner.score;\n          _this.initializeGameOver({ winner: winner, score: score });\n        }\n      });\n      this.colliderSystem.computeAndNotify(this.colliderList);\n    }\n  }]);\n\n  return GameEngine;\n}();\n\nexports.default = GameEngine;\n\n},{\"./ai-player\":2,\"./constants\":5,\"./menu-screen\":8,\"./player\":10}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nvar _menuScreen = require('./menu-screen');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// UI Elements\nvar scoreText = void 0,\n    moneyText = void 0,\n    fpsText = void 0,\n    baseHealthText = void 0,\n    minionBaseHealthText = void 0,\n    minionBaseAttackText = void 0,\n    minionBaseAttackSpeedText = void 0,\n    archerBaseAttackText = void 0,\n    archerBaseAttackSpeedText = void 0;\nvar baseHealthUpgrade = void 0,\n    minionBaseHealthUpgrade = void 0,\n    minionBaseAttackUpgrade = void 0,\n    minionBaseAttackSpeedUpgrade = void 0,\n    archerBaseAttackUpgrade = void 0,\n    archerBaseAttackSpeedUpgrade = void 0;\n\n// Texture\nvar planeTexture = new THREE.TextureLoader().load(\"textures/stone.jpg\");\nplaneTexture.repeat.set(10, 10);\nplaneTexture.wrapS = THREE.RepeatWrapping;\nplaneTexture.wrapT = THREE.RepeatWrapping;\n\nvar GameView = function () {\n  function GameView(globals, gameEngine) {\n    _classCallCheck(this, GameView);\n\n    this.scene = globals.scene;\n    this.camera = globals.camera;\n    this.renderer = globals.renderer;\n\n    this.gameEngine = gameEngine;\n\n    this.setupGrid();\n    this.setupGrassField();\n    this.setupLight();\n\n    this.mouse = { x: -10000, y: 0 };\n\n    var positionScale = _constants.gridWidth / 2;\n\n    this.camera.position.z = 2 * positionScale;\n    this.camera.position.y = 1.5 * positionScale;\n    this.camera.lookAt(this.scene.position);\n\n    this.hud = document.getElementById('hud');\n    this.hudUpgrade = document.getElementById('hud-upgrade');\n    this.lastTimeStamp = 0;\n    this.started = false;\n\n    this.raycaster = new THREE.Raycaster();\n    this.currentHoveredPanel = null;\n\n    this.setupMouseEvent();\n    (0, _menuScreen.bindButtons)(this, this.gameEngine);\n  }\n\n  _createClass(GameView, [{\n    key: 'setupLight',\n    value: function setupLight() {\n      var lightAmbient = new THREE.AmbientLight(0x666666, 3);\n      var lightSource = new THREE.PointLight(0x888888, 1);\n\n      lightSource.position.set(0, 30, 0);\n      lightAmbient.position.set(0, 30, 0);\n\n      this.scene.add(lightAmbient);\n      this.scene.add(lightSource);\n    }\n  }, {\n    key: 'setupGrid',\n    value: function setupGrid() {\n      //let texturedSurfaceGeometry = new THREE.PlaneGeometry(gridWidth, gridWidth);\n      //let texturedSurfaceMaterial = new THREE.MeshBasicMaterial({map: planeTexture});\n      //let texturedSurface = new THREE.Mesh(texturedSurfaceGeometry, texturedSurfaceMaterial);\n      //texturedSurface.rotation.x = -0.5 * Math.PI;\n      //texturedSurface.position.y = -0.3;\n      //this.scene.add(texturedSurface);\n\n      var grid = new THREE.GridHelper(_constants.gridWidth, _constants.gridSubDiv);\n      grid.position.y = -.4;\n      this.scene.add(grid);\n\n      this.gridPanels = {};\n\n      var panelLength = _constants.gridWidth / _constants.gridSubDiv;\n      var zPos = (_constants.gridWidth / 2 - panelLength / 2) * -1;\n\n      for (var i = 0; i < _constants.gridSubDiv; i++) {\n        var planeGeometry = new THREE.PlaneGeometry(_constants.gridWidth, panelLength);\n        var planeMaterial = new THREE.MeshBasicMaterial({ transparent: true, opacity: 0 });\n        var plane = new THREE.Mesh(planeGeometry, planeMaterial);\n        plane.rotation.x = -0.5 * Math.PI;\n        plane.position.z = zPos;\n        plane.position.y = 0;\n        this.scene.add(plane);\n        this.gridPanels[i] = plane;\n\n        zPos += panelLength;\n      }\n    }\n  }, {\n    key: 'setupGrassField',\n    value: function setupGrassField() {\n      var textureUrl = 'textures/grasslight-small.jpg';\n      var texture = new THREE.TextureLoader().load(textureUrl);\n      texture.wrapS = THREE.RepeatWrapping;\n      texture.wrapT = THREE.RepeatWrapping;\n      texture.repeat.y = _constants.gridSubDiv;\n      texture.repeat.x = _constants.gridSubDiv;\n      texture.anisotropy = this.renderer.getMaxAnisotropy();\n      // build object3d\n      var geometry = new THREE.PlaneGeometry(_constants.gridWidth * 10, _constants.gridWidth * 10);\n      var material = new THREE.MeshPhongMaterial({\n        map: texture,\n        shininess: 10\n      });\n      var plane = new THREE.Mesh(geometry, material);\n      plane.rotateX(-Math.PI / 2);\n      plane.position.y = -0.2;\n      this.scene.add(plane);\n\n      //let nTufts  = 2000;\n      //let positions = new Array(nTufts);\n      //for(let i = 0; i < nTufts; i++){\n      //let position  = new THREE.Vector3();\n      //position.x  = (Math.random()-0.5)*gridWidth;\n      //position.z  = (Math.random()-0.5)*gridWidth;\n      //positions[i]  = position;\n      //}\n      //let mesh  = THREEx.createGrassTufts(positions);\n      //this.scene.add(mesh);\n    }\n  }, {\n    key: 'checkGridIntersections',\n    value: function checkGridIntersections() {\n      this.raycaster.setFromCamera(this.mouse, this.camera);\n      var planes = Object.values(this.gridPanels);\n      var intersects = this.raycaster.intersectObjects(planes);\n\n      planes.forEach(function (panel) {\n        panel.material.color.setHex(0x666666);\n        panel.material.opacity = 0;\n      });\n\n      if (intersects.length > 0) {\n        var obj = intersects[0].object;\n\n        obj.material.color.setHex(0xff0000);\n        obj.material.opacity = .5;\n        this.currentHoveredPanel = obj;\n      } else if (this.currentHoveredPanel) {\n        this.currentHoveredPanel = null;\n      }\n    }\n  }, {\n    key: 'getCurrentPanelIndex',\n    value: function getCurrentPanelIndex() {\n      if (!this.currentHoveredPanel) {\n        return;\n      }\n\n      var planes = Object.values(this.gridPanels);\n\n      for (var i = 0; i < _constants.gridSubDiv; i++) {\n        if (this.currentHoveredPanel === planes[i]) {\n          return i;\n        }\n      }\n    }\n  }, {\n    key: 'setupMouseEvent',\n    value: function setupMouseEvent() {\n      var mouse = this.mouse;\n\n      window.addEventListener('mousemove', function (evt) {\n        mouse.x = event.clientX / window.innerWidth * 2 - 1;\n        mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n      });\n    }\n  }, {\n    key: 'startFirstGame',\n    value: function startFirstGame() {\n      var _this = this;\n\n      this.gameEngine.restart();\n\n      this.hud.classList.remove('hud--hidden');\n      this.hudUpgrade.classList.remove('hud--hidden');\n\n      this.initializeUpgradeButtons();\n      this.initializeHudTexts();\n\n      this.started = true;\n\n      window.addEventListener('click', function () {\n        var index = _this.getCurrentPanelIndex();\n        if (index >= 0) {\n          _this.gameEngine.myPlayer.spawnMinion(index);\n        }\n      });\n\n      window.addEventListener('keypress', function () {\n        var index = _this.getCurrentPanelIndex();\n        if (index >= 0) {\n          _this.gameEngine.computer.spawnMinion(index);\n        }\n      });\n    }\n  }, {\n    key: 'calculateFPS',\n    value: function calculateFPS(timestamp) {\n      var delta = timestamp - this.lastTimeStamp;\n      delta = delta / 1000;\n      this.lastTimeStamp = timestamp;\n      return Math.round(1 / delta);\n    }\n  }, {\n    key: 'updateUI',\n    value: function updateUI(timestamp) {\n      scoreText.textContent = this.gameEngine.myPlayer.score;\n      moneyText.textContent = this.gameEngine.myPlayer.money;\n      fpsText.textContent = this.calculateFPS(timestamp);\n\n      if (this.gameEngine.myPlayer.base !== null) {\n        baseHealthText.textContent = Math.max(this.gameEngine.myPlayer.base.health, 0).toFixed(2) + \" / \" + this.gameEngine.myPlayer.base.maxHealth;\n      } else {\n        baseHealthText.textContent = \"0\";\n      }\n\n      minionBaseHealthText.textContent = _constants2.default.minion.baseHealth + _constants2.default.minion.upgrades.health.amount * this.gameEngine.myPlayer.upgrades.minionBaseHealth;\n      minionBaseAttackText.textContent = _constants2.default.minion.baseAttack + _constants2.default.minion.upgrades.attack.amount * this.gameEngine.myPlayer.upgrades.minionBaseAttack;\n      minionBaseAttackSpeedText.textContent = ((_constants2.default.minion.baseAttackSpeed + this.gameEngine.myPlayer.upgrades.minionBaseAttackSpeed * -_constants2.default.minion.upgrades.attackSpeed.amount) / 1000).toFixed(2) + 's';\n\n      archerBaseAttackText.textContent = _constants2.default.archer.baseAttack + this.gameEngine.myPlayer.upgrades.archerBaseAttack * _constants2.default.archer.upgrades.attack.amount;\n      archerBaseAttackSpeedText.textContent = ((_constants2.default.archer.baseAttackSpeed - this.gameEngine.myPlayer.upgrades.archerBaseAttackSpeed * _constants2.default.archer.upgrades.attackSpeed.amount) / 1000).toFixed(2) + \"s\";\n    }\n  }, {\n    key: 'renderLoop',\n    value: function renderLoop(timestamp) {\n      this.checkGridIntersections();\n      this.gameEngine.gameLoop(timestamp);\n\n      if (this.started) {\n        this.updateUI(timestamp);\n      }\n    }\n  }, {\n    key: 'initializeHudTexts',\n    value: function initializeHudTexts() {\n      scoreText = document.getElementById('score');\n      moneyText = document.getElementById('money');\n      fpsText = document.getElementById('fps');\n      baseHealthText = document.getElementById('baseHealth');\n      minionBaseHealthText = document.getElementById('minionBaseHealth');\n      minionBaseAttackText = document.getElementById('minionBaseAttack');\n      minionBaseAttackSpeedText = document.getElementById('minionBaseAttackSpeed');\n      archerBaseAttackText = document.getElementById('archerBaseAttack');\n      archerBaseAttackSpeedText = document.getElementById('archerBaseAttackSpeed');\n    }\n  }, {\n    key: 'initializeUpgradeButtons',\n    value: function initializeUpgradeButtons() {\n      var gameView = this;\n      baseHealthUpgrade = document.getElementById('baseHealthUpgrade');\n      baseHealthUpgrade.addEventListener('click', function () {\n        if (gameView.gameEngine.myPlayer.money > _constants2.default.base.upgrades.health.cost) {\n          gameView.gameEngine.myPlayer.base.maxHealth += _constants2.default.base.upgrades.health.amount;\n          gameView.gameEngine.myPlayer.base.health += _constants2.default.base.upgrades.health.amount;\n          gameView.gameEngine.myPlayer.money -= _constants2.default.base.upgrades.health.cost;\n        }\n      });\n\n      minionBaseHealthUpgrade = document.getElementById('minionBaseHealthUpgrade');\n      minionBaseHealthUpgrade.addEventListener('click', function () {\n        if (gameView.gameEngine.myPlayer.money > _constants2.default.minion.upgrades.health.cost) {\n          gameView.gameEngine.myPlayer.upgrades.minionBaseHealth++;\n          gameView.gameEngine.myPlayer.money -= _constants2.default.minion.upgrades.health.cost;\n        }\n      });\n\n      minionBaseAttackUpgrade = document.getElementById('minionBaseAttackUpgrade');\n      minionBaseAttackUpgrade.addEventListener('click', function () {\n        if (gameView.gameEngine.myPlayer.money > _constants2.default.minion.upgrades.attack.cost) {\n          gameView.gameEngine.myPlayer.upgrades.minionBaseAttack++;\n          gameView.gameEngine.myPlayer.money -= _constants2.default.minion.upgrades.attack.cost;\n        }\n      });\n\n      minionBaseAttackSpeedUpgrade = document.getElementById('minionBaseAttackSpeedUpgrade');\n      minionBaseAttackSpeedUpgrade.addEventListener('click', function () {\n        if (gameView.gameEngine.myPlayer.money > _constants2.default.minion.upgrades.attackSpeed.cost) {\n          gameView.gameEngine.myPlayer.upgrades.minionBaseAttackSpeed++;\n          gameView.gameEngine.myPlayer.money -= _constants2.default.minion.upgrades.attackSpeed.cost;\n        }\n      });\n\n      archerBaseAttackUpgrade = document.getElementById('archerBaseAttackUpgrade');\n      archerBaseAttackUpgrade.addEventListener('click', function () {\n        if (gameView.gameEngine.myPlayer.money > _constants2.default.archer.upgrades.attack.cost) {\n          gameView.gameEngine.myPlayer.archers.forEach(function (archer) {\n            archer.attackStrength += _constants2.default.archer.upgrades.attack.amount;\n          });\n\n          gameView.gameEngine.myPlayer.upgrades.archerBaseAttack++;\n          gameView.gameEngine.myPlayer.money -= _constants2.default.archer.upgrades.attack.cost;\n        }\n      });\n\n      archerBaseAttackSpeedUpgrade = document.getElementById('archerBaseAttackSpeedUpgrade');\n      archerBaseAttackSpeedUpgrade.addEventListener('click', function () {\n        if (gameView.gameEngine.myPlayer.money > _constants2.default.archer.upgrades.attackSpeed.cost) {\n          gameView.gameEngine.myPlayer.archers.forEach(function (archer) {\n            archer.attackSpeed -= _constants2.default.archer.upgrades.attackSpeed.amount;\n            archer.arrowSpeed -= _constants2.default.archer.upgrades.attackSpeed.amount;\n          });\n\n          gameView.gameEngine.myPlayer.upgrades.archerBaseAttackSpeed++;\n          gameView.gameEngine.myPlayer.money -= _constants2.default.archer.upgrades.attackSpeed.cost;\n        }\n      });\n    }\n  }]);\n\n  return GameView;\n}();\n\nexports.default = GameView;\n\n},{\"./constants\":5,\"./menu-screen\":8}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.activateMenu = activateMenu;\nexports.closeMenu = closeMenu;\nexports.bindButtons = bindButtons;\nvar modal = document.getElementById('modal');\nvar startSection = document.getElementById('startModal');\nvar startButton = document.getElementById('startButton');\nvar restartSection = document.getElementById('restartModal');\nvar restartButton = document.getElementById('restartButton');\nvar restartModalMessage = document.getElementById('restartModalMessage');\n\nfunction activateStartScreen() {\n  startSection.classList.add('modal--visible');\n  restartSection.classList.remove('modal--visible');\n}\n\nfunction activateRestartScreen(winner, score) {\n\n  var text = 'Player ' + (winner.id + 1) + ' wins with a score of ' + score + '!';\n  restartModalMessage.textContent = text;\n\n  startSection.classList.remove('modal--visible');\n  restartSection.classList.add('modal--visible');\n}\n\nfunction activateMenu(args) {\n  modal.classList.add('modal--visible');\n\n  if (args.winner !== null) {\n    activateRestartScreen(args.winner, args.score);\n  } else {\n    activateStartScreen();\n  }\n}\n\nfunction closeMenu(args) {\n  modal.classList.remove('modal--visible');\n}\n\nfunction bindButtons(gameView, gameEngine) {\n  startButton.addEventListener('click', function () {\n    gameView.startFirstGame();\n    closeMenu();\n  });\n\n  restartButton.addEventListener('click', function () {\n    gameEngine.restart();\n    closeMenu();\n  });\n}\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Minion = function () {\n  function Minion(args) {\n    _classCallCheck(this, Minion);\n\n    this.direction = args.direction;\n    this.colliderList = args.colliderList;\n    this.id = args.id;\n    this.playerId = args.playerId;\n    this.player = args.player;\n    this.startingZ = args.startingZ;\n    this.scene = args.scene;\n\n    this.maxHealth = _constants2.default.minion.baseHealth + args.healthUpgrade * _constants2.default.minion.upgrades.health.amount;\n    this.attackStrength = _constants2.default.minion.baseAttack + args.attackUpgrade * _constants2.default.minion.upgrades.attack.amount;\n    this.attackSpeed = _constants2.default.minion.baseAttackSpeed + args.attackSpeedUpgrade * -_constants2.default.minion.upgrades.attackSpeed.amount;\n    this.defaultSpeed = .3;\n\n    this.health = this.maxHealth;\n    this.speed = this.defaultSpeed;\n    this.attackProperties = {\n      lastTimeStamp: null,\n      attackTime: 0\n    };\n\n    this.attackAnimationProperties = {\n      direction: 1,\n      speed: this.attackSpeed / 2\n    };\n\n    this.walkingAnimationProperties = {\n      direction: this.direction,\n      speed: 50 / this.defaultSpeed, // This should not change only change the speed of the minion and the animation will update accordingly\n      lastTimeStamp: null,\n      time: 0\n    };\n\n    this.killReward = {\n      money: 75,\n      score: 25\n    };\n\n    this.destroy = false;\n    this.attack = false;\n\n    this.rotObjectMatrix = null;\n\n    this.initializeView(this.startingZ);\n    this.registerCollision();\n  }\n\n  _createClass(Minion, [{\n    key: 'initializeView',\n    value: function initializeView(startingZ) {\n      var hitBoxOpacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      this.viewObj = new THREE.Group();\n\n      var hitGeometry = new THREE.BoxGeometry(3, 8, 3);\n      var hitMaterial = new THREE.MeshBasicMaterial({ color: 0x00ffff, transparent: true, opacity: hitBoxOpacity });\n      var hitMesh = new THREE.Mesh(hitGeometry, hitMaterial);\n\n      this.healthBar = this.initializeHealthBar();\n\n      hitMesh.add(this.healthBar);\n      this.viewObj = hitMesh;\n      this.hitBox = this.viewObj;\n\n      var z = startingZ * (_constants.gridWidth / _constants.gridSubDiv) - _constants.gridWidth / 2 + _constants.gridWidth / _constants.gridSubDiv / 2;\n      var x = _constants.gridWidth / 2 * -this.direction;\n      this.viewObj.position.z = z;\n      this.viewObj.position.x = x;\n      this.viewObj.position.y = 4;\n\n      this.hitBox.userData.object = this;\n      this.hitBox.userData.player = this.player;\n      hitGeometry.dispose();\n      hitMaterial.dispose();\n    }\n  }, {\n    key: 'getPosition',\n    value: function getPosition() {\n      return this.viewObj.position;\n    }\n  }, {\n    key: 'initializeHealthBar',\n    value: function initializeHealthBar() {\n      this._healthBarWidth = 2;\n      var fullHealthBarGeometry = new THREE.BoxGeometry(this._healthBarWidth, 0.3, 0.3);\n      var fullHealthBarMaterial = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n      var fullHealthBarMesh = new THREE.Mesh(fullHealthBarGeometry, fullHealthBarMaterial);\n      fullHealthBarMesh.name = \"FullHealthBar\";\n\n      var emptyHealthBarGeometry = new THREE.BoxGeometry(this._healthBarWidth, 0.2, 0.2);\n      var emptyHealthBarMaterial = new THREE.MeshBasicMaterial({ color: 0xff0000 });\n      var emptyHealthBarMesh = new THREE.Mesh(emptyHealthBarGeometry, emptyHealthBarMaterial);\n      emptyHealthBarMesh.name = \"EmptyHealthBar\";\n\n      var healthBarGroup = new THREE.Group();\n      healthBarGroup.add(fullHealthBarMesh);\n      healthBarGroup.add(emptyHealthBarMesh);\n\n      healthBarGroup.position.y = 4;\n\n      return healthBarGroup;\n    }\n  }, {\n    key: 'isObjectLoaded',\n    value: function isObjectLoaded(obj) {\n      return obj.position.x === 0 && obj.position.y === 0 && obj.position.z === 0;\n    }\n  }, {\n    key: 'registerCollision',\n    value: function registerCollision() {\n      var _this = this;\n\n      this.hitBox.geometry.computeBoundingBox();\n      var box3 = this.hitBox.geometry.boundingBox.clone();\n      this.collider = new THREEx.ColliderBox3(this.hitBox, box3);\n\n      this.colliderList.push(this.collider);\n\n      this.collider.addEventListener('contactEnter', function (otherCollider) {\n        var userData = otherCollider.object3d.userData;\n\n        if (userData.player.id === _this.playerId) {\n          return;\n        }\n        if (userData.ranged) {\n          return;\n        }\n\n        _this.speed = 0;\n        _this.attack = true;\n        _this.currentTarget = userData.object;\n        _this.resetWalkAnimation();\n      });\n\n      this.collider.addEventListener('contactStay', function (otherCollider) {\n        var userData = otherCollider.object3d.userData;\n\n        if (userData.player.id === _this.playerId) {\n          return;\n        }\n        if (userData.ranged) {\n          return;\n        }\n\n        if (_this.currentTarget === null) {\n          _this.speed = 0;\n          _this.attack = true;\n          _this.currentTarget = userData.object;\n          _this.resetWalkAnimation();\n        }\n      });\n\n      this.collider.addEventListener('contactRemoved', function (otherCollider) {\n        _this.speed = _this.defaultSpeed;\n        _this.attack = false;\n        _this.currentTarget = null;\n      });\n\n      this.collider.addEventListener('contactExit', function (otherCollider) {\n        _this.speed = _this.defaultSpeed;\n        _this.attack = false;\n        _this.currentTarget = null;\n      });\n    }\n  }, {\n    key: 'getAttackValue',\n    value: function getAttackValue() {\n      var critProc = Math.random();\n      return critProc >= .9 ? this.attackStrength * (Math.random() + 1) : this.attackStrength;\n    }\n  }, {\n    key: 'updateHealthBar',\n    value: function updateHealthBar() {\n      var healthPercent = this.health / this.maxHealth;\n      var healthBarOffset = -(1 - healthPercent) * this._healthBarWidth / 2;\n      var fullHealthBar = this.healthBar.getObjectByName('FullHealthBar');\n\n      fullHealthBar.scale.x = healthPercent;\n      fullHealthBar.position.x = healthBarOffset;\n    }\n  }, {\n    key: 'runLoop',\n    value: function runLoop(timestamp) {\n      this.attackProcedure(timestamp);\n      this.viewObj.position.x += this.speed * this.direction;\n      this.walkProcedure(timestamp);\n\n      this.collider.update();\n      this.updateHealthBar();\n    }\n  }, {\n    key: 'attackProcedure',\n    value: function attackProcedure(timestamp) {\n      if (this.health <= 0) {\n        return;\n      }\n\n      if (this.attackProperties.lastTimeStamp != null && this.attack) {\n        var delta = timestamp - this.attackProperties.lastTimeStamp;\n        this.attackProperties.attackTime = this.attackProperties.attackTime + delta;\n        this.attackProperties.lastTimeStamp = timestamp;\n        this.attackLoop(delta);\n      } else if (this.attack) {\n        this.attackProperties.attackTime = 0;\n        this.attackProperties.lastTimeStamp = timestamp;\n        this.attackLoop(0);\n      }\n\n      this.attackProperties.lastTimeStamp = timestamp;\n    }\n  }, {\n    key: 'attackLoop',\n    value: function attackLoop(delta) {\n      if (this.currentTarget === null || this.currentTarget.playerId === this.playerId) {\n        return;\n      }\n      this.animateAttack(delta);\n      if (this.attackProperties.attackTime <= this.attackSpeed) {\n        return;\n      }\n\n      this.currentTarget.health -= this.getAttackValue();\n\n      if (this.currentTarget.health <= 0) {\n        this.player.processReward(this.currentTarget.killReward);\n\n        this.currentTarget.attack = false;\n        this.currentTarget.destroy = true;\n        this.currentTarget = null;\n      }\n\n      this.attackProperties.attackTime = 0;\n      this.attackProperties.lastTimeStamp = null;\n    }\n  }, {\n    key: 'animateAttack',\n    value: function animateAttack(delta) {\n      if (this.viewObj.children.length > 1) {\n        var rightArm = this.viewObj.children[1].children[1];\n        var currentAttackTime = this.attackProperties.attackTime;\n        var direction = this.attackAnimationProperties.direction;\n        var animationSpeed = this.attackAnimationProperties.speed;\n        var maxRotation = 135;\n\n        var rotation = direction * (maxRotation * (Math.PI / 180) * (delta / animationSpeed));\n        rotation = Math.min(rightArm.rotation.z + rotation, maxRotation);\n        rotation = Math.max(rotation, 0);\n\n        rightArm.rotation.z = rotation;\n        if (currentAttackTime > animationSpeed) {\n          this.attackAnimationProperties.direction = -1;\n        } else {\n          this.attackAnimationProperties.direction = 1;\n        }\n      }\n    }\n  }, {\n    key: 'resetAttackAnimation',\n    value: function resetAttackAnimation() {\n      if (this.viewObj.children.length > 1) {\n        var rightArm = this.viewObj.children[1].children[1];\n        rightArm.rotation.z = 0;\n      }\n    }\n  }, {\n    key: 'walkProcedure',\n    value: function walkProcedure(timestamp) {\n      if (!this.attack && this.walkingAnimationProperties.lastTimeStamp !== null) {\n        var delta = timestamp - this.walkingAnimationProperties.lastTimeStamp;\n        this.walkingAnimationProperties.time = this.walkingAnimationProperties.time + delta;\n        this.walkLoop(delta);\n      } else {\n        this.walkLoop(0);\n      }\n\n      this.walkingAnimationProperties.lastTimeStamp = timestamp;\n    }\n  }, {\n    key: 'walkLoop',\n    value: function walkLoop(delta) {\n      this.animateWalk(delta);\n      if (this.walkingAnimationProperties.time <= this.walkingAnimationProperties.speed) {\n        return;\n      }\n      this.walkingAnimationProperties.time = 0;\n    }\n  }, {\n    key: 'animateWalk',\n    value: function animateWalk(delta) {\n      if (this.viewObj.children.length > 1 && !this.attack) {\n        var legs = this.viewObj.children[1].children[3];\n        var leftLeg = legs.children[0];\n        var rightLeg = legs.children[1];\n        var animationTime = this.walkingAnimationProperties.time;\n        var animationSpeed = this.walkingAnimationProperties.speed;\n        var direction = this.walkingAnimationProperties.direction;\n        var maxRotation = 45;\n\n        var rotation = maxRotation * (delta / animationSpeed);\n\n        if (direction) {\n          this.animateLegForward(leftLeg, rotation, maxRotation, delta);\n          this.animateLegBack(rightLeg, rotation, maxRotation, delta);\n        } else {\n          this.animateLegForward(rightLeg, rotation, maxRotation, delta);\n          this.animateLegBack(leftLeg, rotation, maxRotation, delta);\n        }\n\n        if (this.toDegrees(leftLeg.rotation.z) >= maxRotation || this.toDegrees(leftLeg.rotation.z) <= -maxRotation) {\n          this.walkingAnimationProperties.direction = !this.walkingAnimationProperties.direction;\n        }\n      }\n    }\n  }, {\n    key: 'animateLegBack',\n    value: function animateLegBack(leg, rotation, maxRotation, delta) {\n      var max = this.toRadians(-maxRotation);\n\n      if (leg.rotation.z + this.toRadians(-rotation) < max) {\n        leg.rotation.z = max;\n      } else {\n        leg.rotation.z += this.toRadians(-rotation);\n      }\n    }\n  }, {\n    key: 'animateLegForward',\n    value: function animateLegForward(leg, rotation, maxRotation, delta) {\n      var max = this.toRadians(maxRotation);\n      if (leg.rotation.z + this.toRadians(rotation) > max) {\n        leg.rotation.z = max;\n      } else {\n        leg.rotation.z += this.toRadians(rotation);\n      }\n    }\n  }, {\n    key: 'resetWalkAnimation',\n    value: function resetWalkAnimation() {\n      if (this.viewObj.children.length > 1) {\n        var legs = this.viewObj.children[1].children[3];\n        var leftLeg = legs.children[0];\n        var rightLeg = legs.children[1];\n\n        leftLeg.rotation.z = 0;\n        rightLeg.rotation.z = 0;\n      }\n    }\n  }, {\n    key: 'toDegrees',\n    value: function toDegrees(angleRadians) {\n      return angleRadians * 180 / Math.PI;\n    }\n  }, {\n    key: 'toRadians',\n    value: function toRadians(angleDegrees) {\n      return angleDegrees / 180 * Math.PI;\n    }\n  }]);\n\n  return Minion;\n}();\n\nexports.default = Minion;\n\n},{\"./constants\":5}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _minion = require('./minion');\n\nvar _minion2 = _interopRequireDefault(_minion);\n\nvar _archer = require('./archer');\n\nvar _archer2 = _interopRequireDefault(_archer);\n\nvar _base = require('./base');\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Player = function () {\n  function Player(args) {\n    _classCallCheck(this, Player);\n\n    this.type = args.type;\n    this.id = args.id;\n    this.direction = args.direction;\n    this.colliderList = args.colliderList;\n    this.colliderSystem = args.colliderSystem;\n    this.scene = args.scene;\n    this.minionId = 0;\n    this.spawnPos = -_constants.gridWidth / 2 * this.direction;\n\n    this.setUpgradeValues();\n    this.loader = new THREE.ObjectLoader();\n\n    this.setupGameState();\n    this.spawnBase();\n    this.spawnArchers();\n  }\n\n  _createClass(Player, [{\n    key: 'spawnArchers',\n    value: function spawnArchers() {\n      var _this = this;\n\n      var archer = new _archer2.default({\n        scene: this.scene,\n        colliderList: this.colliderList,\n        startingZ: 2,\n        startingY: 20,\n        startingX: this.spawnPos,\n        direction: this.direction,\n        player: this\n      });\n\n      this.archers.push(archer);\n\n      this.loader.load('./geometry/wizard.json', function (obj) {\n        obj.position.y = -4;\n        archer.viewObj.add(obj);\n\n        archer.bodyModel = archer.viewObj.children[2];\n        archer.rightArm = archer.bodyModel.children[1];\n        archer.rightArm.rotation.z = 135 / 180 * Math.PI;\n        if (archer.direction === -1) {\n          archer.viewObj.children[2].rotation.y = Math.PI;\n          archer.startingRotation = Math.PI;\n        }\n\n        _this.scene.add(archer.viewObj);\n      });\n    }\n  }, {\n    key: 'spawnBase',\n    value: function spawnBase() {\n      this.base = new _base2.default({\n        direction: this.direction,\n        colliderList: this.colliderList,\n        player: this\n      });\n\n      this.scene.add(this.base.viewObj);\n    }\n  }, {\n    key: 'spawnMinion',\n    value: function spawnMinion(index) {\n      var _this2 = this;\n\n      if (this.money >= this.minionCost) {\n        if (!this.gameOver) {\n          this.money -= this.minionCost;\n        }\n\n        var minion = new _minion2.default({\n          id: this.minionId++,\n          healthUpgrade: this.upgrades.minionBaseHealth,\n          attackUpgrade: this.upgrades.minionBaseAttack,\n          attackSpeedUpgrade: this.upgrades.minionBaseAttackSpeed,\n          playerId: this.id,\n          direction: this.direction,\n          startingZ: index,\n          colliderList: this.colliderList,\n          player: this\n        });\n\n        this.minions.push(minion);\n        this.loader.load('./geometry/model.json', function (obj) {\n          obj.position.y = -4;\n          minion.viewObj.add(obj);\n\n          if (minion.direction === -1) {\n            minion.viewObj.children[1].rotation.y = Math.PI;\n          }\n\n          _this2.scene.add(minion.viewObj);\n        });\n      }\n    }\n  }, {\n    key: 'processReward',\n    value: function processReward(reward) {\n      if (this.gameOver) {\n        return;\n      }\n      var t = this;\n      Object.keys(reward).forEach(function (key) {\n        t[key] += reward[key];\n      });\n    }\n  }, {\n    key: 'runLoop',\n    value: function runLoop(timestamp) {\n      var _this3 = this;\n\n      if (this.base !== null) {\n        this.base.runLoop();\n        if (this.base.destroy) {\n          this.destroyBase();\n        }\n      }\n\n      this.archers.forEach(function (archer) {\n        archer.runLoop(timestamp);\n      });\n\n      this.minions.forEach(function (minion, index) {\n        minion.runLoop(timestamp);\n        if (!minion.attack) {\n          minion.resetAttackAnimation();\n        }\n        if (minion.destroy) {\n          _this3.destroyMinion(minion, index);\n        }\n      });\n\n      this.colliderSystem.computeAndNotify(this.colliderList);\n    }\n  }, {\n    key: 'destroyMinion',\n    value: function destroyMinion(minion, index) {\n      this.scene.remove(minion.viewObj);\n\n      this.colliderList.splice(this.findColliderIndex(minion.collider.id), 1);\n      minion.collider.removeEventListener('contactEnter');\n      minion.collider.removeEventListener('contactStay');\n      minion.collider.removeEventListener('contactExit');\n      minion.collider.removeEventListener('contactRemoved');\n      this.minions.splice(index, 1);\n    }\n  }, {\n    key: 'destroyBase',\n    value: function destroyBase() {\n      var _this4 = this;\n\n      this.archers.forEach(function (archer) {\n        _this4.scene.remove(archer.viewObj);\n        _this4.colliderList.splice(_this4.findColliderIndex(archer.collider.id), 1);\n      });\n      this.archers.length = 0;\n\n      this.scene.remove(this.base.viewObj);\n      this.colliderList.splice(this.findColliderIndex(this.base.collider.id), 1);\n      this.base = null;\n      this.lost = true;\n    }\n  }, {\n    key: 'findColliderIndex',\n    value: function findColliderIndex(id) {\n      var index = -1;\n\n      for (var i = 0; i < this.colliderList.length; i++) {\n        if (this.colliderList[i].id === id) {\n          index = i;\n        }\n      }\n\n      return index;\n    }\n  }, {\n    key: 'setGameOver',\n    value: function setGameOver() {\n      this.gameOver = true;\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      var _this5 = this;\n\n      this.minions.forEach(function (minion) {\n        _this5.scene.remove(minion.viewObj);\n      });\n\n      if (this.base) {\n        this.scene.remove(this.base.viewObj);\n        this.base = null;\n      }\n\n      this.archers.forEach(function (archers) {\n        _this5.scene.remove(archers.viewObj);\n      });\n\n      this.gameOver = false;\n      this.setUpgradeValues();\n      this.setupGameState();\n      this.spawnBase();\n      this.spawnArchers();\n    }\n  }, {\n    key: 'setupGameState',\n    value: function setupGameState() {\n      this.minions = [];\n      this.archers = [];\n      this.score = 0;\n      this.money = 4000;\n      this.minionCost = 50;\n      this.lost = false;\n    }\n  }, {\n    key: 'setUpgradeValues',\n    value: function setUpgradeValues() {\n      this.upgrades = {\n        minionBaseHealth: 0,\n        minionBaseAttack: 0,\n        minionBaseAttackSpeed: 0,\n        archerBaseAttack: 0,\n        archerBaseAttackSpeed: 0\n      };\n    }\n  }]);\n\n  return Player;\n}();\n\nexports.default = Player;\n\n},{\"./archer\":3,\"./base\":4,\"./constants\":5,\"./minion\":9}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setupScreenView = setupScreenView;\nexports.setupPerformance = setupPerformance;\nfunction handleResize(renderer, camera) {\n  var w = window.innerWidth;\n  var h = window.innerHeight;\n  renderer.setSize(w, h);\n  camera.aspect = w / h;\n  camera.updateProjectionMatrix();\n}\n\nfunction setupResizing(renderer, camera) {\n  window.addEventListener('resize', function () {\n    handleResize(renderer, camera);\n  });\n}\n\nfunction setupScreenView() {\n  var scene = new THREE.Scene();\n  var camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 1000);\n  var renderer = new THREE.WebGLRenderer();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  document.body.appendChild(renderer.domElement);\n\n  setupResizing(renderer, camera);\n\n  return { scene: scene, camera: camera, renderer: renderer };\n}\n\nfunction setupPerformance() {\n  var rendererStats = new THREEx.RendererStats();\n  rendererStats.domElement.style.position = 'absolute';\n  rendererStats.domElement.style.left = '0px';\n  rendererStats.domElement.style.bottom = '0px';\n  document.body.appendChild(rendererStats.domElement);\n  return rendererStats;\n}\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvYXBwLmpzIiwic3JjL2pzL21vZHVsZXMvYWktcGxheWVyLmpzIiwic3JjL2pzL21vZHVsZXMvYXJjaGVyLmpzIiwic3JjL2pzL21vZHVsZXMvYmFzZS5qcyIsInNyYy9qcy9tb2R1bGVzL2NvbnN0YW50cy5qcyIsInNyYy9qcy9tb2R1bGVzL2dhbWUtZW5naW5lLmpzIiwic3JjL2pzL21vZHVsZXMvZ2FtZS12aWV3LmpzIiwic3JjL2pzL21vZHVsZXMvbWVudS1zY3JlZW4uanMiLCJzcmMvanMvbW9kdWxlcy9taW5pb24uanMiLCJzcmMvanMvbW9kdWxlcy9wbGF5ZXIuanMiLCJzcmMvanMvbW9kdWxlcy92aWV3LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFJQTs7OztBQUNBOzs7Ozs7QUFFQTtBQUNBLElBQUksZ0JBQUo7O0FBRUEsSUFBSSxtQkFBSjtBQUFBLElBQWdCLGlCQUFoQjtBQUNBLElBQUksc0JBQUo7QUFDQSxJQUFJLGNBQWMsSUFBbEI7O0FBRUEsU0FBUyxJQUFULEdBQWdCO0FBQUEseUJBQ29CLDRCQURwQjtBQUFBLE1BQ1IsS0FEUSxvQkFDUixLQURRO0FBQUEsTUFDRCxNQURDLG9CQUNELE1BREM7QUFBQSxNQUNPLFFBRFAsb0JBQ08sUUFEUDs7QUFFZCxZQUFVLEVBQUUsWUFBRixFQUFTLGNBQVQsRUFBaUIsa0JBQWpCLEVBQVY7O0FBRUEsTUFBRyxXQUFILEVBQWdCO0FBQ2Qsb0JBQWdCLDZCQUFoQjtBQUNEOztBQUVELGVBQWEseUJBQWUsT0FBZixDQUFiO0FBQ0EsYUFBVyx1QkFBYSxPQUFiLEVBQXNCLFVBQXRCLENBQVg7O0FBRUE7QUFDRDs7QUFFRCxTQUFTLE1BQVQsQ0FBZ0IsU0FBaEIsRUFBMkI7QUFDekIsd0JBQXNCLE1BQXRCO0FBQ0EsV0FBUyxVQUFULENBQW9CLFNBQXBCOztBQUVBLFVBQVEsUUFBUixD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MUM7QUFDQSxnQkFBYyxVQUFkLENBQXlCLEtBQXpCLENBQStCLElBQS9CLEdBQXNDLEtBQXRDO0FBQ0EsZ0JBQWMsVUFBZCxDQUF5QixLQUF6QixDQUErQixNQUEvQixHQUF3QyxLQUF4QztBQUNBLFdBQVMsSUFBVCxDQUFjLFdBQWQsQ0FBMkIsY0FBYyxVQUF6QztBQUNBLFNBQU8sYUFBUDtBQUNEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7XG4gIHNldHVwU2NyZWVuVmlldywgc2V0dXBQZXJmb3JtYW5jZVxufSBmcm9tICcuL21vZHVsZXMvdmlldyc7XG5cbmltcG9ydCBHYW1lRW5naW5lIGZyb20gJy4vbW9kdWxlcy9nYW1lLWVuZ2luZSc7XG5pbXBvcnQgR2FtZVZpZXcgZnJvbSAnLi9tb2R1bGVzL2dhbWUtdmlldyc7XG5cbi8vIEdsb2JhbHNcbmxldCBnbG9iYWxzO1xuXG5sZXQgZ2FtZUVuZ2luZSwgZ2FtZVZpZXc7XG5sZXQgcmVuZGVyZXJTdGF0cztcbmxldCBwZXJmb3JtYW5jZSA9IHRydWU7XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gIGxldCB7IHNjZW5lLCBjYW1lcmEsIHJlbmRlcmVyIH0gPSBzZXR1cFNjcmVlblZpZXcoKTtcbiAgZ2xvYmFscyA9IHsgc2NlbmUsIGNhbWVyYSwgcmVuZGVyZXIgfTtcblxuICBpZihwZXJmb3JtYW5jZSkge1xuICAgIHJlbmRlcmVyU3RhdHMgPSBzZXR1cFBlcmZvcm1hbmNlKCk7XG4gIH1cblxuICBnYW1lRW5naW5lID0gbmV3IEdhbWVFbmdpbmUoZ2xvYmFscyk7XG4gIGdhbWVWaWV3ID0gbmV3IEdhbWVWaWV3KGdsb2JhbHMsIGdhbWVFbmdpbmUpO1xuXG4gIHJlbmRlcigpO1xufVxuXG5mdW5jdGlvbiByZW5kZXIodGltZXN0YW1wKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICBnYW1lVmlldy5yZW5kZXJMb29wKHRpbWVzdGFtcCk7XG5cbiAgZ2xvYmFscy5yZW5kZXJlci5yZW5kZXIoZ2xvYmFscy5zY2VuZSwgZ2xvYmFscy5jYW1lcmEpO1xuICBpZihwZXJmb3JtYW5jZSkge1xuICAgIHJlbmRlcmVyU3RhdHMudXBkYXRlKGdsb2JhbHMucmVuZGVyZXIpO1xuICB9XG59XG5cbmluaXQoKTtcbiIsIkFycmF5LnByb3RvdHlwZS51bmlxdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIHNlbGYpIHsgXG4gICAgcmV0dXJuIHNlbGYuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4O1xuICB9KTtcbn1cblxuaW1wb3J0IHsgZ3JpZFdpZHRoLCBncmlkTGVuZ3RoLCBncmlkU3ViRGl2IH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBSSB7XG5cbiAgY29uc3RydWN0b3IoYXJncykge1xuICAgIHRoaXMuZGV0ZXJtaW5lQUlGdW5jdGlvbihhcmdzLnBlcnNvbmFsaXR5KTtcbiAgICB0aGlzLnBsYXllciA9IGFyZ3MucGxheWVyO1xuICAgIHRoaXMuc3Bhd25JbnRlcnZhbCA9IDQwMDtcbiAgICB0aGlzLmxhc3RTcGF3biA9IDA7XG4gICAgdGhpcy5wb3BwdWxhdGlvbkxpbWl0ID0gMTU7XG4gIH1cblxuICBjYW5TcGF3bih0aW1lc3RhbXApIHtcbiAgICByZXR1cm4gdGltZXN0YW1wIC0gdGhpcy5sYXN0U3Bhd24gPiB0aGlzLnNwYXduSW50ZXJ2YWw7XG4gIH1cblxuICBydW5Mb29wKHRpbWVzdGFtcCwgb3Bwb25lbnRzKSB7XG4gICAgaWYoIXRoaXMuY2FuU3Bhd24odGltZXN0YW1wKSkgeyByZXR1cm47IH1cblxuICAgIGxldCBzcGF3bkluZGV4ID0gdGhpcy5BSUZ1bmN0aW9uKG9wcG9uZW50cywgdGhpcy5wbGF5ZXIubWluaW9ucyk7XG5cbiAgICBpZihzcGF3bkluZGV4ID49IDAgJiYgdGhpcy5wbGF5ZXIubWluaW9ucy5sZW5ndGggPCB0aGlzLnBvcHB1bGF0aW9uTGltaXQpIHtcbiAgICAgIHRoaXMucGxheWVyLnNwYXduTWluaW9uKHNwYXduSW5kZXgpO1xuICAgICAgdGhpcy5sYXN0U3Bhd24gPSB0aW1lc3RhbXA7XG4gICAgfVxuICB9XG5cbiAgcmFuZG9tQUkob3Bwb25lbnRzKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGdyaWRTdWJEaXYpO1xuICB9XG5cbiAgbmlja3NBSShvcHBvbmVudHMsIGZyaWVuZGxpZXMpIHtcbiAgICBsZXQgc3RhcnRpbmdQb3MgPSB0aGlzLnBsYXllci5zcGF3blBvcztcblxuICAgIGxldCBmcmllbmRseU1hcCA9IGZyaWVuZGxpZXMubWFwKG0gPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm93OiBtLnN0YXJ0aW5nWixcbiAgICAgICAgZGlzdGFuY2U6IG0uZ2V0UG9zaXRpb24oKS54IC0gc3RhcnRpbmdQb3NcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxldCBvcHBvbmVudE1hcCA9IG9wcG9uZW50cy5tYXAobSA9PiB7XG5cbiAgICAgIGxldCBkaXN0YW5jZSA9IHN0YXJ0aW5nUG9zIC0gbS5nZXRQb3NpdGlvbigpLng7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByb3c6IG0uc3RhcnRpbmdaLFxuICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBsZXQgcm93QXJyYXkgPSBbXTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZ3JpZFN1YkRpdjsgaSsrKSB7IHJvd0FycmF5LnB1c2goaSk7IH1cblxuICAgIGxldCBkZWNpc2lvbiA9IHtcbiAgICAgIGhhc0ZyaWVuZGxpZXM6IFtdLFxuICAgICAgY2xvc2VzdEluZGV4OiAtMSxcbiAgICAgIGNsb3Nlc3RWYWw6IDk5OTk5LFxuICAgICAgZGlzdGFuY2VUaWVzOiBbXVxuXG4gICAgfTtcblxuICAgIGZyaWVuZGx5TWFwLmZvckVhY2goKHZhbCwgaWR4KSA9PiB7XG4gICAgICBkZWNpc2lvbi5oYXNGcmllbmRsaWVzLnB1c2godmFsLnJvdyk7XG4gICAgfSk7XG5cblxuICAgIG9wcG9uZW50TWFwLmZvckVhY2goKHZhbCwgaWR4KSA9PiB7XG4gICAgICBpZih2YWwuZGlzdGFuY2UgPCBkZWNpc2lvbi5jbG9zZXN0VmFsKSB7XG4gICAgICAgIGRlY2lzaW9uLmNsb3Nlc3RJbmRleCA9IHZhbC5yb3c7XG4gICAgICAgIGRlY2lzaW9uLmNsb3Nlc3RWYWwgPSB2YWwuZGlzdGFuY2U7XG5cbiAgICAgICAgaWYoZGVjaXNpb24uZGlzdGFuY2VUaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBkZWNpc2lvbi5kaXN0YW5jZVRpZXMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmKHZhbC5kaXN0YW5jZSA9PT0gZGVjaXNpb24uY2xvc2VzdFZhbCkge1xuICAgICAgICBkZWNpc2lvbi5kaXN0YW5jZVRpZXMucHVzaCh2YWwucm93KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlY2lzaW9uLmRpc3RhbmNlVGllcy5wdXNoKGRlY2lzaW9uLmNsb3Nlc3RJbmRleCk7XG4gICAgZGVjaXNpb24uaGFzRnJpZW5kbGllcyA9IGRlY2lzaW9uLmhhc0ZyaWVuZGxpZXMudW5pcXVlKCk7XG5cbiAgICBsZXQgZnVsbElkeEFyciA9IHJvd0FycmF5LnNsaWNlKDApO1xuXG4gICAgZGVjaXNpb24uZ2FwcyA9IGZ1bGxJZHhBcnIuZmlsdGVyKHggPT4ge1xuICAgICAgcmV0dXJuIGRlY2lzaW9uLmhhc0ZyaWVuZGxpZXMuaW5kZXhPZih4KSA8IDA7XG4gICAgfSk7XG5cblxuICAgIC8vaWYoZnJpZW5kbGllcy5sZW5ndGggPiAzKSB7XG4gICAgICAvL2ZyaWVuZGxpZXNbMl0udmlld09iai5wb3NpdGlvbi56ICs9IDE7XG4gICAgLy99XG5cblxuICAgIGxldCBhcnJheVRvVXNlO1xuICAgIGlmKGRlY2lzaW9uLmNsb3Nlc3RWYWwgPCBncmlkV2lkdGgvMikge1xuICAgICAgYXJyYXlUb1VzZSA9IGRlY2lzaW9uLmRpc3RhbmNlVGllcztcbiAgICB9IGVsc2Uge1xuICAgICAgYXJyYXlUb1VzZSA9IGRlY2lzaW9uLmdhcHM7XG4gICAgfVxuXG4gICAgbGV0IGFycklkeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFycmF5VG9Vc2UubGVuZ3RoKTtcbiAgICByZXR1cm4gYXJyYXlUb1VzZVthcnJJZHhdO1xuXG4gIH1cblxuICBkZWZlbnNpdmVBSShvcHBvbmVudHMpIHtcbiAgICBsZXQgbWFwID0ge307XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGdyaWRTdWJEaXY7IGkrKykge1xuICAgICAgbWFwW2ldID0gMDtcbiAgICB9XG5cbiAgICBvcHBvbmVudHMuZm9yRWFjaCgoZW5lbXkpID0+IHtcbiAgICAgIG1hcFtlbmVteS5zdGFydGluZ1pdLS07XG4gICAgfSk7XG5cbiAgICB0aGlzLnBsYXllci5taW5pb25zLmZvckVhY2goKG1pbmlvbikgPT4ge1xuICAgICAgbWFwW21pbmlvbi5zdGFydGluZ1pdKytcbiAgICB9KTtcblxuICAgIGxldCBzcGF3bkluZGV4ID0gLTE7XG4gICAgbGV0IHNwYXduVmFsdWUgPSAxMDAwMDA7XG4gICAgT2JqZWN0LnZhbHVlcyhtYXApLmZvckVhY2goKHZhbCwgaW5kZXgpID0+IHtcbiAgICAgIGlmKHZhbCA8IHNwYXduVmFsdWUpIHtcbiAgICAgICAgc3Bhd25WYWx1ZSA9IHZhbDtcbiAgICAgICAgc3Bhd25JbmRleCA9IGluZGV4XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3Bhd25JbmRleDtcbiAgfVxuXG4gIGRldGVybWluZUFJRnVuY3Rpb24ocGVyc29uYWxpdHkpIHtcbiAgICBpZihwZXJzb25hbGl0eSkge1xuICAgICAgdGhpcy5BSUZ1bmN0aW9uID0gdGhpc1twZXJzb25hbGl0eV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuQUlGdW5jdGlvbiA9IHRoaXNbXCJyYW5kb21BSVwiXTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBDb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcmNoZXIge1xuXG4gIGNvbnN0cnVjdG9yKGFyZ3MpIHtcbiAgICB0aGlzLnNjZW5lID0gYXJncy5zY2VuZTtcbiAgICB0aGlzLnBsYXllciA9IGFyZ3MucGxheWVyO1xuICAgIHRoaXMucGxheWVySWQgPSB0aGlzLnBsYXllci5pZDtcbiAgICB0aGlzLmNvbGxpZGVyTGlzdCA9IGFyZ3MuY29sbGlkZXJMaXN0O1xuXG4gICAgdGhpcy5kaXJlY3Rpb24gPSBhcmdzLmRpcmVjdGlvbjtcbiAgICB0aGlzLnN0YXJ0aW5nWiA9IGFyZ3Muc3RhcnRpbmdaO1xuICAgIHRoaXMuc3RhcnRpbmdZID0gYXJncy5zdGFydGluZ1kgKyA0O1xuICAgIHRoaXMuc3RhcnRpbmdYID0gYXJncy5zdGFydGluZ1ggLSAoNCAqIHRoaXMuZGlyZWN0aW9uKTtcblxuICAgIHRoaXMudGFyZ2V0TGlzdCA9IFtdO1xuICAgIHRoaXMuYXJyb3dzID0gW107XG5cbiAgICB0aGlzLnN0YXJ0aW5nUm90YXRpb24gPSAwO1xuICAgIGxldCBfOTBkZWcgPSAoOTAvMTgwKSAqIE1hdGguUEk7XG4gICAgbGV0IF8xMzVkZWcgPSAoMTM1LzE4MCkgKiBNYXRoLlBJO1xuXG4gICAgdGhpcy5hbmltYXRpb25Qcm9wZXJ0aWVzID0ge1xuICAgICAgYXJtOiB7XG4gICAgICAgIHN0YXJ0aW5nQW5nbGU6IF8xMzVkZWcsXG4gICAgICAgIGVuZGluZ0FuZ2xlOiBfOTBkZWcsXG4gICAgICAgIGFuZ2xlRGlmZmVyZW5jZTogXzEzNWRlZyAtIF85MGRlZyxcbiAgICAgICAgc3BlZWREb3duOiAyMDAsXG4gICAgICAgIHNwZWVkVXA6IDE1MCxcbiAgICAgICAgbGFzdEFuaW1hdGU6IG51bGxcbiAgICAgIH0sXG4gICAgICBhcnJvd1NwZWVkOiA1MDBcbiAgICB9XG5cbiAgICB0aGlzLmF0dGFja1Byb3BlcnRpZXMgPSB7XG4gICAgICBsYXN0QXR0YWNrOiAwXG4gICAgfTtcblxuICAgIHRoaXMuYXR0YWNrU3BlZWQgPSBDb25zdGFudHMuYXJjaGVyLmJhc2VBdHRhY2tTcGVlZDtcbiAgICB0aGlzLmFycm93U3BlZWQgPSBDb25zdGFudHMuYXJjaGVyLmJhc2VBcnJvd1NwZWVkO1xuICAgIHRoaXMuYXR0YWNrU3RyZW5ndGggPSBDb25zdGFudHMuYXJjaGVyLmJhc2VBdHRhY2s7XG4gICAgdGhpcy5hcnJvd0lkID0gMDtcbiAgICB0aGlzLmluaXRpYWxpemVWaWV3KCk7XG4gICAgdGhpcy5yZWdpc3RlckNvbGxpc2lvbigpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZVZpZXcoaGl0Qm94T3BhY2l0eT0wKSB7XG4gICAgdGhpcy52aWV3T2JqID0gbmV3IFRIUkVFLkdyb3VwKCk7XG5cbiAgICBsZXQgYm9keUcgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMC4wMSwgMC4wMTMsIDAuMDEzKTtcbiAgICBsZXQgYm9keU1hdCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiAweDAwRkYwMCB9KTtcbiAgICB0aGlzLmJvZHkgPSBuZXcgVEhSRUUuTWVzaChib2R5RywgYm9keU1hdCk7XG5cbiAgICBsZXQgaGl0Qm94RyA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSggNjAsIDYwLCA2MCApO1xuICAgIHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCgge2NvbG9yOiAweGZmZmYwMCwgdHJhbnNwYXJlbnQ6IHRydWUsIG9wYWNpdHk6IGhpdEJveE9wYWNpdHksIGRlcHRoV3JpdGU6IGZhbHNlfSApO1xuICAgIHRoaXMuaGl0Qm94ID0gbmV3IFRIUkVFLk1lc2goIGhpdEJveEcsIG1hdGVyaWFsICk7XG5cbiAgICB0aGlzLmhpdEJveC51c2VyRGF0YS5wbGF5ZXIgPSB0aGlzLnBsYXllcjtcbiAgICB0aGlzLmhpdEJveC51c2VyRGF0YS5vYmplY3QgPSB0aGlzO1xuICAgIHRoaXMuaGl0Qm94LnVzZXJEYXRhLnJhbmdlZCA9IHRydWU7XG5cbiAgICB0aGlzLnZpZXdPYmouYWRkKHRoaXMuYm9keSk7XG4gICAgdGhpcy52aWV3T2JqLmFkZCh0aGlzLmhpdEJveCk7XG5cbiAgICB0aGlzLnZpZXdPYmoucG9zaXRpb24uc2V0KHRoaXMuc3RhcnRpbmdYLCB0aGlzLnN0YXJ0aW5nWSwgdGhpcy5zdGFydGluZ1opO1xuICB9XG5cbiAgcmVnaXN0ZXJDb2xsaXNpb24oKSB7XG4gICAgdGhpcy5oaXRCb3guZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk7XG4gICAgbGV0IGJveDMgPSB0aGlzLmhpdEJveC5nZW9tZXRyeS5ib3VuZGluZ0JveC5jbG9uZSgpO1xuICAgIHRoaXMuY29sbGlkZXIgPSBuZXcgVEhSRUV4LkNvbGxpZGVyQm94Myh0aGlzLmhpdEJveCwgYm94Myk7XG4gICAgdGhpcy5jb2xsaWRlckxpc3QucHVzaCh0aGlzLmNvbGxpZGVyKTtcblxuICAgIHRoaXMuY29sbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udGFjdEVudGVyJywgKG90aGVyQ29sbGlkZXIpID0+IHtcbiAgICAgIGxldCB1c2VyRGF0YSA9IG90aGVyQ29sbGlkZXIub2JqZWN0M2QudXNlckRhdGE7XG5cbiAgICAgIGlmKHVzZXJEYXRhLnBsYXllci5pZCA9PT0gdGhpcy5wbGF5ZXJJZCkgeyByZXR1cm47IH1cbiAgICAgIGlmKHVzZXJEYXRhLnJhbmdlZCB8fCB1c2VyRGF0YS5pbW11bmVUb1JhbmdlKSB7IHJldHVybjsgfVxuXG4gICAgICB0aGlzLnRhcmdldExpc3QucHVzaCh1c2VyRGF0YS5vYmplY3QpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jb2xsaWRlci5hZGRFdmVudExpc3RlbmVyKCdjb250YWN0U3RheScsIChvdGhlckNvbGxpZGVyKSA9PiB7XG4gICAgICBsZXQgdXNlckRhdGEgPSBvdGhlckNvbGxpZGVyLm9iamVjdDNkLnVzZXJEYXRhO1xuXG4gICAgICBpZih1c2VyRGF0YS5wbGF5ZXIuaWQgPT09IHRoaXMucGxheWVySWQpIHsgcmV0dXJuOyB9XG4gICAgICBpZih1c2VyRGF0YS5yYW5nZWQgfHwgdXNlckRhdGEuaW1tdW5lVG9SYW5nZSkgeyByZXR1cm47IH1cblxuICAgICAgaWYodGhpcy5maW5kQ29sbGlkZXJJbmRleChvdGhlckNvbGxpZGVyLmlkKSA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy50YXJnZXRMaXN0LnB1c2godXNlckRhdGEub2JqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgdGhpcy5jb2xsaWRlci5hZGRFdmVudExpc3RlbmVyKCdjb250YWN0UmVtb3ZlZCcsIChvdGhlckNvbGxpZGVyKSA9PiB7XG4gICAgICB0aGlzLnRhcmdldExpc3Quc3BsaWNlKHRoaXMuZmluZENvbGxpZGVySW5kZXgob3RoZXJDb2xsaWRlciksIDEpO1xuICAgICAgdGhpcy5kZXRlcm1pbmVUYXJnZXQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY29sbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udGFjdEV4aXQnLCAob3RoZXJDb2xsaWRlcikgPT4ge1xuICAgICAgdGhpcy5yZW1vdmVUYXJnZXQob3RoZXJDb2xsaWRlcik7XG4gICAgICB0aGlzLmRldGVybWluZVRhcmdldCgpO1xuICAgIH0pO1xuICB9XG5cbiAgZmluZENvbGxpZGVySW5kZXgoaWQpIHtcbiAgICBsZXQgaW5kZXggPSAtMTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50YXJnZXRMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZih0aGlzLnRhcmdldExpc3RbaV0uY29sbGlkZXIuaWQgPT09IGlkKSB7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICByZW1vdmVUYXJnZXQoaWQpIHtcbiAgICB0aGlzLnRhcmdldExpc3Quc3BsaWNlKHRoaXMuZmluZENvbGxpZGVySW5kZXgoaWQpLCAxKTtcbiAgfVxuXG4gIGNhbkF0dGFjayh0aW1lc3RhbXApIHtcbiAgICBpZih0aGlzLnRhcmdldExpc3QubGVuZ3RoID09PSAwKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGlmKHRoaXMuaW5pdGlhdGVBdHRhY2sgfHwgdGhpcy5yZWNoYXJnaW5nKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgbGV0IGRlbHRhID0gdGltZXN0YW1wIC0gdGhpcy5hdHRhY2tQcm9wZXJ0aWVzLmxhc3RBdHRhY2s7XG4gICAgcmV0dXJuIGRlbHRhID49IHRoaXMuYXR0YWNrU3BlZWQ7XG4gIH1cblxuICBnZXRBdHRhY2tWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRhY2tTdHJlbmd0aDtcbiAgfVxuXG4gIGRldGVybWluZVRhcmdldCgpIHtcbiAgICBpZih0aGlzLnRhcmdldExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0TGlzdFswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXR0YWNrUHJvY2VkdXJlKHRpbWVzdGFtcCkge1xuICAgIGlmKCF0aGlzLmNhbkF0dGFjayh0aW1lc3RhbXApKSB7IHJldHVybjsgfVxuXG4gICAgbGV0IHRhcmdldCA9IHRoaXMuZGV0ZXJtaW5lVGFyZ2V0KCk7XG4gICAgaWYodGFyZ2V0ICE9PSBudWxsICYmIHRhcmdldC52aWV3T2JqKSB7XG4gICAgICB0aGlzLm5leHRUYXJnZXQgPSB7XG4gICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICBjYWxsYmFjazogKHRhcmdldCkgPT4ge1xuICAgICAgICAgIHRhcmdldC5oZWFsdGggLT0gdGhpcy5nZXRBdHRhY2tWYWx1ZSgpO1xuICAgICAgICAgIGlmKHRhcmdldC5oZWFsdGggPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucHJvY2Vzc1Jld2FyZCh0YXJnZXQua2lsbFJld2FyZCk7XG5cbiAgICAgICAgICAgIHRhcmdldC5hdHRhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIHRhcmdldC5kZXN0cm95ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVGFyZ2V0KHRhcmdldC5jb2xsaWRlci5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmluaXRpYXRlQXR0YWNrID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmF0dGFja1Byb3BlcnRpZXMubGFzdEF0dGFjayA9IHRpbWVzdGFtcDtcbiAgfVxuXG5cbiAgc3Bhd25BcnJvdyh0YXJnZXQsIHRpbWVzdGFtcCwgY2FsbGJhY2spIHtcbiAgICBsZXQgYXJyb3dHID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDEsIDEwLCAxMCk7XG4gICAgbGV0IGFycm93TWF0ID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsgY29sb3I6IDB4OUMzNzI0IH0pO1xuICAgIGxldCBhcnJvdyA9IG5ldyBUSFJFRS5NZXNoKGFycm93RywgYXJyb3dNYXQpO1xuICAgIGFycm93Lm5hbWUgPSBcIkFycm93XCI7XG4gICAgdGhpcy5zY2VuZS5hZGQoYXJyb3cpO1xuXG4gICAgYXJyb3cucG9zaXRpb24uc2V0KHRoaXMuc3RhcnRpbmdYLCB0aGlzLnN0YXJ0aW5nWSArIDIsIHRoaXMuc3RhcnRpbmdaKTtcblxuICAgIGxldCBpZCA9IHRoaXMuYXJyb3dJZCsrO1xuXG4gICAgbGV0IHN0YXJ0aW5nWSA9IGFycm93LnBvc2l0aW9uLnk7XG4gICAgbGV0IG1heCA9IHN0YXJ0aW5nWSArIDU7XG4gICAgbGV0IGVuZGluZ1kgPSB0YXJnZXQudmlld09iai5wb3NpdGlvbi55O1xuXG4gICAgbGV0IHhfMSA9IDA7XG4gICAgbGV0IHlfMSA9IHN0YXJ0aW5nWTtcblxuICAgIGxldCB4XzIgPSAwLjU7XG4gICAgbGV0IHlfMiA9IG1heDtcblxuICAgIGxldCB4XzMgPSAxO1xuICAgIGxldCB5XzMgPSBlbmRpbmdZO1xuXG4gICAgbGV0IGEgPSB5XzEvKCh4XzEteF8yKSooeF8xLXhfMykpICsgeV8yLygoeF8yLXhfMSkqKHhfMi14XzMpKSArIHlfMy8oKHhfMy14XzEpKih4XzMteF8yKSlcblxuICAgIGxldCBiID0gLXlfMSooeF8yK3hfMykvKCh4XzEteF8yKSooeF8xLXhfMykpXG4gICAgICAgIC15XzIqKHhfMSt4XzMpLygoeF8yLXhfMSkqKHhfMi14XzMpKVxuICAgICAgICAteV8zKih4XzEreF8yKS8oKHhfMy14XzEpKih4XzMteF8yKSlcblxuICAgIGxldCBjID0geV8xKnhfMip4XzMvKCh4XzEteF8yKSooeF8xLXhfMykpXG4gICAgICArIHlfMip4XzEqeF8zLygoeF8yLXhfMSkqKHhfMi14XzMpKVxuICAgICAgKyB5XzMqeF8xKnhfMi8oKHhfMy14XzEpKih4XzMteF8yKSlcblxuXG5cbiAgICBsZXQgeUZ1bmN0aW9uID0gKGRlbHRhKSA9PiB7XG4gICAgICByZXR1cm4gKGEgKiAoZGVsdGEgKiBkZWx0YSkpICsgKGIgKiBkZWx0YSkgKyBjO1xuICAgIH1cblxuICAgIGxldCBtX3ggPSB0YXJnZXQudmlld09iai5wb3NpdGlvbi54IC0gYXJyb3cucG9zaXRpb24ueDtcbiAgICBsZXQgY194ID0gYXJyb3cucG9zaXRpb24ueDtcblxuICAgIGxldCB4RnVuY3Rpb24gPSAoZGVsdGEpID0+IHtcbiAgICAgIHJldHVybiAobV94ICogZGVsdGEpICsgY194O1xuICAgIH1cblxuICAgIGxldCBtX3ogPSB0YXJnZXQudmlld09iai5wb3NpdGlvbi56IC0gYXJyb3cucG9zaXRpb24uejtcbiAgICBsZXQgY196ID0gYXJyb3cucG9zaXRpb24uejtcblxuICAgIGxldCB6RnVuY3Rpb24gPSAoZGVsdGEpID0+IHtcbiAgICAgIHJldHVybiAobV96ICogZGVsdGEpICsgY196O1xuICAgIH1cblxuXG4gICAgdGhpcy5hcnJvd3MucHVzaCh7XG4gICAgICBpZDogaWQsXG4gICAgICBvYmo6IGFycm93LFxuICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICBzdGFydGluZ1RpbWU6IHRpbWVzdGFtcCxcbiAgICAgIHlGdW5jdGlvbjogeUZ1bmN0aW9uLFxuICAgICAgeEZ1bmN0aW9uOiB4RnVuY3Rpb24sXG4gICAgICB6RnVuY3Rpb246IHpGdW5jdGlvblxuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjYWxsYmFjayh0YXJnZXQpO1xuICAgICAgdGhpcy5hcnJvd3MgPSB0aGlzLmFycm93cy5maWx0ZXIoKGEpID0+IHtcbiAgICAgICAgcmV0dXJuIGEgIT09IGlkO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNjZW5lLnJlbW92ZShhcnJvdyk7XG4gICAgfSwgdGhpcy5hcnJvd1NwZWVkKTtcblxuICB9XG5cbiAgYW5pbWF0ZUFycm93cyh0aW1lc3RhbXApIHtcbiAgICB0aGlzLmFycm93cy5mb3JFYWNoKChhcnJvdykgPT4ge1xuICAgICAgbGV0IGRlbHRhID0gKHRpbWVzdGFtcCAtIGFycm93LnN0YXJ0aW5nVGltZSkgLyB0aGlzLmFycm93U3BlZWQ7XG4gICAgICBhcnJvdy5vYmoucG9zaXRpb24ueSA9IGFycm93LnlGdW5jdGlvbihkZWx0YSk7XG4gICAgICBhcnJvdy5vYmoucG9zaXRpb24ueCA9IGFycm93LnhGdW5jdGlvbihkZWx0YSk7XG4gICAgICBhcnJvdy5vYmoucG9zaXRpb24ueiA9IGFycm93LnpGdW5jdGlvbihkZWx0YSk7XG4gICAgfSk7XG4gIH1cblxuICBhbmltYXRlQXR0YWNrKHRpbWVzdGFtcCkge1xuICAgIGlmKHRoaXMucmlnaHRBcm0gJiYgdGhpcy5pbml0aWF0ZUF0dGFjaykge1xuICAgICAgaWYodGhpcy5yaWdodEFybS5yb3RhdGlvbi56ID4gdGhpcy5hbmltYXRpb25Qcm9wZXJ0aWVzLmFybS5lbmRpbmdBbmdsZSkge1xuICAgICAgICBpZih0aGlzLmFuaW1hdGlvblByb3BlcnRpZXMuYXJtLmxhc3RBbmltYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5hbmltYXRpb25Qcm9wZXJ0aWVzLmFybS5sYXN0QW5pbWF0ZSA9IHRpbWVzdGFtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkZWx0YSA9IHRpbWVzdGFtcCAtIHRoaXMuYW5pbWF0aW9uUHJvcGVydGllcy5hcm0ubGFzdEFuaW1hdGU7XG4gICAgICAgIGxldCB0aW1lUmF0aW8gPSBkZWx0YSAvIHRoaXMuYW5pbWF0aW9uUHJvcGVydGllcy5hcm0uc3BlZWREb3duO1xuICAgICAgICBsZXQgZGVncmVlQ2hhbmdlID0gdGhpcy5hbmltYXRpb25Qcm9wZXJ0aWVzLmFybS5hbmdsZURpZmZlcmVuY2UgKiB0aW1lUmF0aW87XG5cblxuICAgICAgICB0aGlzLnJpZ2h0QXJtLnJvdGF0aW9uLnogLT0gZGVncmVlQ2hhbmdlO1xuICAgICAgICB0aGlzLmFuaW1hdGlvblByb3BlcnRpZXMuYXJtLmxhc3RBbmltYXRlID0gdGltZXN0YW1wO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zcGF3bkFycm93KFxuICAgICAgICAgICAgdGhpcy5uZXh0VGFyZ2V0LnRhcmdldCxcbiAgICAgICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgICAgIHRoaXMubmV4dFRhcmdldC5jYWxsYmFjayApO1xuXG4gICAgICAgIHRoaXMucmVzZXRBdHRhY2tBbmltYXRpb24oKTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIGlmKHRoaXMucmlnaHRBcm0gJiYgdGhpcy5yZWNoYXJnaW5nKSB7XG4gICAgICBpZih0aGlzLnJpZ2h0QXJtLnJvdGF0aW9uLnogPCB0aGlzLmFuaW1hdGlvblByb3BlcnRpZXMuYXJtLnN0YXJ0aW5nQW5nbGUpIHtcbiAgICAgICAgaWYodGhpcy5hbmltYXRpb25Qcm9wZXJ0aWVzLmFybS5sYXN0QW5pbWF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuYW5pbWF0aW9uUHJvcGVydGllcy5hcm0ubGFzdEFuaW1hdGUgPSB0aW1lc3RhbXA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGVsdGEgPSB0aW1lc3RhbXAgLSB0aGlzLmFuaW1hdGlvblByb3BlcnRpZXMuYXJtLmxhc3RBbmltYXRlO1xuICAgICAgICBsZXQgdGltZVJhdGlvID0gZGVsdGEgLyB0aGlzLmFuaW1hdGlvblByb3BlcnRpZXMuYXJtLnNwZWVkVXA7XG4gICAgICAgIGxldCBkZWdyZWVDaGFuZ2UgPSB0aGlzLmFuaW1hdGlvblByb3BlcnRpZXMuYXJtLmFuZ2xlRGlmZmVyZW5jZSAqIHRpbWVSYXRpbztcblxuICAgICAgICB0aGlzLnJpZ2h0QXJtLnJvdGF0aW9uLnogKz0gZGVncmVlQ2hhbmdlO1xuICAgICAgICB0aGlzLmFuaW1hdGlvblByb3BlcnRpZXMuYXJtLmxhc3RBbmltYXRlID0gdGltZXN0YW1wO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZWNoYXJnaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uUHJvcGVydGllcy5hcm0ubGFzdEFuaW1hdGUgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmKHRoaXMubmV4dFRhcmdldCAmJiB0aGlzLm5leHRUYXJnZXQudGFyZ2V0KSB7XG4gICAgICBsZXQgYW5nbGVUb3dhcmRzVGFyZ2V0ID0gdGhpcy5jYWxjdWxhdGVBbmdsZVRvVGFyZ2V0KHRoaXMubmV4dFRhcmdldC50YXJnZXQpO1xuICAgICAgdGhpcy5ib2R5TW9kZWwucm90YXRpb24ueSA9IGFuZ2xlVG93YXJkc1RhcmdldCArIHRoaXMuc3RhcnRpbmdSb3RhdGlvbjtcbiAgICB9XG4gIH1cblxuICByZXNldEF0dGFja0FuaW1hdGlvbigpIHtcbiAgICB0aGlzLmluaXRpYXRlQXR0YWNrID0gZmFsc2U7XG4gICAgdGhpcy5yZWNoYXJnaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmFuaW1hdGlvblByb3BlcnRpZXMuYXJtLmxhc3RBbmltYXRlID0gbnVsbDtcbiAgfVxuXG4gIGNhbGN1bGF0ZUFuZ2xlVG9UYXJnZXQodGFyZ2V0KSB7XG4gICAgbGV0IHhEaWZmID0gdGFyZ2V0LnZpZXdPYmoucG9zaXRpb24ueCAtIHRoaXMudmlld09iai5wb3NpdGlvbi54O1xuICAgIGxldCB6RGlmZiA9IHRhcmdldC52aWV3T2JqLnBvc2l0aW9uLnogLSB0aGlzLnZpZXdPYmoucG9zaXRpb24uejtcbiAgICBsZXQgZGlmZlJhdGlvID0gekRpZmYgLyB4RGlmZjtcbiAgICByZXR1cm4gKE1hdGguUEkgKiAtdGhpcy5kaXJlY3Rpb24pIC0gTWF0aC5hdGFuKGRpZmZSYXRpbykgKyBNYXRoLlBJO1xuICB9XG5cbiAgcnVuTG9vcCh0aW1lc3RhbXApIHtcbiAgICB0aGlzLmF0dGFja1Byb2NlZHVyZSh0aW1lc3RhbXApO1xuICAgIHRoaXMuYW5pbWF0ZUFycm93cyh0aW1lc3RhbXApO1xuICAgIHRoaXMuYW5pbWF0ZUF0dGFjayh0aW1lc3RhbXApO1xuICAgIHRoaXMuY29sbGlkZXIudXBkYXRlKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGdyaWRXaWR0aCwgZ3JpZExlbmd0aCwgZ3JpZFN1YkRpdiB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZSB7XG5cbiAgY29uc3RydWN0b3IoYXJncykge1xuICAgIHRoaXMuZGlyZWN0aW9uID0gYXJncy5kaXJlY3Rpb247XG4gICAgdGhpcy5jb2xsaWRlckxpc3QgPSBhcmdzLmNvbGxpZGVyTGlzdDtcbiAgICB0aGlzLnBsYXllciA9IGFyZ3MucGxheWVyO1xuICAgIHRoaXMucGxheWVySWQgPSB0aGlzLnBsYXllci5pZDtcblxuICAgIHRoaXMuYmFzZVdpZHRoID0gZ3JpZFdpZHRoO1xuICAgIHRoaXMuYmFzZUhlaWdodCA9IDIwO1xuICAgIHRoaXMuYmFzZURlcHRoID0gMTA7XG5cbiAgICB0aGlzLm1heEhlYWx0aCA9IDI1MDtcbiAgICB0aGlzLmhlYWx0aCA9IHRoaXMubWF4SGVhbHRoO1xuXG4gICAgdGhpcy5oaXRCb3hCdWZmZXIgPSAyO1xuXG4gICAgdGhpcy5raWxsUmV3YXJkID0ge1xuICAgICAgbW9uZXk6IDU1MCxcbiAgICAgIHNjb3JlOiAxMDAwXG4gICAgfVxuXG4gICAgdGhpcy5pbml0aWFsaXplVmlldyh0aGlzLmRpcmVjdGlvbik7XG4gICAgdGhpcy5yZWdpc3RlckNvbGxpc2lvbigpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZVZpZXcoZGlyZWN0aW9uLCBoaXRCb3hPcGFjaXR5PTApIHtcbiAgICB0aGlzLnZpZXdPYmogPSBuZXcgVEhSRUUuR3JvdXAoKTtcblxuICAgIGxldCBzaGFwZUdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KFxuICAgICAgdGhpcy5iYXNlRGVwdGgsXG4gICAgICB0aGlzLmJhc2VIZWlnaHQsXG4gICAgICB0aGlzLmJhc2VXaWR0aFxuICAgICk7XG5cblxuICAgIGxldCB0ZXh0dXJlTG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKTtcbiAgICBsZXQgbm9ybWFsTWFwID0gdGV4dHVyZUxvYWRlci5sb2FkKCd0ZXh0dXJlcy9yb2NrLW5vcm1hbC1tYXAuanBnJyk7XG4gICAgbGV0IGxvbmdUZXh0dXJlID0gdGV4dHVyZUxvYWRlci5sb2FkKCd0ZXh0dXJlcy9icmljay13YWxsLmpwZycpO1xuICAgIGxldCBza2lubnlUZXh0dXJlID0gdGV4dHVyZUxvYWRlci5sb2FkKCd0ZXh0dXJlcy9icmljay13YWxsLmpwZycpO1xuICAgIGxldCBzaWRlVGV4dHVyZSA9IHRleHR1cmVMb2FkZXIubG9hZCgndGV4dHVyZXMvYnJpY2std2FsbC5qcGcnKTtcbiAgICBsZXQgYmFzZUNvbG9yID0gMHg1NTU1NTU7XG5cbiAgICBsb25nVGV4dHVyZS53cmFwUyA9IGxvbmdUZXh0dXJlLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG4gICAgbG9uZ1RleHR1cmUucmVwZWF0LnNldCgzLCAxKTtcblxuICAgIHNraW5ueVRleHR1cmUud3JhcFMgPSBza2lubnlUZXh0dXJlLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG4gICAgc2tpbm55VGV4dHVyZS5yZXBlYXQuc2V0KDEsIDMpO1xuXG4gICAgc2lkZVRleHR1cmUud3JhcFMgPSBzaWRlVGV4dHVyZS53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xuICAgIHNpZGVUZXh0dXJlLnJlcGVhdC5zZXQoMSwgMSk7XG5cbiAgICBsZXQgc2tpbm55TWF0ID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtjb2xvcjogMHgzMzMzMzMsIHNwZWN1bGFyOiAweDMzMzMzMywgc2hpbmluZXNzOiAxNSwgbm9ybWFsTWFwOiB0ZXh0dXJlTG9hZGVyLmxvYWQoJ3RleHR1cmVzL3JvY2stbm9ybWFsLW1hcC5qcGcnKSwgbm9ybWFsU2NhbGU6IG5ldyBUSFJFRS5WZWN0b3IyKCAwLjA1LCAxICksIG1hcDogc2tpbm55VGV4dHVyZSB9KTtcblxuXG4gICAgbGV0IGxvbmdNYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe2NvbG9yOiBiYXNlQ29sb3IsIHNwZWN1bGFyOiAweDMzMzMzMywgc2hpbmluZXNzOiAxNSwgbm9ybWFsTWFwOiBub3JtYWxNYXAsIG5vcm1hbFNjYWxlOiBuZXcgVEhSRUUuVmVjdG9yMiggMSwgMSApLCBtYXA6IGxvbmdUZXh0dXJlIH0pO1xuXG4gICAgbGV0IHNpZGVNYXQgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe2NvbG9yOiBiYXNlQ29sb3IsIHNwZWN1bGFyOiAweDMzMzMzMywgc2hpbmluZXNzOiAxNSwgbm9ybWFsTWFwOiBub3JtYWxNYXAsIG5vcm1hbFNjYWxlOiBuZXcgVEhSRUUuVmVjdG9yMiggMSwgMSApLCBtYXA6IHNpZGVUZXh0dXJlIH0pO1xuXG4gICAgbGV0IHNoYXBlTWF0ZXJpYWxzID0gW1xuICAgICAgbG9uZ01hdCwgLy8gUmlnaHRcbiAgICAgIGxvbmdNYXQsIC8vIExlZnRcbiAgICAgIHNraW5ueU1hdCwgLy8gVG9wXG4gICAgICBzaWRlTWF0LCAvLyBCYWNrXG4gICAgICBzaWRlTWF0LCAvLyBGcm9udFxuICAgICAgc2tpbm55TWF0LCAvLyBCb3R0b21cblxuICAgIF1cblxuICAgIGxldCBzaGFwZU1lc2ggPSBuZXcgVEhSRUUuTWVzaChzaGFwZUdlb21ldHJ5LCBuZXcgVEhSRUUuTXVsdGlNYXRlcmlhbChzaGFwZU1hdGVyaWFscykpO1xuXG5cbiAgICBsZXQgaGl0R2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoXG4gICAgICB0aGlzLmJhc2VEZXB0aCArIHRoaXMuaGl0Qm94QnVmZmVyLFxuICAgICAgdGhpcy5iYXNlSGVpZ2h0ICsgdGhpcy5oaXRCb3hCdWZmZXIsXG4gICAgICB0aGlzLmJhc2VXaWR0aCArIHRoaXMuaGl0Qm94QnVmZmVyIFxuICAgICk7XG5cbiAgICBsZXQgaGl0TWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweDAwZmZmZiwgdHJhbnNwYXJlbnQ6IHRydWUsIG9wYWNpdHk6IGhpdEJveE9wYWNpdHkgfSk7XG4gICAgbGV0IGhpdE1lc2ggPSBuZXcgVEhSRUUuTWVzaChoaXRHZW9tZXRyeSwgaGl0TWF0ZXJpYWwpO1xuXG4gICAgdGhpcy5oZWFsdGhCYXIgPSB0aGlzLmluaXRpYWxpemVIZWFsdGhCYXIoKTtcbiAgICB0aGlzLmhpdEJveCA9IGhpdE1lc2g7XG5cbiAgICB0aGlzLnZpZXdPYmouYWRkKHNoYXBlTWVzaCk7XG4gICAgdGhpcy52aWV3T2JqLmFkZChoaXRNZXNoKTtcbiAgICB0aGlzLnZpZXdPYmouYWRkKHRoaXMuaGVhbHRoQmFyKTtcblxuICAgIHRoaXMudmlld09iai5wb3NpdGlvbi54ID0gKCgtZ3JpZFdpZHRoLzIpIC0gKHRoaXMuYmFzZURlcHRoIC8gMikpICogdGhpcy5kaXJlY3Rpb247XG4gICAgdGhpcy52aWV3T2JqLnBvc2l0aW9uLnkgPSB0aGlzLmJhc2VIZWlnaHQvMjtcblxuICAgIHRoaXMuaGl0Qm94LnVzZXJEYXRhLm9iamVjdCA9IHRoaXM7XG4gICAgdGhpcy5oaXRCb3gudXNlckRhdGEucGxheWVyID0gdGhpcy5wbGF5ZXI7XG4gICAgdGhpcy5oaXRCb3gudXNlckRhdGEuaW1tdW5lVG9SYW5nZSA9IHRydWU7XG4gIH1cblxuICBpbml0aWFsaXplSGVhbHRoQmFyKCkge1xuICAgIHRoaXMuX2hlYWx0aEJhckxlbmd0aCA9IGdyaWRXaWR0aCAvIDEwO1xuICAgIHRoaXMuX2hlYWx0aEJhcldpZHRoID0gZ3JpZFdpZHRoIC8gMTUwO1xuICAgIGxldCBmdWxsSGVhbHRoQmFyR2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkodGhpcy5faGVhbHRoQmFyTGVuZ3RoLCB0aGlzLl9oZWFsdGhCYXJXaWR0aCwgdGhpcy5faGVhbHRoQmFyV2lkdGgpO1xuICAgIGxldCBmdWxsSGVhbHRoQmFyTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweDAwZmYwMH0pO1xuICAgIGxldCBmdWxsSGVhbHRoQmFyTWVzaCA9IG5ldyBUSFJFRS5NZXNoKGZ1bGxIZWFsdGhCYXJHZW9tZXRyeSwgZnVsbEhlYWx0aEJhck1hdGVyaWFsKTtcbiAgICBmdWxsSGVhbHRoQmFyTWVzaC5uYW1lID0gXCJGdWxsSGVhbHRoQmFyXCI7XG5cbiAgICBsZXQgZW1wdHlIZWFsdGhCYXJHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSh0aGlzLl9oZWFsdGhCYXJMZW5ndGggKiAwLjk5LCB0aGlzLl9oZWFsdGhCYXJXaWR0aCAqIDAuOSwgdGhpcy5faGVhbHRoQmFyV2lkdGggKiAwLjkpO1xuICAgIGxldCBlbXB0eUhlYWx0aEJhck1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHhmZjAwMDB9KTtcbiAgICBsZXQgZW1wdHlIZWFsdGhCYXJNZXNoID0gbmV3IFRIUkVFLk1lc2goZW1wdHlIZWFsdGhCYXJHZW9tZXRyeSwgZW1wdHlIZWFsdGhCYXJNYXRlcmlhbCk7XG4gICAgZW1wdHlIZWFsdGhCYXJNZXNoLm5hbWUgPSBcIkVtcHR5SGVhbHRoQmFyXCI7XG5cbiAgICBsZXQgaGVhbHRoQmFyR3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTtcbiAgICBoZWFsdGhCYXJHcm91cC5hZGQoZnVsbEhlYWx0aEJhck1lc2gpO1xuICAgIGhlYWx0aEJhckdyb3VwLmFkZChlbXB0eUhlYWx0aEJhck1lc2gpO1xuXG4gICAgaGVhbHRoQmFyR3JvdXAucG9zaXRpb24ueSA9IHRoaXMuYmFzZUhlaWdodCArIDU7XG5cbiAgICByZXR1cm4gaGVhbHRoQmFyR3JvdXA7XG4gIH1cblxuICB1cGRhdGVIZWFsdGhCYXIoKSB7XG4gICAgbGV0IGhlYWx0aFBlcmNlbnQgPSB0aGlzLmhlYWx0aC90aGlzLm1heEhlYWx0aDtcbiAgICBsZXQgaGVhbHRoQmFyT2Zmc2V0ID0gLSgxLWhlYWx0aFBlcmNlbnQpICogdGhpcy5faGVhbHRoQmFyTGVuZ3RoIC8gMjtcbiAgICBsZXQgZnVsbEhlYWx0aEJhciA9IHRoaXMuaGVhbHRoQmFyLmdldE9iamVjdEJ5TmFtZSgnRnVsbEhlYWx0aEJhcicpO1xuXG4gICAgZnVsbEhlYWx0aEJhci5zY2FsZS54ID0gaGVhbHRoUGVyY2VudDtcbiAgICBmdWxsSGVhbHRoQmFyLnBvc2l0aW9uLnggPSBoZWFsdGhCYXJPZmZzZXQ7XG4gIH1cblxuICByZWdpc3RlckNvbGxpc2lvbigpIHtcbiAgICB0aGlzLmhpdEJveC5nZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKVxuICAgIGxldCBib3gzID0gdGhpcy5oaXRCb3guZ2VvbWV0cnkuYm91bmRpbmdCb3guY2xvbmUoKTtcbiAgICB0aGlzLmNvbGxpZGVyID0gbmV3IFRIUkVFeC5Db2xsaWRlckJveDModGhpcy5oaXRCb3gsIGJveDMpO1xuICAgIHRoaXMuY29sbGlkZXJMaXN0LnB1c2godGhpcy5jb2xsaWRlcik7XG4gIH1cblxuICBydW5Mb29wKCkge1xuICAgIHRoaXMuY29sbGlkZXIudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVIZWFsdGhCYXIoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHhQb3NpdGl2ZSA9IDE7XG5leHBvcnQgY29uc3QgeE5lZ2F0aXZlID0gLTE7XG5leHBvcnQgY29uc3QgZ3JpZFdpZHRoID0gNjQ7XG5leHBvcnQgY29uc3QgZ3JpZFN1YkRpdiA9IDE2O1xuXG5sZXQgbWluaW9uID0ge1xuXHRiYXNlSGVhbHRoOiAxMCxcblx0YmFzZUF0dGFjazogMyxcblx0YmFzZUF0dGFja1NwZWVkOiAxMDAwLFxuXHR1cGdyYWRlczoge1xuXHRcdGhlYWx0aDoge1xuXHRcdFx0Y29zdDogNTAsXG5cdFx0XHRhbW91bnQ6IDVcblx0XHR9LFxuXHRcdGF0dGFjazoge1xuXHRcdFx0Y29zdDogNzUsXG5cdFx0XHRhbW91bnQ6IDJcblx0XHR9LFxuXHRcdGF0dGFja1NwZWVkOiB7XG5cdFx0XHRjb3N0OiAxMDAsXG5cdFx0XHRhbW91bnQ6IDEwXG5cdFx0fVxuXHR9XG59O1xuXG5sZXQgYmFzZSA9IHtcblx0YmFzZUhlYWx0aDogMjUwLFxuXHR1cGdyYWRlczoge1xuXHRcdGhlYWx0aDoge1xuXHRcdFx0Y29zdDogMTUwLFxuXHRcdFx0YW1vdW50OiAyNTAsXG5cdFx0fVxuXHR9XG59O1xuXG5sZXQgYXJjaGVyID0ge1xuXHRiYXNlQXR0YWNrOiAxLFxuXHRiYXNlQXR0YWNrU3BlZWQ6IDEwMDAsXG5cdGJhc2VBcnJvd1NwZWVkOiAxMDAwLFxuXHR1cGdyYWRlczoge1xuXHRcdGF0dGFjazoge1xuXHRcdFx0Y29zdDogNTAsXG5cdFx0XHRhbW91bnQ6IDEsXG5cdFx0fSxcblx0XHRhdHRhY2tTcGVlZDoge1xuXHRcdFx0Y29zdDogMTAwLFxuXHRcdFx0YW1vdW50OiAxMCxcblx0XHR9XG5cdH1cbn1cblxubGV0IHBsYXllciA9IHtcblxufTtcblxuZXhwb3J0IGRlZmF1bHQge21pbmlvbiwgYmFzZSwgYXJjaGVyLCBwbGF5ZXJ9O1xuIiwiaW1wb3J0IFBsYXllciBmcm9tICcuL3BsYXllcic7XG5pbXBvcnQgQUkgZnJvbSAnLi9haS1wbGF5ZXInO1xuaW1wb3J0IHsgYWN0aXZhdGVNZW51IH0gZnJvbSAnLi9tZW51LXNjcmVlbic7XG5pbXBvcnQgeyB4UG9zaXRpdmUsIHhOZWdhdGl2ZSwgZ3JpZFN1YkRpdiB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKGFyZ3MpIHtcbiAgICB0aGlzLmdhbWVPdmVyID0gdHJ1ZTtcbiAgICB0aGlzLnN0YXRlID0ge307XG4gICAgdGhpcy5zY2VuZSA9IGFyZ3Muc2NlbmU7XG4gICAgdGhpcy5jYW1lcmEgPSBhcmdzLmNhbWVyYTtcblxuICAgIHRoaXMuY29sbGlkZXJTeXN0ZW0gPSBuZXcgVEhSRUV4LkNvbGxpZGVyU3lzdGVtKCk7XG4gICAgdGhpcy5jb2xsaWRlckxpc3QgPSBbXTtcblxuICAgIHRoaXMucGxheWVySWQgPSAwO1xuXG4gICAgdGhpcy5pbml0aWFsaXplUGxheWVycygpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZVBsYXllcnMoKSB7XG4gICAgdGhpcy5teVBsYXllciA9IG5ldyBQbGF5ZXIoe1xuICAgICAgdHlwZTogJ2h1bWFuJyxcbiAgICAgIGRpcmVjdGlvbjogeFBvc2l0aXZlLFxuICAgICAgY29sbGlkZXJMaXN0OiB0aGlzLmNvbGxpZGVyTGlzdCxcbiAgICAgIGNvbGxpZGVyU3lzdGVtOiB0aGlzLmNvbGxpZGVyU3lzdGVtLFxuICAgICAgc2NlbmU6dGhpcy5zY2VuZSxcbiAgICAgIGlkOiB0aGlzLnBsYXllcklkKytcbiAgICB9KTtcblxuICAgIHRoaXMuY29tcHV0ZXIgPSBuZXcgUGxheWVyKHtcbiAgICAgIHR5cGU6ICdjb21wdXRlcicsXG4gICAgICBkaXJlY3Rpb246IHhOZWdhdGl2ZSxcbiAgICAgIGNvbGxpZGVyTGlzdDogdGhpcy5jb2xsaWRlckxpc3QsXG4gICAgICBjb2xsaWRlclN5c3RlbTogdGhpcy5jb2xsaWRlclN5c3RlbSxcbiAgICAgIHNjZW5lOiB0aGlzLnNjZW5lLFxuICAgICAgaWQ6IHRoaXMucGxheWVySWQrK1xuICAgIH0pO1xuXG4gICAgLy90aGlzLkFJID0gbmV3IEFJKHtcbiAgICAgIC8vcGxheWVyOiB0aGlzLmNvbXB1dGVyLFxuICAgICAgLy9wZXJzb25hbGl0eTogXCJyYW5kb21BSVwiXG4gICAgLy99KTtcblxuICAgIC8vdGhpcy5wbGF5ZXJBSSA9IG5ldyBBSSh7XG4gICAgICAvL3BsYXllcjogdGhpcy5teVBsYXllcixcbiAgICAgIC8vcGVyc29uYWxpdHk6IFwicmFuZG9tQUlcIlxuICAgIC8vfSk7XG5cblxuICAgIHRoaXMuc3RhdGUucGxheWVycyA9IFsgdGhpcy5teVBsYXllciwgdGhpcy5jb21wdXRlciBdO1xuICB9XG5cbiAgaW5pdGlhbGl6ZUdhbWVPdmVyKHsgd2lubmVyLCBzY29yZSB9KSB7XG4gICAgdGhpcy5zdGF0ZS5wbGF5ZXJzLmZvckVhY2gocCA9PiBwLnNldEdhbWVPdmVyKCkpO1xuICAgIGFjdGl2YXRlTWVudSh7XG4gICAgICB3aW5uZXI6IHdpbm5lcixcbiAgICAgIHNjb3JlOiBzY29yZVxuICAgIH0pXG4gIH1cblxuICByZXN0YXJ0KCkge1xuICAgIHdoaWxlKHRoaXMuY29sbGlkZXJMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuY29sbGlkZXJMaXN0LnBvcCgpO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xuICAgICAgcGxheWVyLnJlc2V0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5nYW1lT3ZlciA9IGZhbHNlO1xuICB9XG5cbiAgZ2FtZUxvb3AodGltZXN0YW1wKSB7XG4gICAgaWYodGhpcy5nYW1lT3Zlcikge1xuXG4gICAgfVxuICAgIGlmKHRoaXMuQUkpIHtcbiAgICAgIHRoaXMuQUkucnVuTG9vcCh0aW1lc3RhbXAsIHRoaXMubXlQbGF5ZXIubWluaW9ucyk7XG4gICAgfVxuXG4gICAgaWYodGhpcy5wbGF5ZXJBSSkge1xuICAgICAgdGhpcy5wbGF5ZXJBSS5ydW5Mb29wKHRpbWVzdGFtcCwgdGhpcy5jb21wdXRlci5taW5pb25zKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcbiAgICAgIHBsYXllci5ydW5Mb29wKHRpbWVzdGFtcCk7XG4gICAgICBpZihwbGF5ZXIubG9zdCAmJiAhdGhpcy5nYW1lT3Zlcikge1xuICAgICAgICB0aGlzLmdhbWVPdmVyID0gdHJ1ZTtcbiAgICAgICAgbGV0IHdpbm5lciA9IHRoaXMuc3RhdGUucGxheWVycy5maW5kKHAgPT4gcC5pZCAhPT0gcGxheWVyLmlkKTtcbiAgICAgICAgbGV0IHNjb3JlID0gd2lubmVyLnNjb3JlO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVHYW1lT3Zlcih7IHdpbm5lciwgc2NvcmUgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5jb2xsaWRlclN5c3RlbS5jb21wdXRlQW5kTm90aWZ5KHRoaXMuY29sbGlkZXJMaXN0KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgZ3JpZFdpZHRoLFxuICAgICAgICAgZ3JpZExlbmd0aCxcbiAgICAgICAgIGdyaWRTdWJEaXYsXG4gICAgICAgICBtaW5pb25CYXNlSGVhbHRoLFxuICAgICAgICAgbWluaW9uQmFzZUF0dGFjayxcbiAgICAgICAgIG1pbmlvbkJhc2VBdHRhY2tTcGVlZCxcbiAgICAgICAgIGFyY2hlckJhc2VBdHRhY2ssXG4gICAgICAgICBhcmNoZXJCYXNlQXR0YWNrU3BlZWQsXG4gICAgICAgICBiYXNlSGVhbHRoVXBncmFkZUFtb3VudFxuICAgICAgIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGJpbmRCdXR0b25zIH0gZnJvbSAnLi9tZW51LXNjcmVlbic7XG5cbi8vIFVJIEVsZW1lbnRzXG5sZXQgc2NvcmVUZXh0LCBtb25leVRleHQsIGZwc1RleHQsIGJhc2VIZWFsdGhUZXh0LCBtaW5pb25CYXNlSGVhbHRoVGV4dCAsbWluaW9uQmFzZUF0dGFja1RleHQgLG1pbmlvbkJhc2VBdHRhY2tTcGVlZFRleHQgLGFyY2hlckJhc2VBdHRhY2tUZXh0ICxhcmNoZXJCYXNlQXR0YWNrU3BlZWRUZXh0O1xubGV0IGJhc2VIZWFsdGhVcGdyYWRlLCBtaW5pb25CYXNlSGVhbHRoVXBncmFkZSAsbWluaW9uQmFzZUF0dGFja1VwZ3JhZGUgLG1pbmlvbkJhc2VBdHRhY2tTcGVlZFVwZ3JhZGUgLGFyY2hlckJhc2VBdHRhY2tVcGdyYWRlICxhcmNoZXJCYXNlQXR0YWNrU3BlZWRVcGdyYWRlO1xuXG5cbi8vIFRleHR1cmVcbmNvbnN0IHBsYW5lVGV4dHVyZSA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZChcInRleHR1cmVzL3N0b25lLmpwZ1wiKTtcbnBsYW5lVGV4dHVyZS5yZXBlYXQuc2V0KDEwLDEwKTtcbnBsYW5lVGV4dHVyZS53cmFwUyA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xucGxhbmVUZXh0dXJlLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVZpZXcge1xuICBjb25zdHJ1Y3RvcihnbG9iYWxzLCBnYW1lRW5naW5lKSB7XG4gICAgdGhpcy5zY2VuZSA9IGdsb2JhbHMuc2NlbmU7XG4gICAgdGhpcy5jYW1lcmEgPSBnbG9iYWxzLmNhbWVyYTtcbiAgICB0aGlzLnJlbmRlcmVyID0gZ2xvYmFscy5yZW5kZXJlcjtcblxuICAgIHRoaXMuZ2FtZUVuZ2luZSA9IGdhbWVFbmdpbmU7XG5cbiAgICB0aGlzLnNldHVwR3JpZCgpO1xuICAgIHRoaXMuc2V0dXBHcmFzc0ZpZWxkKCk7XG4gICAgdGhpcy5zZXR1cExpZ2h0KCk7XG5cbiAgICB0aGlzLm1vdXNlID0geyB4OiAtMTAwMDAsIHk6IDAgfTtcblxuICAgIGxldCBwb3NpdGlvblNjYWxlID0gZ3JpZFdpZHRoIC8gMjtcblxuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAyICogcG9zaXRpb25TY2FsZTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi55ID0gMS41ICogcG9zaXRpb25TY2FsZTtcbiAgICB0aGlzLmNhbWVyYS5sb29rQXQodGhpcy5zY2VuZS5wb3NpdGlvbik7XG5cbiAgICB0aGlzLmh1ZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdodWQnKTtcbiAgICB0aGlzLmh1ZFVwZ3JhZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHVkLXVwZ3JhZGUnKTtcbiAgICB0aGlzLmxhc3RUaW1lU3RhbXAgPSAwO1xuICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5yYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKCk7XG4gICAgdGhpcy5jdXJyZW50SG92ZXJlZFBhbmVsID0gbnVsbDtcblxuICAgIHRoaXMuc2V0dXBNb3VzZUV2ZW50KCk7XG4gICAgYmluZEJ1dHRvbnModGhpcywgdGhpcy5nYW1lRW5naW5lKTtcbiAgfVxuXG4gIHNldHVwTGlnaHQoKSB7XG4gICAgbGV0IGxpZ2h0QW1iaWVudCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHg2NjY2NjYsIDMpO1xuICAgIGxldCBsaWdodFNvdXJjZSA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4ODg4ODg4LCAxKTtcblxuICAgIGxpZ2h0U291cmNlLnBvc2l0aW9uLnNldCgwLCAzMCwgMCk7XG4gICAgbGlnaHRBbWJpZW50LnBvc2l0aW9uLnNldCgwLCAzMCwgMCk7XG5cbiAgICB0aGlzLnNjZW5lLmFkZChsaWdodEFtYmllbnQpO1xuICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0U291cmNlKTtcbiAgfVxuXG4gIHNldHVwR3JpZCgpIHtcbiAgICAgLy9sZXQgdGV4dHVyZWRTdXJmYWNlR2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeShncmlkV2lkdGgsIGdyaWRXaWR0aCk7XG4gICAgIC8vbGV0IHRleHR1cmVkU3VyZmFjZU1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHttYXA6IHBsYW5lVGV4dHVyZX0pO1xuICAgICAvL2xldCB0ZXh0dXJlZFN1cmZhY2UgPSBuZXcgVEhSRUUuTWVzaCh0ZXh0dXJlZFN1cmZhY2VHZW9tZXRyeSwgdGV4dHVyZWRTdXJmYWNlTWF0ZXJpYWwpO1xuICAgICAvL3RleHR1cmVkU3VyZmFjZS5yb3RhdGlvbi54ID0gLTAuNSAqIE1hdGguUEk7XG4gICAgIC8vdGV4dHVyZWRTdXJmYWNlLnBvc2l0aW9uLnkgPSAtMC4zO1xuICAgICAvL3RoaXMuc2NlbmUuYWRkKHRleHR1cmVkU3VyZmFjZSk7XG5cbiAgICBsZXQgZ3JpZCA9IG5ldyBUSFJFRS5HcmlkSGVscGVyKGdyaWRXaWR0aCwgZ3JpZFN1YkRpdik7XG4gICAgZ3JpZC5wb3NpdGlvbi55ID0gLS40XG4gICAgdGhpcy5zY2VuZS5hZGQoZ3JpZCk7XG5cbiAgICB0aGlzLmdyaWRQYW5lbHMgPSB7fTtcblxuICAgIGxldCBwYW5lbExlbmd0aCA9IGdyaWRXaWR0aCAvIGdyaWRTdWJEaXY7XG4gICAgbGV0IHpQb3MgPSAoKGdyaWRXaWR0aCAvIDIpIC0gcGFuZWxMZW5ndGggLyAyKSAqIC0xO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGdyaWRTdWJEaXY7IGkrKykge1xuICAgICAgbGV0IHBsYW5lR2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeShncmlkV2lkdGgsIHBhbmVsTGVuZ3RoKTtcbiAgICAgIGxldCBwbGFuZU1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHt0cmFuc3BhcmVudDogdHJ1ZSwgb3BhY2l0eTogMH0pO1xuICAgICAgbGV0IHBsYW5lID0gbmV3IFRIUkVFLk1lc2gocGxhbmVHZW9tZXRyeSwgcGxhbmVNYXRlcmlhbCk7XG4gICAgICBwbGFuZS5yb3RhdGlvbi54ID0gLTAuNSAqIE1hdGguUEk7XG4gICAgICBwbGFuZS5wb3NpdGlvbi56ID0gelBvcztcbiAgICAgIHBsYW5lLnBvc2l0aW9uLnkgPSAwO1xuICAgICAgdGhpcy5zY2VuZS5hZGQocGxhbmUpO1xuICAgICAgdGhpcy5ncmlkUGFuZWxzW2ldID0gcGxhbmU7XG5cbiAgICAgIHpQb3MgKz0gcGFuZWxMZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgc2V0dXBHcmFzc0ZpZWxkKCkge1xuICAgIGxldCB0ZXh0dXJlVXJsICA9ICd0ZXh0dXJlcy9ncmFzc2xpZ2h0LXNtYWxsLmpwZydcbiAgICBsZXQgdGV4dHVyZSA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCh0ZXh0dXJlVXJsKTtcbiAgICB0ZXh0dXJlLndyYXBTID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG4gICAgdGV4dHVyZS53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xuICAgIHRleHR1cmUucmVwZWF0Lnk9IGdyaWRTdWJEaXY7XG4gICAgdGV4dHVyZS5yZXBlYXQueD0gZ3JpZFN1YkRpdjtcbiAgICB0ZXh0dXJlLmFuaXNvdHJvcHkgPSB0aGlzLnJlbmRlcmVyLmdldE1heEFuaXNvdHJvcHkoKVxuICAgIC8vIGJ1aWxkIG9iamVjdDNkXG4gICAgbGV0IGdlb21ldHJ5ICA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KGdyaWRXaWR0aCAqIDEwLCBncmlkV2lkdGggKiAxMClcbiAgICBsZXQgbWF0ZXJpYWwgID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcbiAgICAgIG1hcCA6IHRleHR1cmUsXG4gICAgICBzaGluaW5lc3M6IDEwXG4gICAgfSlcbiAgICBsZXQgcGxhbmUgID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKVxuICAgIHBsYW5lLnJvdGF0ZVgoLU1hdGguUEkvMik7XG4gICAgcGxhbmUucG9zaXRpb24ueSA9IC0wLjI7XG4gICAgdGhpcy5zY2VuZS5hZGQocGxhbmUpO1xuXG4gICAgIC8vbGV0IG5UdWZ0cyAgPSAyMDAwO1xuICAgICAvL2xldCBwb3NpdGlvbnMgPSBuZXcgQXJyYXkoblR1ZnRzKTtcbiAgICAgLy9mb3IobGV0IGkgPSAwOyBpIDwgblR1ZnRzOyBpKyspe1xuICAgICAgIC8vbGV0IHBvc2l0aW9uICA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgICAgLy9wb3NpdGlvbi54ICA9IChNYXRoLnJhbmRvbSgpLTAuNSkqZ3JpZFdpZHRoO1xuICAgICAgIC8vcG9zaXRpb24ueiAgPSAoTWF0aC5yYW5kb20oKS0wLjUpKmdyaWRXaWR0aDtcbiAgICAgICAvL3Bvc2l0aW9uc1tpXSAgPSBwb3NpdGlvbjtcbiAgICAgLy99XG4gICAgIC8vbGV0IG1lc2ggID0gVEhSRUV4LmNyZWF0ZUdyYXNzVHVmdHMocG9zaXRpb25zKTtcbiAgICAgLy90aGlzLnNjZW5lLmFkZChtZXNoKTtcbiAgfVxuXG4gIGNoZWNrR3JpZEludGVyc2VjdGlvbnMoKSB7XG4gICAgdGhpcy5yYXljYXN0ZXIuc2V0RnJvbUNhbWVyYSh0aGlzLm1vdXNlLCB0aGlzLmNhbWVyYSk7XG4gICAgbGV0IHBsYW5lcyA9IE9iamVjdC52YWx1ZXModGhpcy5ncmlkUGFuZWxzKTtcbiAgICBsZXQgaW50ZXJzZWN0cyA9IHRoaXMucmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHMocGxhbmVzKTtcblxuICAgIHBsYW5lcy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgcGFuZWwubWF0ZXJpYWwuY29sb3Iuc2V0SGV4KDB4NjY2NjY2KTtcbiAgICAgIHBhbmVsLm1hdGVyaWFsLm9wYWNpdHkgPSAwO1xuICAgIH0pO1xuXG4gICAgaWYoaW50ZXJzZWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgb2JqID0gaW50ZXJzZWN0c1swXS5vYmplY3Q7XG5cbiAgICAgIG9iai5tYXRlcmlhbC5jb2xvci5zZXRIZXgoMHhmZjAwMDApO1xuICAgICAgb2JqLm1hdGVyaWFsLm9wYWNpdHkgPSAuNTtcbiAgICAgIHRoaXMuY3VycmVudEhvdmVyZWRQYW5lbCA9IG9iajtcbiAgICB9IGVsc2UgaWYodGhpcy5jdXJyZW50SG92ZXJlZFBhbmVsKXtcbiAgICAgIHRoaXMuY3VycmVudEhvdmVyZWRQYW5lbCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q3VycmVudFBhbmVsSW5kZXgoKSB7XG4gICAgaWYoIXRoaXMuY3VycmVudEhvdmVyZWRQYW5lbCkgeyByZXR1cm47IH1cblxuICAgIGxldCBwbGFuZXMgPSBPYmplY3QudmFsdWVzKHRoaXMuZ3JpZFBhbmVscyk7XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZ3JpZFN1YkRpdjsgaSsrKSB7XG4gICAgICBpZih0aGlzLmN1cnJlbnRIb3ZlcmVkUGFuZWwgPT09IHBsYW5lc1tpXSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIHNldHVwTW91c2VFdmVudCgpIHtcbiAgICBsZXQgbW91c2UgPSB0aGlzLm1vdXNlO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGV2dCA9PiB7XG4gICAgICBtb3VzZS54ID0gKCBldmVudC5jbGllbnRYIC8gd2luZG93LmlubmVyV2lkdGggKSAqIDIgLSAxO1xuICAgICAgbW91c2UueSA9IC0gKCBldmVudC5jbGllbnRZIC8gd2luZG93LmlubmVySGVpZ2h0ICkgKiAyICsgMTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXJ0Rmlyc3RHYW1lKCkge1xuICAgIHRoaXMuZ2FtZUVuZ2luZS5yZXN0YXJ0KCk7XG5cbiAgICB0aGlzLmh1ZC5jbGFzc0xpc3QucmVtb3ZlKCdodWQtLWhpZGRlbicpO1xuICAgIHRoaXMuaHVkVXBncmFkZS5jbGFzc0xpc3QucmVtb3ZlKCdodWQtLWhpZGRlbicpO1xuXG4gICAgdGhpcy5pbml0aWFsaXplVXBncmFkZUJ1dHRvbnMoKTtcbiAgICB0aGlzLmluaXRpYWxpemVIdWRUZXh0cygpO1xuXG4gICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGxldCBpbmRleCA9IHRoaXMuZ2V0Q3VycmVudFBhbmVsSW5kZXgoKTtcbiAgICAgIGlmKGluZGV4ID49IDApIHtcbiAgICAgICAgdGhpcy5nYW1lRW5naW5lLm15UGxheWVyLnNwYXduTWluaW9uKGluZGV4KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsICgpID0+IHtcbiAgICAgIGxldCBpbmRleCA9IHRoaXMuZ2V0Q3VycmVudFBhbmVsSW5kZXgoKTtcbiAgICAgIGlmKGluZGV4ID49IDApIHtcbiAgICAgICAgdGhpcy5nYW1lRW5naW5lLmNvbXB1dGVyLnNwYXduTWluaW9uKGluZGV4KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNhbGN1bGF0ZUZQUyh0aW1lc3RhbXApIHtcbiAgICBsZXQgZGVsdGEgPSB0aW1lc3RhbXAgLSB0aGlzLmxhc3RUaW1lU3RhbXA7XG4gICAgZGVsdGEgPSBkZWx0YSAvIDEwMDA7XG4gICAgdGhpcy5sYXN0VGltZVN0YW1wID0gdGltZXN0YW1wO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKDEgLyBkZWx0YSk7XG4gIH1cblxuICB1cGRhdGVVSSh0aW1lc3RhbXApIHtcbiAgICBzY29yZVRleHQudGV4dENvbnRlbnQgPSB0aGlzLmdhbWVFbmdpbmUubXlQbGF5ZXIuc2NvcmU7XG4gICAgbW9uZXlUZXh0LnRleHRDb250ZW50ID0gdGhpcy5nYW1lRW5naW5lLm15UGxheWVyLm1vbmV5O1xuICAgIGZwc1RleHQudGV4dENvbnRlbnQgPSB0aGlzLmNhbGN1bGF0ZUZQUyh0aW1lc3RhbXApO1xuICAgIFxuICAgIGlmKHRoaXMuZ2FtZUVuZ2luZS5teVBsYXllci5iYXNlICE9PSBudWxsKSB7XG4gICAgICBiYXNlSGVhbHRoVGV4dC50ZXh0Q29udGVudCA9IE1hdGgubWF4KHRoaXMuZ2FtZUVuZ2luZS5teVBsYXllci5iYXNlLmhlYWx0aCwgMCkudG9GaXhlZCgyKSArIFwiIC8gXCIgKyB0aGlzLmdhbWVFbmdpbmUubXlQbGF5ZXIuYmFzZS5tYXhIZWFsdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJhc2VIZWFsdGhUZXh0LnRleHRDb250ZW50ID0gXCIwXCI7XG4gICAgfVxuICAgIFxuICAgIG1pbmlvbkJhc2VIZWFsdGhUZXh0LnRleHRDb250ZW50ID0gQ29uc3RhbnRzLm1pbmlvbi5iYXNlSGVhbHRoICsgKENvbnN0YW50cy5taW5pb24udXBncmFkZXMuaGVhbHRoLmFtb3VudCAqIHRoaXMuZ2FtZUVuZ2luZS5teVBsYXllci51cGdyYWRlcy5taW5pb25CYXNlSGVhbHRoKTtcbiAgICBtaW5pb25CYXNlQXR0YWNrVGV4dC50ZXh0Q29udGVudCA9IENvbnN0YW50cy5taW5pb24uYmFzZUF0dGFjayArIChDb25zdGFudHMubWluaW9uLnVwZ3JhZGVzLmF0dGFjay5hbW91bnQgKiB0aGlzLmdhbWVFbmdpbmUubXlQbGF5ZXIudXBncmFkZXMubWluaW9uQmFzZUF0dGFjayk7XG4gICAgbWluaW9uQmFzZUF0dGFja1NwZWVkVGV4dC50ZXh0Q29udGVudCA9ICgoQ29uc3RhbnRzLm1pbmlvbi5iYXNlQXR0YWNrU3BlZWQgKyAodGhpcy5nYW1lRW5naW5lLm15UGxheWVyLnVwZ3JhZGVzLm1pbmlvbkJhc2VBdHRhY2tTcGVlZCAqIC1Db25zdGFudHMubWluaW9uLnVwZ3JhZGVzLmF0dGFja1NwZWVkLmFtb3VudCkpIC8gMTAwMCkudG9GaXhlZCgyKSArICdzJztcbiAgICBcbiAgICBhcmNoZXJCYXNlQXR0YWNrVGV4dC50ZXh0Q29udGVudCA9IENvbnN0YW50cy5hcmNoZXIuYmFzZUF0dGFjayArICh0aGlzLmdhbWVFbmdpbmUubXlQbGF5ZXIudXBncmFkZXMuYXJjaGVyQmFzZUF0dGFjayAqIENvbnN0YW50cy5hcmNoZXIudXBncmFkZXMuYXR0YWNrLmFtb3VudCk7XG4gICAgYXJjaGVyQmFzZUF0dGFja1NwZWVkVGV4dC50ZXh0Q29udGVudCA9ICgoQ29uc3RhbnRzLmFyY2hlci5iYXNlQXR0YWNrU3BlZWQgLSAodGhpcy5nYW1lRW5naW5lLm15UGxheWVyLnVwZ3JhZGVzLmFyY2hlckJhc2VBdHRhY2tTcGVlZCAqIENvbnN0YW50cy5hcmNoZXIudXBncmFkZXMuYXR0YWNrU3BlZWQuYW1vdW50KSkgLyAxMDAwKS50b0ZpeGVkKDIpICsgXCJzXCI7XG4gIH0gICAgIFxuXG4gIHJlbmRlckxvb3AodGltZXN0YW1wKSB7XG4gICAgdGhpcy5jaGVja0dyaWRJbnRlcnNlY3Rpb25zKCk7XG4gICAgdGhpcy5nYW1lRW5naW5lLmdhbWVMb29wKHRpbWVzdGFtcCk7XG5cbiAgICBpZih0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlVUkodGltZXN0YW1wKTtcbiAgICB9XG4gIH1cblxuICBpbml0aWFsaXplSHVkVGV4dHMoKSB7XG4gICAgc2NvcmVUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njb3JlJyk7XG4gICAgbW9uZXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbmV5Jyk7XG4gICAgZnBzVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcHMnKTtcbiAgICBiYXNlSGVhbHRoVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXNlSGVhbHRoJyk7XG4gICAgbWluaW9uQmFzZUhlYWx0aFRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWluaW9uQmFzZUhlYWx0aCcpO1xuICAgIG1pbmlvbkJhc2VBdHRhY2tUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbmlvbkJhc2VBdHRhY2snKTtcbiAgICBtaW5pb25CYXNlQXR0YWNrU3BlZWRUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbmlvbkJhc2VBdHRhY2tTcGVlZCcpO1xuICAgIGFyY2hlckJhc2VBdHRhY2tUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FyY2hlckJhc2VBdHRhY2snKTtcbiAgICBhcmNoZXJCYXNlQXR0YWNrU3BlZWRUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FyY2hlckJhc2VBdHRhY2tTcGVlZCcpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZVVwZ3JhZGVCdXR0b25zKCkge1xuICAgIGxldCBnYW1lVmlldyA9IHRoaXM7XG4gICAgYmFzZUhlYWx0aFVwZ3JhZGUgPSAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jhc2VIZWFsdGhVcGdyYWRlJyk7XG4gICAgYmFzZUhlYWx0aFVwZ3JhZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmKGdhbWVWaWV3LmdhbWVFbmdpbmUubXlQbGF5ZXIubW9uZXkgPiBDb25zdGFudHMuYmFzZS51cGdyYWRlcy5oZWFsdGguY29zdCkge1xuICAgICAgICBnYW1lVmlldy5nYW1lRW5naW5lLm15UGxheWVyLmJhc2UubWF4SGVhbHRoICs9IENvbnN0YW50cy5iYXNlLnVwZ3JhZGVzLmhlYWx0aC5hbW91bnQ7XG4gICAgICAgIGdhbWVWaWV3LmdhbWVFbmdpbmUubXlQbGF5ZXIuYmFzZS5oZWFsdGggKz0gQ29uc3RhbnRzLmJhc2UudXBncmFkZXMuaGVhbHRoLmFtb3VudDtcbiAgICAgICAgZ2FtZVZpZXcuZ2FtZUVuZ2luZS5teVBsYXllci5tb25leSAtPSBDb25zdGFudHMuYmFzZS51cGdyYWRlcy5oZWFsdGguY29zdDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1pbmlvbkJhc2VIZWFsdGhVcGdyYWRlID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaW5pb25CYXNlSGVhbHRoVXBncmFkZScpO1xuICAgIG1pbmlvbkJhc2VIZWFsdGhVcGdyYWRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZihnYW1lVmlldy5nYW1lRW5naW5lLm15UGxheWVyLm1vbmV5ID4gQ29uc3RhbnRzLm1pbmlvbi51cGdyYWRlcy5oZWFsdGguY29zdCkge1xuICAgICAgICBnYW1lVmlldy5nYW1lRW5naW5lLm15UGxheWVyLnVwZ3JhZGVzLm1pbmlvbkJhc2VIZWFsdGgrKztcbiAgICAgICAgZ2FtZVZpZXcuZ2FtZUVuZ2luZS5teVBsYXllci5tb25leSAtPSBDb25zdGFudHMubWluaW9uLnVwZ3JhZGVzLmhlYWx0aC5jb3N0O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbWluaW9uQmFzZUF0dGFja1VwZ3JhZGUgPSAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbmlvbkJhc2VBdHRhY2tVcGdyYWRlJyk7XG4gICAgbWluaW9uQmFzZUF0dGFja1VwZ3JhZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmKGdhbWVWaWV3LmdhbWVFbmdpbmUubXlQbGF5ZXIubW9uZXkgPiBDb25zdGFudHMubWluaW9uLnVwZ3JhZGVzLmF0dGFjay5jb3N0KSB7XG4gICAgICAgIGdhbWVWaWV3LmdhbWVFbmdpbmUubXlQbGF5ZXIudXBncmFkZXMubWluaW9uQmFzZUF0dGFjaysrO1xuICAgICAgICBnYW1lVmlldy5nYW1lRW5naW5lLm15UGxheWVyLm1vbmV5IC09IENvbnN0YW50cy5taW5pb24udXBncmFkZXMuYXR0YWNrLmNvc3Q7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBtaW5pb25CYXNlQXR0YWNrU3BlZWRVcGdyYWRlID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaW5pb25CYXNlQXR0YWNrU3BlZWRVcGdyYWRlJyk7XG4gICAgbWluaW9uQmFzZUF0dGFja1NwZWVkVXBncmFkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYoZ2FtZVZpZXcuZ2FtZUVuZ2luZS5teVBsYXllci5tb25leSA+IENvbnN0YW50cy5taW5pb24udXBncmFkZXMuYXR0YWNrU3BlZWQuY29zdCkge1xuICAgICAgICBnYW1lVmlldy5nYW1lRW5naW5lLm15UGxheWVyLnVwZ3JhZGVzLm1pbmlvbkJhc2VBdHRhY2tTcGVlZCsrO1xuICAgICAgICBnYW1lVmlldy5nYW1lRW5naW5lLm15UGxheWVyLm1vbmV5IC09IENvbnN0YW50cy5taW5pb24udXBncmFkZXMuYXR0YWNrU3BlZWQuY29zdDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGFyY2hlckJhc2VBdHRhY2tVcGdyYWRlID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcmNoZXJCYXNlQXR0YWNrVXBncmFkZScpO1xuICAgIGFyY2hlckJhc2VBdHRhY2tVcGdyYWRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZihnYW1lVmlldy5nYW1lRW5naW5lLm15UGxheWVyLm1vbmV5ID4gQ29uc3RhbnRzLmFyY2hlci51cGdyYWRlcy5hdHRhY2suY29zdCkge1xuICAgICAgICBnYW1lVmlldy5nYW1lRW5naW5lLm15UGxheWVyLmFyY2hlcnMuZm9yRWFjaCgoYXJjaGVyKSA9PiB7XG4gICAgICAgICAgYXJjaGVyLmF0dGFja1N0cmVuZ3RoICs9IENvbnN0YW50cy5hcmNoZXIudXBncmFkZXMuYXR0YWNrLmFtb3VudDtcbiAgICAgICAgfSlcblxuICAgICAgICBnYW1lVmlldy5nYW1lRW5naW5lLm15UGxheWVyLnVwZ3JhZGVzLmFyY2hlckJhc2VBdHRhY2srKztcbiAgICAgICAgZ2FtZVZpZXcuZ2FtZUVuZ2luZS5teVBsYXllci5tb25leSAtPSBDb25zdGFudHMuYXJjaGVyLnVwZ3JhZGVzLmF0dGFjay5jb3N0O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYXJjaGVyQmFzZUF0dGFja1NwZWVkVXBncmFkZSA9ICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXJjaGVyQmFzZUF0dGFja1NwZWVkVXBncmFkZScpO1xuICAgIGFyY2hlckJhc2VBdHRhY2tTcGVlZFVwZ3JhZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmKGdhbWVWaWV3LmdhbWVFbmdpbmUubXlQbGF5ZXIubW9uZXkgPiBDb25zdGFudHMuYXJjaGVyLnVwZ3JhZGVzLmF0dGFja1NwZWVkLmNvc3QpIHtcbiAgICAgICAgZ2FtZVZpZXcuZ2FtZUVuZ2luZS5teVBsYXllci5hcmNoZXJzLmZvckVhY2goKGFyY2hlcikgPT4ge1xuICAgICAgICAgIGFyY2hlci5hdHRhY2tTcGVlZCAtPSBDb25zdGFudHMuYXJjaGVyLnVwZ3JhZGVzLmF0dGFja1NwZWVkLmFtb3VudDtcbiAgICAgICAgICBhcmNoZXIuYXJyb3dTcGVlZCAtPSBDb25zdGFudHMuYXJjaGVyLnVwZ3JhZGVzLmF0dGFja1NwZWVkLmFtb3VudDtcbiAgICAgICAgfSlcblxuICAgICAgICBnYW1lVmlldy5nYW1lRW5naW5lLm15UGxheWVyLnVwZ3JhZGVzLmFyY2hlckJhc2VBdHRhY2tTcGVlZCsrO1xuICAgICAgICBnYW1lVmlldy5nYW1lRW5naW5lLm15UGxheWVyLm1vbmV5IC09IENvbnN0YW50cy5hcmNoZXIudXBncmFkZXMuYXR0YWNrU3BlZWQuY29zdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSBcbiIsImxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbCcpO1xubGV0IHN0YXJ0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydE1vZGFsJyk7XG5sZXQgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRCdXR0b24nKTtcbmxldCByZXN0YXJ0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXJ0TW9kYWwnKTtcbmxldCByZXN0YXJ0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3RhcnRCdXR0b24nKTtcbmxldCByZXN0YXJ0TW9kYWxNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3RhcnRNb2RhbE1lc3NhZ2UnKTtcblxuZnVuY3Rpb24gYWN0aXZhdGVTdGFydFNjcmVlbigpIHtcbiAgc3RhcnRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ21vZGFsLS12aXNpYmxlJyk7XG4gIHJlc3RhcnRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLS12aXNpYmxlJyk7XG59XG5cbmZ1bmN0aW9uIGFjdGl2YXRlUmVzdGFydFNjcmVlbih3aW5uZXIsIHNjb3JlKSB7XG5cbiAgbGV0IHRleHQgPSBgUGxheWVyICR7d2lubmVyLmlkICsgMX0gd2lucyB3aXRoIGEgc2NvcmUgb2YgJHtzY29yZX0hYDtcbiAgcmVzdGFydE1vZGFsTWVzc2FnZS50ZXh0Q29udGVudCA9IHRleHQ7XG5cbiAgc3RhcnRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLS12aXNpYmxlJyk7XG4gIHJlc3RhcnRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ21vZGFsLS12aXNpYmxlJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhY3RpdmF0ZU1lbnUoYXJncykge1xuICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbC0tdmlzaWJsZScpO1xuXG4gIGlmKGFyZ3Mud2lubmVyICE9PSBudWxsKSB7XG4gICAgYWN0aXZhdGVSZXN0YXJ0U2NyZWVuKGFyZ3Mud2lubmVyLCBhcmdzLnNjb3JlKTtcbiAgfSBlbHNlIHtcbiAgICBhY3RpdmF0ZVN0YXJ0U2NyZWVuKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlTWVudShhcmdzKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLS12aXNpYmxlJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kQnV0dG9ucyhnYW1lVmlldywgZ2FtZUVuZ2luZSkge1xuICBzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBnYW1lVmlldy5zdGFydEZpcnN0R2FtZSgpO1xuICAgIGNsb3NlTWVudSgpO1xuICB9KTtcblxuICByZXN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGdhbWVFbmdpbmUucmVzdGFydCgpO1xuICAgIGNsb3NlTWVudSgpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IGdyaWRXaWR0aCwgZ3JpZExlbmd0aCwgZ3JpZFN1YkRpdiB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCBDb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMnOyBcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWluaW9uIHtcbiAgY29uc3RydWN0b3IoYXJncykge1xuICAgIHRoaXMuZGlyZWN0aW9uID0gYXJncy5kaXJlY3Rpb247XG4gICAgdGhpcy5jb2xsaWRlckxpc3QgPSBhcmdzLmNvbGxpZGVyTGlzdDtcbiAgICB0aGlzLmlkID0gYXJncy5pZDtcbiAgICB0aGlzLnBsYXllcklkID0gYXJncy5wbGF5ZXJJZDtcbiAgICB0aGlzLnBsYXllciA9IGFyZ3MucGxheWVyO1xuICAgIHRoaXMuc3RhcnRpbmdaID0gYXJncy5zdGFydGluZ1o7XG4gICAgdGhpcy5zY2VuZSA9IGFyZ3Muc2NlbmU7XG5cbiAgICB0aGlzLm1heEhlYWx0aCA9IENvbnN0YW50cy5taW5pb24uYmFzZUhlYWx0aCArIChhcmdzLmhlYWx0aFVwZ3JhZGUgKiBDb25zdGFudHMubWluaW9uLnVwZ3JhZGVzLmhlYWx0aC5hbW91bnQpO1xuICAgIHRoaXMuYXR0YWNrU3RyZW5ndGggPSBDb25zdGFudHMubWluaW9uLmJhc2VBdHRhY2sgKyAoYXJncy5hdHRhY2tVcGdyYWRlICogQ29uc3RhbnRzLm1pbmlvbi51cGdyYWRlcy5hdHRhY2suYW1vdW50KTtcbiAgICB0aGlzLmF0dGFja1NwZWVkID0gQ29uc3RhbnRzLm1pbmlvbi5iYXNlQXR0YWNrU3BlZWQgKyAoYXJncy5hdHRhY2tTcGVlZFVwZ3JhZGUgKiAtQ29uc3RhbnRzLm1pbmlvbi51cGdyYWRlcy5hdHRhY2tTcGVlZC5hbW91bnQpO1xuICAgIHRoaXMuZGVmYXVsdFNwZWVkID0gLjM7XG5cbiAgICB0aGlzLmhlYWx0aCA9IHRoaXMubWF4SGVhbHRoO1xuICAgIHRoaXMuc3BlZWQgPSB0aGlzLmRlZmF1bHRTcGVlZDtcbiAgICB0aGlzLmF0dGFja1Byb3BlcnRpZXMgPSB7XG4gICAgICBsYXN0VGltZVN0YW1wOiBudWxsLFxuICAgICAgYXR0YWNrVGltZTogMFxuICAgIH07XG5cbiAgICB0aGlzLmF0dGFja0FuaW1hdGlvblByb3BlcnRpZXMgPSB7XG4gICAgICBkaXJlY3Rpb246IDEsXG4gICAgICBzcGVlZDogdGhpcy5hdHRhY2tTcGVlZCAvIDIsXG4gICAgfTtcblxuICAgIHRoaXMud2Fsa2luZ0FuaW1hdGlvblByb3BlcnRpZXMgPSB7XG4gICAgICBkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uLFxuICAgICAgc3BlZWQ6IDUwIC8gdGhpcy5kZWZhdWx0U3BlZWQsIC8vIFRoaXMgc2hvdWxkIG5vdCBjaGFuZ2Ugb25seSBjaGFuZ2UgdGhlIHNwZWVkIG9mIHRoZSBtaW5pb24gYW5kIHRoZSBhbmltYXRpb24gd2lsbCB1cGRhdGUgYWNjb3JkaW5nbHlcbiAgICAgIGxhc3RUaW1lU3RhbXA6IG51bGwsXG4gICAgICB0aW1lOiAwXG4gICAgfTtcblxuICAgIHRoaXMua2lsbFJld2FyZCA9IHtcbiAgICAgIG1vbmV5OiA3NSxcbiAgICAgIHNjb3JlOiAyNVxuICAgIH07XG5cbiAgICB0aGlzLmRlc3Ryb3kgPSBmYWxzZTtcbiAgICB0aGlzLmF0dGFjayA9IGZhbHNlO1xuXG4gICAgdGhpcy5yb3RPYmplY3RNYXRyaXggPSBudWxsO1xuXG4gICAgdGhpcy5pbml0aWFsaXplVmlldyh0aGlzLnN0YXJ0aW5nWik7XG4gICAgdGhpcy5yZWdpc3RlckNvbGxpc2lvbigpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZVZpZXcoc3RhcnRpbmdaLCBoaXRCb3hPcGFjaXR5PTApIHtcbiAgICB0aGlzLnZpZXdPYmogPSBuZXcgVEhSRUUuR3JvdXAoKTtcblxuICAgIGxldCBoaXRHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgzLDgsMyk7XG4gICAgbGV0IGhpdE1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHgwMGZmZmYsIHRyYW5zcGFyZW50OiB0cnVlLCBvcGFjaXR5OiBoaXRCb3hPcGFjaXR5IH0pO1xuICAgIGxldCBoaXRNZXNoID0gbmV3IFRIUkVFLk1lc2goaGl0R2VvbWV0cnksIGhpdE1hdGVyaWFsKTtcblxuICAgIHRoaXMuaGVhbHRoQmFyID0gdGhpcy5pbml0aWFsaXplSGVhbHRoQmFyKCk7XG5cbiAgICBoaXRNZXNoLmFkZCh0aGlzLmhlYWx0aEJhcik7XG4gICAgdGhpcy52aWV3T2JqID0gaGl0TWVzaDtcbiAgICB0aGlzLmhpdEJveCA9IHRoaXMudmlld09iajtcblxuICAgIGxldCB6ID0gKChzdGFydGluZ1ogKiAoZ3JpZFdpZHRoIC8gZ3JpZFN1YkRpdikpIC0gKGdyaWRXaWR0aCAvIDIpKSArIChncmlkV2lkdGggLyBncmlkU3ViRGl2IC8gMik7XG4gICAgbGV0IHggPSAoZ3JpZFdpZHRoIC8gMikgKiAtdGhpcy5kaXJlY3Rpb247XG4gICAgdGhpcy52aWV3T2JqLnBvc2l0aW9uLnogPSB6O1xuICAgIHRoaXMudmlld09iai5wb3NpdGlvbi54ID0geDtcbiAgICB0aGlzLnZpZXdPYmoucG9zaXRpb24ueSA9IDQ7XG5cbiAgICB0aGlzLmhpdEJveC51c2VyRGF0YS5vYmplY3QgPSB0aGlzO1xuICAgIHRoaXMuaGl0Qm94LnVzZXJEYXRhLnBsYXllciA9IHRoaXMucGxheWVyO1xuICAgIGhpdEdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICBoaXRNYXRlcmlhbC5kaXNwb3NlKCk7XG4gIH1cblxuICBnZXRQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3T2JqLnBvc2l0aW9uO1xuICB9XG5cbiAgaW5pdGlhbGl6ZUhlYWx0aEJhcigpIHtcbiAgICB0aGlzLl9oZWFsdGhCYXJXaWR0aCA9IDI7XG4gICAgbGV0IGZ1bGxIZWFsdGhCYXJHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSh0aGlzLl9oZWFsdGhCYXJXaWR0aCwgMC4zLCAwLjMpO1xuICAgIGxldCBmdWxsSGVhbHRoQmFyTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOiAweDAwZmYwMH0pO1xuICAgIGxldCBmdWxsSGVhbHRoQmFyTWVzaCA9IG5ldyBUSFJFRS5NZXNoKGZ1bGxIZWFsdGhCYXJHZW9tZXRyeSwgZnVsbEhlYWx0aEJhck1hdGVyaWFsKTtcbiAgICBmdWxsSGVhbHRoQmFyTWVzaC5uYW1lID0gXCJGdWxsSGVhbHRoQmFyXCI7XG5cbiAgICBsZXQgZW1wdHlIZWFsdGhCYXJHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSh0aGlzLl9oZWFsdGhCYXJXaWR0aCwgMC4yLCAwLjIpO1xuICAgIGxldCBlbXB0eUhlYWx0aEJhck1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHhmZjAwMDB9KTtcbiAgICBsZXQgZW1wdHlIZWFsdGhCYXJNZXNoID0gbmV3IFRIUkVFLk1lc2goZW1wdHlIZWFsdGhCYXJHZW9tZXRyeSwgZW1wdHlIZWFsdGhCYXJNYXRlcmlhbCk7XG4gICAgZW1wdHlIZWFsdGhCYXJNZXNoLm5hbWUgPSBcIkVtcHR5SGVhbHRoQmFyXCI7XG5cbiAgICBsZXQgaGVhbHRoQmFyR3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTtcbiAgICBoZWFsdGhCYXJHcm91cC5hZGQoZnVsbEhlYWx0aEJhck1lc2gpO1xuICAgIGhlYWx0aEJhckdyb3VwLmFkZChlbXB0eUhlYWx0aEJhck1lc2gpO1xuXG4gICAgaGVhbHRoQmFyR3JvdXAucG9zaXRpb24ueSA9IDQ7XG5cbiAgICByZXR1cm4gaGVhbHRoQmFyR3JvdXA7XG4gIH1cblxuICBpc09iamVjdExvYWRlZChvYmopIHtcbiAgICByZXR1cm4gKG9iai5wb3NpdGlvbi54ID09PSAwICYmIG9iai5wb3NpdGlvbi55ID09PSAwICYmIG9iai5wb3NpdGlvbi56ID09PSAwKTtcbiAgfVxuXG4gIHJlZ2lzdGVyQ29sbGlzaW9uKCkge1xuICAgIHRoaXMuaGl0Qm94Lmdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpXG4gICAgbGV0IGJveDMgPSB0aGlzLmhpdEJveC5nZW9tZXRyeS5ib3VuZGluZ0JveC5jbG9uZSgpO1xuICAgIHRoaXMuY29sbGlkZXIgPSBuZXcgVEhSRUV4LkNvbGxpZGVyQm94Myh0aGlzLmhpdEJveCwgYm94Myk7XG5cbiAgICB0aGlzLmNvbGxpZGVyTGlzdC5wdXNoKHRoaXMuY29sbGlkZXIpO1xuXG4gICAgdGhpcy5jb2xsaWRlci5hZGRFdmVudExpc3RlbmVyKCdjb250YWN0RW50ZXInLCAob3RoZXJDb2xsaWRlcikgPT4ge1xuICAgICAgbGV0IHVzZXJEYXRhID0gb3RoZXJDb2xsaWRlci5vYmplY3QzZC51c2VyRGF0YTtcblxuICAgICAgaWYodXNlckRhdGEucGxheWVyLmlkID09PSB0aGlzLnBsYXllcklkKSB7IHJldHVybjsgfVxuICAgICAgaWYodXNlckRhdGEucmFuZ2VkKSB7IHJldHVybjsgfVxuXG4gICAgICB0aGlzLnNwZWVkID0gMDtcbiAgICAgIHRoaXMuYXR0YWNrID0gdHJ1ZTtcbiAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IHVzZXJEYXRhLm9iamVjdDtcbiAgICAgIHRoaXMucmVzZXRXYWxrQW5pbWF0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbGxpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRhY3RTdGF5JywgKG90aGVyQ29sbGlkZXIpID0+IHtcbiAgICAgIGxldCB1c2VyRGF0YSA9IG90aGVyQ29sbGlkZXIub2JqZWN0M2QudXNlckRhdGE7XG5cbiAgICAgIGlmKHVzZXJEYXRhLnBsYXllci5pZCA9PT0gdGhpcy5wbGF5ZXJJZCkgeyByZXR1cm47IH1cbiAgICAgIGlmKHVzZXJEYXRhLnJhbmdlZCkgeyByZXR1cm47IH1cblxuICAgICAgaWYodGhpcy5jdXJyZW50VGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3BlZWQgPSAwO1xuICAgICAgICB0aGlzLmF0dGFjayA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IHVzZXJEYXRhLm9iamVjdDtcbiAgICAgICAgdGhpcy5yZXNldFdhbGtBbmltYXRpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuY29sbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udGFjdFJlbW92ZWQnLCAob3RoZXJDb2xsaWRlcikgPT4ge1xuICAgICAgdGhpcy5zcGVlZCA9IHRoaXMuZGVmYXVsdFNwZWVkO1xuICAgICAgdGhpcy5hdHRhY2sgPSBmYWxzZTtcbiAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbGxpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRhY3RFeGl0JywgKG90aGVyQ29sbGlkZXIpID0+IHtcbiAgICAgIHRoaXMuc3BlZWQgPSB0aGlzLmRlZmF1bHRTcGVlZDtcbiAgICAgIHRoaXMuYXR0YWNrID0gZmFsc2U7XG4gICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0QXR0YWNrVmFsdWUoKSB7XG4gICAgbGV0IGNyaXRQcm9jID0gTWF0aC5yYW5kb20oKTtcbiAgICByZXR1cm4gY3JpdFByb2MgPj0gLjkgPyB0aGlzLmF0dGFja1N0cmVuZ3RoICogKE1hdGgucmFuZG9tKCkgKyAxKSA6IHRoaXMuYXR0YWNrU3RyZW5ndGg7XG4gIH1cblxuICB1cGRhdGVIZWFsdGhCYXIoKSB7XG4gICAgbGV0IGhlYWx0aFBlcmNlbnQgPSB0aGlzLmhlYWx0aC90aGlzLm1heEhlYWx0aDtcbiAgICBsZXQgaGVhbHRoQmFyT2Zmc2V0ID0gLSgxLWhlYWx0aFBlcmNlbnQpICogdGhpcy5faGVhbHRoQmFyV2lkdGggLyAyO1xuICAgIGxldCBmdWxsSGVhbHRoQmFyID0gdGhpcy5oZWFsdGhCYXIuZ2V0T2JqZWN0QnlOYW1lKCdGdWxsSGVhbHRoQmFyJyk7XG5cbiAgICBmdWxsSGVhbHRoQmFyLnNjYWxlLnggPSBoZWFsdGhQZXJjZW50O1xuICAgIGZ1bGxIZWFsdGhCYXIucG9zaXRpb24ueCA9IGhlYWx0aEJhck9mZnNldDtcbiAgfVxuXG4gIHJ1bkxvb3AodGltZXN0YW1wKSB7XG4gICAgdGhpcy5hdHRhY2tQcm9jZWR1cmUodGltZXN0YW1wKTtcbiAgICB0aGlzLnZpZXdPYmoucG9zaXRpb24ueCArPSAodGhpcy5zcGVlZCAqIHRoaXMuZGlyZWN0aW9uKTtcbiAgICB0aGlzLndhbGtQcm9jZWR1cmUodGltZXN0YW1wKTtcblxuICAgIHRoaXMuY29sbGlkZXIudXBkYXRlKCk7XG4gICAgdGhpcy51cGRhdGVIZWFsdGhCYXIoKTtcbiAgfVxuXG4gIGF0dGFja1Byb2NlZHVyZSh0aW1lc3RhbXApIHtcbiAgICBpZih0aGlzLmhlYWx0aCA8PSAwKSB7IHJldHVybjsgfVxuXG5cbiAgICBpZih0aGlzLmF0dGFja1Byb3BlcnRpZXMubGFzdFRpbWVTdGFtcCAhPSBudWxsICYmIHRoaXMuYXR0YWNrKSB7XG4gICAgICBsZXQgZGVsdGEgPSB0aW1lc3RhbXAgLSB0aGlzLmF0dGFja1Byb3BlcnRpZXMubGFzdFRpbWVTdGFtcDtcbiAgICAgIHRoaXMuYXR0YWNrUHJvcGVydGllcy5hdHRhY2tUaW1lID0gdGhpcy5hdHRhY2tQcm9wZXJ0aWVzLmF0dGFja1RpbWUgKyBkZWx0YTtcbiAgICAgIHRoaXMuYXR0YWNrUHJvcGVydGllcy5sYXN0VGltZVN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgdGhpcy5hdHRhY2tMb29wKGRlbHRhKTtcbiAgICB9IGVsc2UgaWYodGhpcy5hdHRhY2spIHtcbiAgICAgIHRoaXMuYXR0YWNrUHJvcGVydGllcy5hdHRhY2tUaW1lID0gMDtcbiAgICAgIHRoaXMuYXR0YWNrUHJvcGVydGllcy5sYXN0VGltZVN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgdGhpcy5hdHRhY2tMb29wKDApO1xuICAgIH1cblxuICAgIHRoaXMuYXR0YWNrUHJvcGVydGllcy5sYXN0VGltZVN0YW1wID0gdGltZXN0YW1wO1xuICB9XG5cbiAgYXR0YWNrTG9vcChkZWx0YSkge1xuICAgIGlmKHRoaXMuY3VycmVudFRhcmdldCA9PT0gbnVsbCB8fCB0aGlzLmN1cnJlbnRUYXJnZXQucGxheWVySWQgPT09IHRoaXMucGxheWVySWQpIHsgcmV0dXJuOyB9XG4gICAgdGhpcy5hbmltYXRlQXR0YWNrKGRlbHRhKTtcbiAgICBpZih0aGlzLmF0dGFja1Byb3BlcnRpZXMuYXR0YWNrVGltZSA8PSB0aGlzLmF0dGFja1NwZWVkKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0LmhlYWx0aCAtPSB0aGlzLmdldEF0dGFja1ZhbHVlKCk7XG5cbiAgICBpZih0aGlzLmN1cnJlbnRUYXJnZXQuaGVhbHRoIDw9IDApIHtcbiAgICAgIHRoaXMucGxheWVyLnByb2Nlc3NSZXdhcmQodGhpcy5jdXJyZW50VGFyZ2V0LmtpbGxSZXdhcmQpO1xuXG4gICAgICB0aGlzLmN1cnJlbnRUYXJnZXQuYXR0YWNrID0gZmFsc2U7XG4gICAgICB0aGlzLmN1cnJlbnRUYXJnZXQuZGVzdHJveSA9IHRydWU7XG4gICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuYXR0YWNrUHJvcGVydGllcy5hdHRhY2tUaW1lID0gMDtcbiAgICB0aGlzLmF0dGFja1Byb3BlcnRpZXMubGFzdFRpbWVTdGFtcCA9IG51bGw7XG4gIH1cblxuICBhbmltYXRlQXR0YWNrKGRlbHRhKSB7XG4gICAgaWYodGhpcy52aWV3T2JqLmNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgIGxldCByaWdodEFybSA9IHRoaXMudmlld09iai5jaGlsZHJlblsxXS5jaGlsZHJlblsxXTtcbiAgICAgIGxldCBjdXJyZW50QXR0YWNrVGltZSA9IHRoaXMuYXR0YWNrUHJvcGVydGllcy5hdHRhY2tUaW1lO1xuICAgICAgbGV0IGRpcmVjdGlvbiA9IHRoaXMuYXR0YWNrQW5pbWF0aW9uUHJvcGVydGllcy5kaXJlY3Rpb247XG4gICAgICBsZXQgYW5pbWF0aW9uU3BlZWQgPSB0aGlzLmF0dGFja0FuaW1hdGlvblByb3BlcnRpZXMuc3BlZWQ7XG4gICAgICBsZXQgbWF4Um90YXRpb24gPSAxMzU7XG5cbiAgICAgIGxldCByb3RhdGlvbiA9IGRpcmVjdGlvbiAqICgobWF4Um90YXRpb24gKiAoTWF0aC5QSSAvIDE4MCkpICogKGRlbHRhIC8gYW5pbWF0aW9uU3BlZWQpKTtcbiAgICAgIHJvdGF0aW9uID0gTWF0aC5taW4ocmlnaHRBcm0ucm90YXRpb24ueiArIHJvdGF0aW9uLCBtYXhSb3RhdGlvbik7XG4gICAgICByb3RhdGlvbiA9IE1hdGgubWF4KHJvdGF0aW9uLCAwKTtcblxuICAgICAgcmlnaHRBcm0ucm90YXRpb24ueiA9IHJvdGF0aW9uO1xuICAgICAgaWYoY3VycmVudEF0dGFja1RpbWUgPiBhbmltYXRpb25TcGVlZCkge1xuICAgICAgICB0aGlzLmF0dGFja0FuaW1hdGlvblByb3BlcnRpZXMuZGlyZWN0aW9uID0gLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmF0dGFja0FuaW1hdGlvblByb3BlcnRpZXMuZGlyZWN0aW9uID0gMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXNldEF0dGFja0FuaW1hdGlvbigpIHtcbiAgICBpZih0aGlzLnZpZXdPYmouY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgbGV0IHJpZ2h0QXJtID0gdGhpcy52aWV3T2JqLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdO1xuICAgICAgcmlnaHRBcm0ucm90YXRpb24ueiA9IDA7XG4gICAgfVxuICB9XG5cbiAgd2Fsa1Byb2NlZHVyZSh0aW1lc3RhbXApIHtcbiAgICBpZighdGhpcy5hdHRhY2sgJiYgdGhpcy53YWxraW5nQW5pbWF0aW9uUHJvcGVydGllcy5sYXN0VGltZVN0YW1wICE9PSBudWxsKSB7XG4gICAgICBsZXQgZGVsdGEgPSB0aW1lc3RhbXAgLSB0aGlzLndhbGtpbmdBbmltYXRpb25Qcm9wZXJ0aWVzLmxhc3RUaW1lU3RhbXA7XG4gICAgICB0aGlzLndhbGtpbmdBbmltYXRpb25Qcm9wZXJ0aWVzLnRpbWUgPSB0aGlzLndhbGtpbmdBbmltYXRpb25Qcm9wZXJ0aWVzLnRpbWUgKyBkZWx0YTtcbiAgICAgIHRoaXMud2Fsa0xvb3AoZGVsdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLndhbGtMb29wKDApO1xuICAgIH1cblxuICAgIHRoaXMud2Fsa2luZ0FuaW1hdGlvblByb3BlcnRpZXMubGFzdFRpbWVTdGFtcCA9IHRpbWVzdGFtcDtcbiAgfTtcblxuICB3YWxrTG9vcChkZWx0YSkge1xuICAgIHRoaXMuYW5pbWF0ZVdhbGsoZGVsdGEpO1xuICAgIGlmKHRoaXMud2Fsa2luZ0FuaW1hdGlvblByb3BlcnRpZXMudGltZSA8PSB0aGlzLndhbGtpbmdBbmltYXRpb25Qcm9wZXJ0aWVzLnNwZWVkKSB7IHJldHVybjsgfVxuICAgIHRoaXMud2Fsa2luZ0FuaW1hdGlvblByb3BlcnRpZXMudGltZSA9IDA7XG4gIH1cblxuICBhbmltYXRlV2FsayhkZWx0YSkge1xuICAgIGlmKHRoaXMudmlld09iai5jaGlsZHJlbi5sZW5ndGggPiAxICYmICF0aGlzLmF0dGFjaykge1xuICAgICAgbGV0IGxlZ3MgPSB0aGlzLnZpZXdPYmouY2hpbGRyZW5bMV0uY2hpbGRyZW5bM107XG4gICAgICBsZXQgbGVmdExlZyA9IGxlZ3MuY2hpbGRyZW5bMF07XG4gICAgICBsZXQgcmlnaHRMZWcgPSBsZWdzLmNoaWxkcmVuWzFdO1xuICAgICAgbGV0IGFuaW1hdGlvblRpbWUgPSB0aGlzLndhbGtpbmdBbmltYXRpb25Qcm9wZXJ0aWVzLnRpbWU7XG4gICAgICBsZXQgYW5pbWF0aW9uU3BlZWQgPSB0aGlzLndhbGtpbmdBbmltYXRpb25Qcm9wZXJ0aWVzLnNwZWVkO1xuICAgICAgbGV0IGRpcmVjdGlvbiA9IHRoaXMud2Fsa2luZ0FuaW1hdGlvblByb3BlcnRpZXMuZGlyZWN0aW9uO1xuICAgICAgbGV0IG1heFJvdGF0aW9uID0gNDU7IFxuXG4gICAgICBsZXQgcm90YXRpb24gPSAobWF4Um90YXRpb24gKiAoZGVsdGEgLyBhbmltYXRpb25TcGVlZCkpO1xuXG4gICAgICBpZihkaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5hbmltYXRlTGVnRm9yd2FyZChsZWZ0TGVnLCByb3RhdGlvbiwgbWF4Um90YXRpb24sIGRlbHRhKTtcbiAgICAgICAgdGhpcy5hbmltYXRlTGVnQmFjayhyaWdodExlZywgcm90YXRpb24sIG1heFJvdGF0aW9uLCBkZWx0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFuaW1hdGVMZWdGb3J3YXJkKHJpZ2h0TGVnLCByb3RhdGlvbiwgbWF4Um90YXRpb24sIGRlbHRhKTtcbiAgICAgICAgdGhpcy5hbmltYXRlTGVnQmFjayhsZWZ0TGVnLCByb3RhdGlvbiwgbWF4Um90YXRpb24sIGRlbHRhKTtcbiAgICAgIH1cblxuICAgICAgaWYodGhpcy50b0RlZ3JlZXMobGVmdExlZy5yb3RhdGlvbi56KSA+PSBtYXhSb3RhdGlvbiB8fCB0aGlzLnRvRGVncmVlcyhsZWZ0TGVnLnJvdGF0aW9uLnopIDw9IC1tYXhSb3RhdGlvbikge1xuICAgICAgICB0aGlzLndhbGtpbmdBbmltYXRpb25Qcm9wZXJ0aWVzLmRpcmVjdGlvbiA9ICF0aGlzLndhbGtpbmdBbmltYXRpb25Qcm9wZXJ0aWVzLmRpcmVjdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhbmltYXRlTGVnQmFjayhsZWcsIHJvdGF0aW9uLCBtYXhSb3RhdGlvbiwgZGVsdGEpIHtcbiAgICBsZXQgbWF4ID0gdGhpcy50b1JhZGlhbnMoLW1heFJvdGF0aW9uKTtcblxuICAgIGlmKGxlZy5yb3RhdGlvbi56ICsgdGhpcy50b1JhZGlhbnMoLXJvdGF0aW9uKSA8IG1heCkge1xuICAgICAgbGVnLnJvdGF0aW9uLnogPSBtYXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZy5yb3RhdGlvbi56ICs9IHRoaXMudG9SYWRpYW5zKC1yb3RhdGlvbik7XG4gICAgfVxuICB9IFxuXG4gIGFuaW1hdGVMZWdGb3J3YXJkKGxlZywgcm90YXRpb24sIG1heFJvdGF0aW9uLCBkZWx0YSkge1xuICAgIGxldCBtYXggPSB0aGlzLnRvUmFkaWFucyhtYXhSb3RhdGlvbik7XG4gICAgaWYobGVnLnJvdGF0aW9uLnogKyB0aGlzLnRvUmFkaWFucyggcm90YXRpb24pID4gbWF4KSB7XG4gICAgICBsZWcucm90YXRpb24ueiA9IG1heDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGVnLnJvdGF0aW9uLnogKz0gdGhpcy50b1JhZGlhbnMocm90YXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0V2Fsa0FuaW1hdGlvbigpIHtcbiAgICBpZih0aGlzLnZpZXdPYmouY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgbGV0IGxlZ3MgPSB0aGlzLnZpZXdPYmouY2hpbGRyZW5bMV0uY2hpbGRyZW5bM107XG4gICAgICBsZXQgbGVmdExlZyA9IGxlZ3MuY2hpbGRyZW5bMF07XG4gICAgICBsZXQgcmlnaHRMZWcgPSBsZWdzLmNoaWxkcmVuWzFdO1xuXG4gICAgICBsZWZ0TGVnLnJvdGF0aW9uLnogPSAwO1xuICAgICAgcmlnaHRMZWcucm90YXRpb24ueiA9IDA7XG4gICAgfVxuICB9XG5cbiAgdG9EZWdyZWVzKGFuZ2xlUmFkaWFucykge1xuICAgIHJldHVybiAoYW5nbGVSYWRpYW5zICogMTgwKSAvIE1hdGguUEk7XG4gIH1cblxuICB0b1JhZGlhbnMoYW5nbGVEZWdyZWVzKSB7XG4gICAgcmV0dXJuIChhbmdsZURlZ3JlZXMgLyAxODApICogTWF0aC5QSTtcbiAgfVxufVxuIiwiaW1wb3J0IE1pbmlvbiBmcm9tICcuL21pbmlvbic7XG5pbXBvcnQgQXJjaGVyIGZyb20gJy4vYXJjaGVyJztcbmltcG9ydCBCYXNlIGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgeyBncmlkV2lkdGgsIGdyaWRTdWJEaXYgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciB7XG5cbiAgY29uc3RydWN0b3IoYXJncykge1xuICAgIHRoaXMudHlwZSA9IGFyZ3MudHlwZTtcbiAgICB0aGlzLmlkID0gYXJncy5pZDtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGFyZ3MuZGlyZWN0aW9uO1xuICAgIHRoaXMuY29sbGlkZXJMaXN0ID0gYXJncy5jb2xsaWRlckxpc3Q7XG4gICAgdGhpcy5jb2xsaWRlclN5c3RlbSA9IGFyZ3MuY29sbGlkZXJTeXN0ZW07XG4gICAgdGhpcy5zY2VuZSA9IGFyZ3Muc2NlbmU7XG4gICAgdGhpcy5taW5pb25JZCA9IDA7XG4gICAgdGhpcy5zcGF3blBvcyA9IC1ncmlkV2lkdGggLyAyICogdGhpcy5kaXJlY3Rpb247XG5cbiAgICB0aGlzLnNldFVwZ3JhZGVWYWx1ZXMoKTtcbiAgICB0aGlzLmxvYWRlciA9IG5ldyBUSFJFRS5PYmplY3RMb2FkZXIoKTtcblxuICAgIHRoaXMuc2V0dXBHYW1lU3RhdGUoKTtcbiAgICB0aGlzLnNwYXduQmFzZSgpO1xuICAgIHRoaXMuc3Bhd25BcmNoZXJzKCk7XG4gIH1cblxuICBzcGF3bkFyY2hlcnMoKSB7XG4gICAgbGV0IGFyY2hlciA9IG5ldyBBcmNoZXIoeyBcbiAgICAgIHNjZW5lOiB0aGlzLnNjZW5lLCBcbiAgICAgIGNvbGxpZGVyTGlzdDogdGhpcy5jb2xsaWRlckxpc3QsIFxuICAgICAgc3RhcnRpbmdaOiAyLCBcbiAgICAgIHN0YXJ0aW5nWTogMjAsIFxuICAgICAgc3RhcnRpbmdYOiB0aGlzLnNwYXduUG9zLCBcbiAgICAgIGRpcmVjdGlvbjogdGhpcy5kaXJlY3Rpb24sIFxuICAgICAgcGxheWVyOiB0aGlzIFxuICAgIH0pO1xuXG4gICAgdGhpcy5hcmNoZXJzLnB1c2goYXJjaGVyKTtcblxuICAgIHRoaXMubG9hZGVyLmxvYWQoJy4vZ2VvbWV0cnkvd2l6YXJkLmpzb24nLCAob2JqKSA9PiB7XG4gICAgICBvYmoucG9zaXRpb24ueSA9IC00O1xuICAgICAgYXJjaGVyLnZpZXdPYmouYWRkKG9iaik7XG5cbiAgICAgIGFyY2hlci5ib2R5TW9kZWwgPSBhcmNoZXIudmlld09iai5jaGlsZHJlblsyXTtcbiAgICAgIGFyY2hlci5yaWdodEFybSA9IGFyY2hlci5ib2R5TW9kZWwuY2hpbGRyZW5bMV07XG4gICAgICBhcmNoZXIucmlnaHRBcm0ucm90YXRpb24ueiA9ICgxMzUgLyAxODApICogTWF0aC5QSTtcbiAgICAgIGlmKGFyY2hlci5kaXJlY3Rpb24gPT09IC0xKSB7XG4gICAgICAgIGFyY2hlci52aWV3T2JqLmNoaWxkcmVuWzJdLnJvdGF0aW9uLnkgPSBNYXRoLlBJO1xuICAgICAgICBhcmNoZXIuc3RhcnRpbmdSb3RhdGlvbiA9IE1hdGguUEk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2NlbmUuYWRkKGFyY2hlci52aWV3T2JqKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNwYXduQmFzZSgpIHtcbiAgICB0aGlzLmJhc2UgPSBuZXcgQmFzZSh7XG4gICAgICBkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uLFxuICAgICAgY29sbGlkZXJMaXN0OiB0aGlzLmNvbGxpZGVyTGlzdCxcbiAgICAgIHBsYXllcjogdGhpc1xuICAgIH0pO1xuXG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5iYXNlLnZpZXdPYmopO1xuICB9XG5cbiAgc3Bhd25NaW5pb24oaW5kZXgpIHtcbiAgICBpZih0aGlzLm1vbmV5ID49IHRoaXMubWluaW9uQ29zdCkge1xuICAgICAgaWYoIXRoaXMuZ2FtZU92ZXIpIHtcbiAgICAgICAgdGhpcy5tb25leSAtPSB0aGlzLm1pbmlvbkNvc3Q7XG4gICAgICB9XG5cbiAgICAgIGxldCBtaW5pb24gPSBuZXcgTWluaW9uKHtcbiAgICAgICAgaWQ6IHRoaXMubWluaW9uSWQrKyxcbiAgICAgICAgaGVhbHRoVXBncmFkZTogdGhpcy51cGdyYWRlcy5taW5pb25CYXNlSGVhbHRoLFxuICAgICAgICBhdHRhY2tVcGdyYWRlOiB0aGlzLnVwZ3JhZGVzLm1pbmlvbkJhc2VBdHRhY2ssXG4gICAgICAgIGF0dGFja1NwZWVkVXBncmFkZTogdGhpcy51cGdyYWRlcy5taW5pb25CYXNlQXR0YWNrU3BlZWQsXG4gICAgICAgIHBsYXllcklkOiB0aGlzLmlkLFxuICAgICAgICBkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uLFxuICAgICAgICBzdGFydGluZ1o6IGluZGV4LFxuICAgICAgICBjb2xsaWRlckxpc3Q6IHRoaXMuY29sbGlkZXJMaXN0LFxuICAgICAgICBwbGF5ZXI6IHRoaXNcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLm1pbmlvbnMucHVzaChtaW5pb24pO1xuICAgICAgdGhpcy5sb2FkZXIubG9hZCgnLi9nZW9tZXRyeS9tb2RlbC5qc29uJywgKG9iaikgPT4ge1xuICAgICAgICBvYmoucG9zaXRpb24ueSA9IC00O1xuICAgICAgICBtaW5pb24udmlld09iai5hZGQob2JqKTtcblxuICAgICAgICBpZihtaW5pb24uZGlyZWN0aW9uID09PSAtMSkge1xuICAgICAgICAgIG1pbmlvbi52aWV3T2JqLmNoaWxkcmVuWzFdLnJvdGF0aW9uLnkgPSBNYXRoLlBJO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zY2VuZS5hZGQobWluaW9uLnZpZXdPYmopO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJvY2Vzc1Jld2FyZChyZXdhcmQpIHtcbiAgICBpZih0aGlzLmdhbWVPdmVyKSB7IHJldHVybjsgfVxuICAgIGxldCB0ID0gdGhpcztcbiAgICBPYmplY3Qua2V5cyhyZXdhcmQpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgdFtrZXldICs9IHJld2FyZFtrZXldO1xuICAgIH0pO1xuICB9XG5cbiAgcnVuTG9vcCh0aW1lc3RhbXApIHtcbiAgICBpZih0aGlzLmJhc2UgIT09IG51bGwpIHsgXG4gICAgICB0aGlzLmJhc2UucnVuTG9vcCgpO1xuICAgICAgaWYodGhpcy5iYXNlLmRlc3Ryb3kpIHsgdGhpcy5kZXN0cm95QmFzZSgpOyB9IFxuICAgIH1cblxuICAgIHRoaXMuYXJjaGVycy5mb3JFYWNoKChhcmNoZXIpID0+IHtcbiAgICAgIGFyY2hlci5ydW5Mb29wKHRpbWVzdGFtcCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm1pbmlvbnMuZm9yRWFjaCgobWluaW9uLCBpbmRleCkgPT4ge1xuICAgICAgbWluaW9uLnJ1bkxvb3AodGltZXN0YW1wKTtcbiAgICAgIGlmKCFtaW5pb24uYXR0YWNrKSB7IG1pbmlvbi5yZXNldEF0dGFja0FuaW1hdGlvbigpOyB9XG4gICAgICBpZihtaW5pb24uZGVzdHJveSkgeyB0aGlzLmRlc3Ryb3lNaW5pb24obWluaW9uLCBpbmRleCk7IH1cbiAgICB9KTtcblxuICAgIHRoaXMuY29sbGlkZXJTeXN0ZW0uY29tcHV0ZUFuZE5vdGlmeSh0aGlzLmNvbGxpZGVyTGlzdCk7XG4gIH1cblxuICBkZXN0cm95TWluaW9uKG1pbmlvbiwgaW5kZXgpIHtcbiAgICB0aGlzLnNjZW5lLnJlbW92ZShtaW5pb24udmlld09iaik7XG5cbiAgICB0aGlzLmNvbGxpZGVyTGlzdC5zcGxpY2UodGhpcy5maW5kQ29sbGlkZXJJbmRleChtaW5pb24uY29sbGlkZXIuaWQpLCAxKTtcbiAgICBtaW5pb24uY29sbGlkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGFjdEVudGVyJyk7XG4gICAgbWluaW9uLmNvbGxpZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRhY3RTdGF5Jyk7XG4gICAgbWluaW9uLmNvbGxpZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRhY3RFeGl0Jyk7XG4gICAgbWluaW9uLmNvbGxpZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRhY3RSZW1vdmVkJyk7XG4gICAgdGhpcy5taW5pb25zLnNwbGljZShpbmRleCwgMSk7XG4gIH1cblxuICBkZXN0cm95QmFzZSgpIHtcbiAgICB0aGlzLmFyY2hlcnMuZm9yRWFjaChhcmNoZXIgPT4ge1xuICAgICAgdGhpcy5zY2VuZS5yZW1vdmUoYXJjaGVyLnZpZXdPYmopO1xuICAgICAgdGhpcy5jb2xsaWRlckxpc3Quc3BsaWNlKHRoaXMuZmluZENvbGxpZGVySW5kZXgoYXJjaGVyLmNvbGxpZGVyLmlkKSwgMSk7XG4gICAgfSk7XG4gICAgdGhpcy5hcmNoZXJzLmxlbmd0aCA9IDA7XG4gICAgXG4gICAgdGhpcy5zY2VuZS5yZW1vdmUodGhpcy5iYXNlLnZpZXdPYmopO1xuICAgIHRoaXMuY29sbGlkZXJMaXN0LnNwbGljZSh0aGlzLmZpbmRDb2xsaWRlckluZGV4KHRoaXMuYmFzZS5jb2xsaWRlci5pZCksIDEpO1xuICAgIHRoaXMuYmFzZSA9IG51bGw7XG4gICAgdGhpcy5sb3N0ID0gdHJ1ZTtcbiAgfVxuXG4gIGZpbmRDb2xsaWRlckluZGV4KGlkKSB7XG4gICAgbGV0IGluZGV4ID0gLTE7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29sbGlkZXJMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZih0aGlzLmNvbGxpZGVyTGlzdFtpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIHNldEdhbWVPdmVyKCkge1xuICAgIHRoaXMuZ2FtZU92ZXIgPSB0cnVlO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5taW5pb25zLmZvckVhY2gobWluaW9uID0+IHtcbiAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKG1pbmlvbi52aWV3T2JqKTtcbiAgICB9KTtcblxuICAgIGlmKHRoaXMuYmFzZSkge1xuICAgICAgdGhpcy5zY2VuZS5yZW1vdmUodGhpcy5iYXNlLnZpZXdPYmopO1xuICAgICAgdGhpcy5iYXNlID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLmFyY2hlcnMuZm9yRWFjaChhcmNoZXJzID0+IHtcbiAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKGFyY2hlcnMudmlld09iaik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmdhbWVPdmVyID0gZmFsc2U7XG4gICAgdGhpcy5zZXRVcGdyYWRlVmFsdWVzKCk7XG4gICAgdGhpcy5zZXR1cEdhbWVTdGF0ZSgpO1xuICAgIHRoaXMuc3Bhd25CYXNlKCk7XG4gICAgdGhpcy5zcGF3bkFyY2hlcnMoKTtcbiAgfVxuXG5cbiAgc2V0dXBHYW1lU3RhdGUoKSB7XG4gICAgdGhpcy5taW5pb25zID0gW107XG4gICAgdGhpcy5hcmNoZXJzID0gW107XG4gICAgdGhpcy5zY29yZSA9IDA7XG4gICAgdGhpcy5tb25leSA9IDQwMDA7XG4gICAgdGhpcy5taW5pb25Db3N0ID0gNTA7XG4gICAgdGhpcy5sb3N0ID0gZmFsc2U7XG4gIH1cblxuICBzZXRVcGdyYWRlVmFsdWVzKCkge1xuICAgIHRoaXMudXBncmFkZXMgPSB7XG4gICAgICBtaW5pb25CYXNlSGVhbHRoOiAwLFxuICAgICAgbWluaW9uQmFzZUF0dGFjazogMCxcbiAgICAgIG1pbmlvbkJhc2VBdHRhY2tTcGVlZDogMCxcbiAgICAgIGFyY2hlckJhc2VBdHRhY2s6IDAsXG4gICAgICBhcmNoZXJCYXNlQXR0YWNrU3BlZWQ6IDBcbiAgICB9XG4gIH1cbn1cbiIsImZ1bmN0aW9uIGhhbmRsZVJlc2l6ZShyZW5kZXJlciwgY2FtZXJhKXtcbiAgbGV0IHcgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgbGV0IGggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIHJlbmRlcmVyLnNldFNpemUodyxoKTtcbiAgY2FtZXJhLmFzcGVjdCA9IHcvaDtcbiAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbn1cblxuZnVuY3Rpb24gc2V0dXBSZXNpemluZyhyZW5kZXJlciwgY2FtZXJhKSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgaGFuZGxlUmVzaXplKHJlbmRlcmVyLCBjYW1lcmEpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwU2NyZWVuVmlldygpIHtcbiAgbGV0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gIGxldCBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNzAsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAwLjEsIDEwMDApO1xuICBsZXQgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG4gIHNldHVwUmVzaXppbmcocmVuZGVyZXIsIGNhbWVyYSk7XG5cbiAgcmV0dXJuIHsgc2NlbmUsIGNhbWVyYSwgcmVuZGVyZXIgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwUGVyZm9ybWFuY2UoKSB7XG4gIHZhciByZW5kZXJlclN0YXRzID0gbmV3IFRIUkVFeC5SZW5kZXJlclN0YXRzKCk7XG4gIHJlbmRlcmVyU3RhdHMuZG9tRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSdcbiAgcmVuZGVyZXJTdGF0cy5kb21FbGVtZW50LnN0eWxlLmxlZnQgPSAnMHB4J1xuICByZW5kZXJlclN0YXRzLmRvbUVsZW1lbnQuc3R5bGUuYm90dG9tID0gJzBweCdcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggcmVuZGVyZXJTdGF0cy5kb21FbGVtZW50IClcbiAgcmV0dXJuIHJlbmRlcmVyU3RhdHM7XG59XG4iXX0=\n"]}