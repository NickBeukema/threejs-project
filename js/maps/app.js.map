{"version":3,"sources":["app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","render","requestAnimationFrame","gameView","renderLoop","globals","renderer","scene","camera","_view","_gameEngine","_gameEngine2","_gameView","_gameView2","gameEngine","_setupScreenView","setupScreenView","./modules/game-engine","./modules/game-view","./modules/view","2","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_player","_player2","GameEngine","this","state","initializePlayers","initializeShapes","players","type","shapes","rotation","x","y","./player","3","GameView","setupLight","setupCube","position","z","lightAmbient","THREE","AmbientLight","lightSource","PointLight","set","add","geometry","BoxGeometry","material","MeshPhongMaterial","color","specular","shininess","cube","Mesh","gameLoop","4","Player","args","5","handleResize","w","window","innerWidth","h","innerHeight","setSize","aspect","updateProjectionMatrix","setupResizing","addEventListener","Scene","PerspectiveCamera","WebGLRenderer","document","body","appendChild","domElement"],"mappings":"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","file":"../app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _view = require('./modules/view');\n\nvar _gameEngine = require('./modules/game-engine');\n\nvar _gameEngine2 = _interopRequireDefault(_gameEngine);\n\nvar _gameView = require('./modules/game-view');\n\nvar _gameView2 = _interopRequireDefault(_gameView);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Globals\nvar globals = void 0;\n\nvar gameEngine = void 0,\n    gameView = void 0;\n\n// Shapes\nvar cube;\n\nfunction init() {\n  var _setupScreenView = (0, _view.setupScreenView)(),\n      scene = _setupScreenView.scene,\n      camera = _setupScreenView.camera,\n      renderer = _setupScreenView.renderer;\n\n  globals = { scene: scene, camera: camera, renderer: renderer };\n\n  gameEngine = new _gameEngine2.default();\n  gameView = new _gameView2.default(globals, gameEngine);\n\n  render();\n}\n\nfunction render() {\n  requestAnimationFrame(render);\n  gameView.renderLoop();\n  globals.renderer.render(globals.scene, globals.camera);\n}\n\ninit();\n\n},{\"./modules/game-engine\":2,\"./modules/game-view\":3,\"./modules/view\":5}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _player = require('./player');\n\nvar _player2 = _interopRequireDefault(_player);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GameEngine = function () {\n  function GameEngine() {\n    _classCallCheck(this, GameEngine);\n\n    this.state = {};\n    this.initializePlayers();\n    this.initializeShapes();\n  }\n\n  _createClass(GameEngine, [{\n    key: 'initializePlayers',\n    value: function initializePlayers() {\n      this.state.players = [new _player2.default({ type: 'human' }), new _player2.default({ type: 'computer' })];\n    }\n  }, {\n    key: 'initializeShapes',\n    value: function initializeShapes() {\n      this.shapes = [{ rotation: {\n          x: 0,\n          y: 0\n        }\n      }];\n    }\n  }, {\n    key: 'gameLoop',\n    value: function gameLoop() {\n      this.shapes[0].rotation.x += 0.01;\n      this.shapes[0].rotation.y += 0.01;\n    }\n  }]);\n\n  return GameEngine;\n}();\n\nexports.default = GameEngine;\n\n},{\"./player\":4}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GameView = function () {\n  function GameView(globals, gameEngine) {\n    _classCallCheck(this, GameView);\n\n    this.scene = globals.scene;\n    this.camera = globals.camera;\n    this.renderer = globals.renderer;\n\n    this.gameEngine = gameEngine;\n\n    this.setupLight();\n    this.setupCube();\n\n    this.camera.position.z = 4;\n  }\n\n  _createClass(GameView, [{\n    key: \"setupLight\",\n    value: function setupLight() {\n      var lightAmbient = new THREE.AmbientLight(0x666666);\n      var lightSource = new THREE.PointLight(0x888888);\n\n      lightSource.position.set(3, 3, 3);\n\n      this.scene.add(lightAmbient);\n      this.scene.add(lightSource);\n    }\n  }, {\n    key: \"setupCube\",\n    value: function setupCube() {\n      var geometry = new THREE.BoxGeometry(1, 1, 1);\n      var material = new THREE.MeshPhongMaterial({ color: 0x00ff00, specular: 0x555555, shininess: 30 });\n      this.cube = new THREE.Mesh(geometry, material);\n\n      this.scene.add(this.cube);\n    }\n  }, {\n    key: \"renderLoop\",\n    value: function renderLoop() {\n      this.gameEngine.gameLoop();\n      this.cube.rotation.x = this.gameEngine.shapes[0].rotation.x;\n      this.cube.rotation.y = this.gameEngine.shapes[0].rotation.y;\n    }\n  }]);\n\n  return GameView;\n}();\n\nexports.default = GameView;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Player = function Player(args) {\n  _classCallCheck(this, Player);\n\n  this.type = args.type;\n};\n\nexports.default = Player;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setupScreenView = setupScreenView;\nfunction handleResize(renderer, camera) {\n  var w = window.innerWidth;\n  var h = window.innerHeight;\n  renderer.setSize(w, h);\n  camera.aspect = w / h;\n  camera.updateProjectionMatrix();\n}\n\nfunction setupResizing(renderer, camera) {\n  window.addEventListener('resize', function () {\n    handleResize(renderer, camera);\n  });\n}\n\nfunction setupScreenView() {\n  var scene = new THREE.Scene();\n  var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n  var renderer = new THREE.WebGLRenderer();\n\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  document.body.appendChild(renderer.domElement);\n\n  setupResizing(renderer, camera);\n\n  return { scene: scene, camera: camera, renderer: renderer };\n}\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvYXBwLmpzIiwic3JjL2pzL21vZHVsZXMvZ2FtZS1lbmdpbmUuanMiLCJzcmMvanMvbW9kdWxlcy9nYW1lLXZpZXcuanMiLCJzcmMvanMvbW9kdWxlcy9wbGF5ZXIuanMiLCJzcmMvanMvbW9kdWxlcy92aWV3LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTtBQUNBLElBQUksZ0JBQUo7O0FBRUEsSUFBSSxtQkFBSjtBQUFBLElBQWdCLGlCQUFoQjs7QUFFQTtBQUNBLElBQUksSUFBSjs7QUFFQSxTQUFTLElBQVQsR0FBZ0I7QUFBQSx5QkFDb0IsNEJBRHBCO0FBQUEsTUFDUixLQURRLG9CQUNSLEtBRFE7QUFBQSxNQUNELE1BREMsb0JBQ0QsTUFEQztBQUFBLE1BQ08sUUFEUCxvQkFDTyxRQURQOztBQUVkLFlBQVUsRUFBRSxZQUFGLEVBQVMsY0FBVCxFQUFpQixrQkFBakIsRUFBVjs7QUFFQSxlQUFhLDBCQUFiO0FBQ0EsYUFBVyx1QkFBYSxPQUFiLEVBQXNCLFVBQXRCLENBQVg7O0FBRUE7QUFDRDs7QUFFRCxTQUFTLE1BQVQsR0FBa0I7QUFDaEIsd0JBQXNCLE1BQXRCO0FBQ0EsV0FBUyxVQUFUO0FBQ0EsVUFBUSxRQUFSLENBQWlCLE1BQWpCLENBQXdCLFFBQVEsS0FBaEMsRUFBdUMsUUFBUSxNQUEvQztBQUNEOztBQUVEOzs7Ozs7Ozs7OztBQzVCQTs7Ozs7Ozs7SUFFcUIsVTtBQUVuQix3QkFBYztBQUFBOztBQUNaLFNBQUssS0FBTCxHQUFhLEVBQWI7QUFDQSxTQUFLLGlCQUFMO0FBQ0EsU0FBSyxnQkFBTDtBQUNEOzs7O3dDQUVtQjtBQUNsQixXQUFLLEtBQUwsQ0FBVyxPQUFYLEdBQXFCLENBQ25CLHFCQUFXLEVBQUMsTUFBTSxPQUFQLEVBQVgsQ0FEbUIsRUFDVSxxQkFBVyxFQUFDLE1BQU0s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SSxNQUFNLEtBQVYsRUFBWjtBQUNBLE1BQUksU0FBUyxJQUFJLE1BQU0saUJBQVYsQ0FBNEIsRUFBNUIsRUFBZ0MsT0FBTyxVQUFQLEdBQW9CLE9BQU8sV0FBM0QsRUFBd0UsR0FBeEUsRUFBNkUsSUFBN0UsQ0FBYjtBQUNBLE1BQUksV0FBVyxJQUFJLE1BQU0sYUFBVixFQUFmOztBQUVBLFdBQVMsT0FBVCxDQUFpQixPQUFPLFVBQXhCLEVBQW9DLE9BQU8sV0FBM0M7QUFDQSxXQUFTLElBQVQsQ0FBYyxXQUFkLENBQTBCLFNBQVMsVUFBbkM7O0FBRUEsZ0JBQWMsUUFBZCxFQUF3QixNQUF4Qjs7QUFFQSxTQUFPLEVBQUUsWUFBRixFQUFTLGNBQVQsRUFBaUIsa0JBQWpCLEVBQVA7QUFDRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgeyBzZXR1cFNjcmVlblZpZXcgfSBmcm9tICcuL21vZHVsZXMvdmlldyc7XG5pbXBvcnQgR2FtZUVuZ2luZSBmcm9tICcuL21vZHVsZXMvZ2FtZS1lbmdpbmUnO1xuaW1wb3J0IEdhbWVWaWV3IGZyb20gJy4vbW9kdWxlcy9nYW1lLXZpZXcnO1xuXG4vLyBHbG9iYWxzXG5sZXQgZ2xvYmFscztcblxubGV0IGdhbWVFbmdpbmUsIGdhbWVWaWV3O1xuXG4vLyBTaGFwZXNcbnZhciBjdWJlO1xuXG5mdW5jdGlvbiBpbml0KCkge1xuICBsZXQgeyBzY2VuZSwgY2FtZXJhLCByZW5kZXJlciB9ID0gc2V0dXBTY3JlZW5WaWV3KCk7XG4gIGdsb2JhbHMgPSB7IHNjZW5lLCBjYW1lcmEsIHJlbmRlcmVyIH07XG5cbiAgZ2FtZUVuZ2luZSA9IG5ldyBHYW1lRW5naW5lKCk7XG4gIGdhbWVWaWV3ID0gbmV3IEdhbWVWaWV3KGdsb2JhbHMsIGdhbWVFbmdpbmUpO1xuXG4gIHJlbmRlcigpO1xufVxuXG5mdW5jdGlvbiByZW5kZXIoKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICBnYW1lVmlldy5yZW5kZXJMb29wKCk7XG4gIGdsb2JhbHMucmVuZGVyZXIucmVuZGVyKGdsb2JhbHMuc2NlbmUsIGdsb2JhbHMuY2FtZXJhKTtcbn1cblxuaW5pdCgpO1xuIiwiaW1wb3J0IFBsYXllciBmcm9tICcuL3BsYXllcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVFbmdpbmUge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICB0aGlzLmluaXRpYWxpemVQbGF5ZXJzKCk7XG4gICAgdGhpcy5pbml0aWFsaXplU2hhcGVzKCk7XG4gIH1cblxuICBpbml0aWFsaXplUGxheWVycygpIHtcbiAgICB0aGlzLnN0YXRlLnBsYXllcnMgPSBbXG4gICAgICBuZXcgUGxheWVyKHt0eXBlOiAnaHVtYW4nfSksIG5ldyBQbGF5ZXIoe3R5cGU6ICdjb21wdXRlcid9KVxuICAgIF07XG4gIH1cblxuICBpbml0aWFsaXplU2hhcGVzKCkge1xuICAgIHRoaXMuc2hhcGVzID0gW1xuICAgICAgeyByb3RhdGlvbjoge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgXVxuICB9XG5cbiAgZ2FtZUxvb3AoKSB7XG4gICAgdGhpcy5zaGFwZXNbMF0ucm90YXRpb24ueCArPSAwLjAxO1xuICAgIHRoaXMuc2hhcGVzWzBdLnJvdGF0aW9uLnkgKz0gMC4wMTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVZpZXcge1xuICBjb25zdHJ1Y3RvcihnbG9iYWxzLCBnYW1lRW5naW5lKSB7XG4gICAgdGhpcy5zY2VuZSA9IGdsb2JhbHMuc2NlbmU7XG4gICAgdGhpcy5jYW1lcmEgPSBnbG9iYWxzLmNhbWVyYTtcbiAgICB0aGlzLnJlbmRlcmVyID0gZ2xvYmFscy5yZW5kZXJlcjtcblxuICAgIHRoaXMuZ2FtZUVuZ2luZSA9IGdhbWVFbmdpbmU7XG5cbiAgICB0aGlzLnNldHVwTGlnaHQoKTtcbiAgICB0aGlzLnNldHVwQ3ViZSgpO1xuXG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDQ7XG4gIH1cblxuICBzZXR1cExpZ2h0KCkge1xuICAgIGxldCBsaWdodEFtYmllbnQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4NjY2NjY2KTtcbiAgICBsZXQgbGlnaHRTb3VyY2UgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCgweDg4ODg4OCk7XG5cbiAgICBsaWdodFNvdXJjZS5wb3NpdGlvbi5zZXQoMywgMywgMyk7XG5cbiAgICB0aGlzLnNjZW5lLmFkZChsaWdodEFtYmllbnQpO1xuICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0U291cmNlKTtcbiAgfVxuXG4gIHNldHVwQ3ViZSgpIHtcbiAgICBsZXQgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMSwxLDEpO1xuICAgIGxldCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7Y29sb3I6IDB4MDBmZjAwLCBzcGVjdWxhcjogMHg1NTU1NTUsIHNoaW5pbmVzczogMzAgfSk7XG4gICAgdGhpcy5jdWJlID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcblxuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuY3ViZSk7XG4gIH1cblxuICByZW5kZXJMb29wKCkge1xuICAgIHRoaXMuZ2FtZUVuZ2luZS5nYW1lTG9vcCgpO1xuICAgIHRoaXMuY3ViZS5yb3RhdGlvbi54ID0gdGhpcy5nYW1lRW5naW5lLnNoYXBlc1swXS5yb3RhdGlvbi54O1xuICAgIHRoaXMuY3ViZS5yb3RhdGlvbi55ID0gdGhpcy5nYW1lRW5naW5lLnNoYXBlc1swXS5yb3RhdGlvbi55O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIge1xuICBjb25zdHJ1Y3RvcihhcmdzKSB7XG4gICAgdGhpcy50eXBlID0gYXJncy50eXBlO1xuICB9XG59XG4iLCJmdW5jdGlvbiBoYW5kbGVSZXNpemUocmVuZGVyZXIsIGNhbWVyYSl7XG4gIGxldCB3ID0gd2luZG93LmlubmVyV2lkdGg7XG4gIGxldCBoID0gd2luZG93LmlubmVySGVpZ2h0O1xuICByZW5kZXJlci5zZXRTaXplKHcsaCk7XG4gIGNhbWVyYS5hc3BlY3QgPSB3L2g7XG4gIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG59XG5cbmZ1bmN0aW9uIHNldHVwUmVzaXppbmcocmVuZGVyZXIsIGNhbWVyYSkge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgIGhhbmRsZVJlc2l6ZShyZW5kZXJlciwgY2FtZXJhKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cFNjcmVlblZpZXcoKSB7XG4gIGxldCBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICBsZXQgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDc1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAxMDAwKTtcbiAgbGV0IHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcblxuICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG4gIHNldHVwUmVzaXppbmcocmVuZGVyZXIsIGNhbWVyYSk7XG5cbiAgcmV0dXJuIHsgc2NlbmUsIGNhbWVyYSwgcmVuZGVyZXIgfTtcbn1cbiJdfQ==\n"]}