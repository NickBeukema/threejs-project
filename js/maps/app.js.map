{"version":3,"sources":["app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","render","requestAnimationFrame","gameView","renderLoop","updateUI","globals","renderer","scene","camera","scoreText","textContent","gameEngine","myPlayer","score","moneyText","money","_view","_gameEngine","_gameEngine2","_gameView","_gameView2","_setupScreenView","setupScreenView","document","getElementById","window","addEventListener","minion","spawnMinion","add","viewObj","computer","./modules/game-engine","./modules/game-view","./modules/view","2","Object","defineProperty","value","xPositive","xNegative","3","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_player","_player2","_constants","GameEngine","this","state","initializePlayers","type","direction","players","forEach","player","runLoop","./constants","./player","4","GameView","setupLight","grid","THREE","GridHelper","position","z","y","lookAt","lightAmbient","AmbientLight","lightSource","PointLight","set","gameLoop","5","Minion","args","health","attackStrength","initializeView","startingZ","speed","geometry","BoxGeometry","material","MeshPhongMaterial","color","specular","shininess","Mesh","x","6","_minion","_minion2","Player","setupGameState","minionCost","tmp","minions","push","./minion","7","handleResize","w","innerWidth","h","innerHeight","setSize","aspect","updateProjectionMatrix","setupResizing","Scene","PerspectiveCamera","WebGLRenderer","body","appendChild","domElement"],"mappings":"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","file":"../app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _view = require('./modules/view');\n\nvar _gameEngine = require('./modules/game-engine');\n\nvar _gameEngine2 = _interopRequireDefault(_gameEngine);\n\nvar _gameView = require('./modules/game-view');\n\nvar _gameView2 = _interopRequireDefault(_gameView);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Globals\nvar globals = void 0;\n\nvar gameEngine = void 0,\n    gameView = void 0;\n\n// UI Elements\nvar scoreText = void 0,\n    moneyText = void 0;\n\n// Shapes\nvar cube;\n\nfunction init() {\n  var _setupScreenView = (0, _view.setupScreenView)(),\n      scene = _setupScreenView.scene,\n      camera = _setupScreenView.camera,\n      renderer = _setupScreenView.renderer;\n\n  globals = { scene: scene, camera: camera, renderer: renderer };\n\n  gameEngine = new _gameEngine2.default();\n  gameView = new _gameView2.default(globals, gameEngine);\n\n  scoreText = document.getElementById('score');\n  moneyText = document.getElementById('money');\n\n  window.addEventListener('click', function () {\n    var minion = gameEngine.myPlayer.spawnMinion();\n    if (minion) {\n      scene.add(minion.viewObj);\n    }\n  });\n\n  window.addEventListener('keypress', function () {\n    var minion = gameEngine.computer.spawnMinion();\n    if (minion) {\n      scene.add(minion.viewObj);\n    }\n  });\n\n  render();\n}\n\nfunction render() {\n  requestAnimationFrame(render);\n  gameView.renderLoop();\n\n  updateUI();\n\n  globals.renderer.render(globals.scene, globals.camera);\n}\n\nfunction updateUI() {\n  scoreText.textContent = gameEngine.myPlayer.score;\n  moneyText.textContent = gameEngine.myPlayer.money;\n}\n\ninit();\n\n},{\"./modules/game-engine\":3,\"./modules/game-view\":4,\"./modules/view\":7}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar xPositive = exports.xPositive = 1;\nvar xNegative = exports.xNegative = -1;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _player = require('./player');\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GameEngine = function () {\n  function GameEngine() {\n    _classCallCheck(this, GameEngine);\n\n    this.state = {};\n    this.initializePlayers();\n  }\n\n  _createClass(GameEngine, [{\n    key: 'initializePlayers',\n    value: function initializePlayers() {\n      this.myPlayer = new _player2.default({ type: 'human', direction: _constants.xPositive });\n      this.computer = new _player2.default({ type: 'computer', direction: _constants.xNegative });\n      this.state.players = [this.myPlayer, this.computer];\n    }\n  }, {\n    key: 'gameLoop',\n    value: function gameLoop() {\n      this.state.players.forEach(function (player) {\n        return player.runLoop();\n      });\n    }\n  }]);\n\n  return GameEngine;\n}();\n\nexports.default = GameEngine;\n\n},{\"./constants\":2,\"./player\":6}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GameView = function () {\n  function GameView(globals, gameEngine) {\n    _classCallCheck(this, GameView);\n\n    this.scene = globals.scene;\n    this.camera = globals.camera;\n    this.renderer = globals.renderer;\n\n    this.gameEngine = gameEngine;\n\n    this.setupLight();\n\n    var grid = new THREE.GridHelper(40, 10);\n    this.scene.add(grid);\n\n    this.camera.position.z = 100;\n    this.camera.position.y = 50;\n    this.camera.lookAt(this.scene.position);\n  }\n\n  _createClass(GameView, [{\n    key: \"setupLight\",\n    value: function setupLight() {\n      var lightAmbient = new THREE.AmbientLight(0x666666);\n      var lightSource = new THREE.PointLight(0x888888);\n\n      lightSource.position.set(3, 3, 3);\n\n      this.scene.add(lightAmbient);\n      this.scene.add(lightSource);\n    }\n  }, {\n    key: \"renderLoop\",\n    value: function renderLoop() {\n      this.gameEngine.gameLoop();\n    }\n  }]);\n\n  return GameView;\n}();\n\nexports.default = GameView;\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Minion = function () {\n  function Minion(args) {\n    _classCallCheck(this, Minion);\n\n    this.health = 20;\n    this.attackStrength = 3;\n    this.direction = args.direction;\n    this.initializeView(args.startingZ);\n    this.speed = 0.08;\n  }\n\n  _createClass(Minion, [{\n    key: \"initializeView\",\n    value: function initializeView(startingZ) {\n      var geometry = new THREE.BoxGeometry(1, 1, 1);\n      var material = new THREE.MeshPhongMaterial({ color: 0x00ff00, specular: 0x555555, shininess: 30 });\n      this.viewObj = new THREE.Mesh(geometry, material);\n\n      this.viewObj.position.z = startingZ * 10 - 35;\n      this.viewObj.position.x = -38 * this.direction;\n      //this.viewObj.position.z = 0;\n    }\n  }, {\n    key: \"runLoop\",\n    value: function runLoop() {\n      this.viewObj.position.x += this.speed * this.direction;\n    }\n  }]);\n\n  return Minion;\n}();\n\nexports.default = Minion;\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _minion = require('./minion');\n\nvar _minion2 = _interopRequireDefault(_minion);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Player = function () {\n  function Player(args) {\n    _classCallCheck(this, Player);\n\n    this.type = args.type;\n    this.direction = args.direction;\n\n    this.setupGameState();\n  }\n\n  _createClass(Player, [{\n    key: 'spawnMinion',\n    value: function spawnMinion() {\n      if (this.money >= this.minionCost) {\n        this.money -= this.minionCost;\n        var minion = new _minion2.default({ direction: this.direction, startingZ: this.tmp });\n        this.tmp += 1;\n\n        this.minions.push(minion);\n        return minion;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: 'runLoop',\n    value: function runLoop() {\n      this.minions.forEach(function (minion) {\n        return minion.runLoop();\n      });\n    }\n  }, {\n    key: 'setupGameState',\n    value: function setupGameState() {\n      this.minions = [];\n      this.score = 0;\n      this.money = 200;\n      this.minionCost = 20;\n      this.tmp = 0;\n    }\n  }]);\n\n  return Player;\n}();\n\nexports.default = Player;\n\n},{\"./minion\":5}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setupScreenView = setupScreenView;\nfunction handleResize(renderer, camera) {\n  var w = window.innerWidth;\n  var h = window.innerHeight;\n  renderer.setSize(w, h);\n  camera.aspect = w / h;\n  camera.updateProjectionMatrix();\n}\n\nfunction setupResizing(renderer, camera) {\n  window.addEventListener('resize', function () {\n    handleResize(renderer, camera);\n  });\n}\n\nfunction setupScreenView() {\n  var scene = new THREE.Scene();\n  var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n  var renderer = new THREE.WebGLRenderer();\n\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  document.body.appendChild(renderer.domElement);\n\n  setupResizing(renderer, camera);\n\n  return { scene: scene, camera: camera, renderer: renderer };\n}\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvYXBwLmpzIiwic3JjL2pzL21vZHVsZXMvY29uc3RhbnRzLmpzIiwic3JjL2pzL21vZHVsZXMvZ2FtZS1lbmdpbmUuanMiLCJzcmMvanMvbW9kdWxlcy9nYW1lLXZpZXcuanMiLCJzcmMvanMvbW9kdWxlcy9taW5pb24uanMiLCJzcmMvanMvbW9kdWxlcy9wbGF5ZXIuanMiLCJzcmMvanMvbW9kdWxlcy92aWV3LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTtBQUNBLElBQUksZ0JBQUo7O0FBRUEsSUFBSSxtQkFBSjtBQUFBLElBQWdCLGlCQUFoQjs7QUFFQTtBQUNBLElBQUksa0JBQUo7QUFBQSxJQUFlLGtCQUFmOztBQUVBO0FBQ0EsSUFBSSxJQUFKOztBQUVBLFNBQVMsSUFBVCxHQUFnQjtBQUFBLHlCQUNvQiw0QkFEcEI7QUFBQSxNQUNSLEtBRFEsb0JBQ1IsS0FEUTtBQUFBLE1BQ0QsTUFEQyxvQkFDRCxNQURDO0FBQUEsTUFDTyxRQURQLG9CQUNPLFFBRFA7O0FBRWQsWUFBVSxFQUFFLFlBQUYsRUFBUyxjQUFULEVBQWlCLGtCQUFqQixFQUFWOztBQUVBLGVBQWEsMEJBQWI7QUFDQSxhQUFXLHVCQUFhLE9BQWIsRUFBc0IsVUFBdEIsQ0FBWDs7QUFHQSxjQUFZLFNBQVMsY0FBVCxDQUF3QixPQUF4QixDQUFaO0FBQ0EsY0FBWSxTQUFTLGNBQVQsQ0FBd0IsT0FBeEIsQ0FBWjs7QUFHQSxTQUFPLGdCQUFQLENBQXdCLE9BQXhCLEVBQWlDLFlBQU07QUFDckMsUUFBSSxTQUFTLFdBQVcsUUFBWCxDQUFvQixXQUFwQixFQUFiO0FBQ0EsUUFBRyxNQUFILEVBQVc7QUFDVCxZQUFNLEdBQU4sQ0FBVSxPQUFPLE9BQWpCO0FBQ0Q7QUFDRixHQUxEOztBQU9BLFNBQU8sZ0JBQVAsQ0FBd0IsVUFBeEIsRUFB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LE1BQXhCOztBQUVBLFNBQU8sRUFBRSxZQUFGLEVBQVMsY0FBVCxFQUFpQixrQkFBakIsRUFBUDtBQUNEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7IHNldHVwU2NyZWVuVmlldyB9IGZyb20gJy4vbW9kdWxlcy92aWV3JztcbmltcG9ydCBHYW1lRW5naW5lIGZyb20gJy4vbW9kdWxlcy9nYW1lLWVuZ2luZSc7XG5pbXBvcnQgR2FtZVZpZXcgZnJvbSAnLi9tb2R1bGVzL2dhbWUtdmlldyc7XG5cbi8vIEdsb2JhbHNcbmxldCBnbG9iYWxzO1xuXG5sZXQgZ2FtZUVuZ2luZSwgZ2FtZVZpZXc7XG5cbi8vIFVJIEVsZW1lbnRzXG5sZXQgc2NvcmVUZXh0LCBtb25leVRleHQ7XG5cbi8vIFNoYXBlc1xudmFyIGN1YmU7XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gIGxldCB7IHNjZW5lLCBjYW1lcmEsIHJlbmRlcmVyIH0gPSBzZXR1cFNjcmVlblZpZXcoKTtcbiAgZ2xvYmFscyA9IHsgc2NlbmUsIGNhbWVyYSwgcmVuZGVyZXIgfTtcblxuICBnYW1lRW5naW5lID0gbmV3IEdhbWVFbmdpbmUoKTtcbiAgZ2FtZVZpZXcgPSBuZXcgR2FtZVZpZXcoZ2xvYmFscywgZ2FtZUVuZ2luZSk7XG5cblxuICBzY29yZVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NvcmUnKTtcbiAgbW9uZXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbmV5Jyk7XG5cblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbGV0IG1pbmlvbiA9IGdhbWVFbmdpbmUubXlQbGF5ZXIuc3Bhd25NaW5pb24oKTtcbiAgICBpZihtaW5pb24pIHtcbiAgICAgIHNjZW5lLmFkZChtaW5pb24udmlld09iaik7XG4gICAgfVxuICB9KTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoKSA9PiB7XG4gICAgbGV0IG1pbmlvbiA9IGdhbWVFbmdpbmUuY29tcHV0ZXIuc3Bhd25NaW5pb24oKTtcbiAgICBpZihtaW5pb24pIHtcbiAgICAgIHNjZW5lLmFkZChtaW5pb24udmlld09iaik7XG4gICAgfVxuICB9KTtcblxuICByZW5kZXIoKTtcbn1cblxuXG5mdW5jdGlvbiByZW5kZXIoKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICBnYW1lVmlldy5yZW5kZXJMb29wKCk7XG5cbiAgdXBkYXRlVUkoKTtcblxuICBnbG9iYWxzLnJlbmRlcmVyLnJlbmRlcihnbG9iYWxzLnNjZW5lLCBnbG9iYWxzLmNhbWVyYSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVVJKCkge1xuICBzY29yZVRleHQudGV4dENvbnRlbnQgPSBnYW1lRW5naW5lLm15UGxheWVyLnNjb3JlO1xuICBtb25leVRleHQudGV4dENvbnRlbnQgPSBnYW1lRW5naW5lLm15UGxheWVyLm1vbmV5O1xufVxuXG5pbml0KCk7XG4iLCJleHBvcnQgY29uc3QgeFBvc2l0aXZlID0gMTtcbmV4cG9ydCBjb25zdCB4TmVnYXRpdmUgPSAtMTtcbiIsImltcG9ydCBQbGF5ZXIgZnJvbSAnLi9wbGF5ZXInO1xuaW1wb3J0IHsgeFBvc2l0aXZlLCB4TmVnYXRpdmUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVFbmdpbmUge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICB0aGlzLmluaXRpYWxpemVQbGF5ZXJzKCk7XG4gIH1cblxuICBpbml0aWFsaXplUGxheWVycygpIHtcbiAgICB0aGlzLm15UGxheWVyID0gbmV3IFBsYXllcih7dHlwZTogJ2h1bWFuJywgZGlyZWN0aW9uOiB4UG9zaXRpdmV9KTtcbiAgICB0aGlzLmNvbXB1dGVyID0gbmV3IFBsYXllcih7dHlwZTogJ2NvbXB1dGVyJywgZGlyZWN0aW9uOiB4TmVnYXRpdmV9KTtcbiAgICB0aGlzLnN0YXRlLnBsYXllcnMgPSBbIHRoaXMubXlQbGF5ZXIsIHRoaXMuY29tcHV0ZXIgXTtcbiAgfVxuXG4gIGdhbWVMb29wKCkge1xuICAgIHRoaXMuc3RhdGUucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiBwbGF5ZXIucnVuTG9vcCgpKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVZpZXcge1xuICBjb25zdHJ1Y3RvcihnbG9iYWxzLCBnYW1lRW5naW5lKSB7XG4gICAgdGhpcy5zY2VuZSA9IGdsb2JhbHMuc2NlbmU7XG4gICAgdGhpcy5jYW1lcmEgPSBnbG9iYWxzLmNhbWVyYTtcbiAgICB0aGlzLnJlbmRlcmVyID0gZ2xvYmFscy5yZW5kZXJlcjtcblxuICAgIHRoaXMuZ2FtZUVuZ2luZSA9IGdhbWVFbmdpbmU7XG5cbiAgICB0aGlzLnNldHVwTGlnaHQoKTtcblxuICAgIHZhciBncmlkID0gbmV3IFRIUkVFLkdyaWRIZWxwZXIoNDAsIDEwKTtcbiAgICB0aGlzLnNjZW5lLmFkZChncmlkKTtcblxuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxMDA7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueSA9IDUwO1xuICAgIHRoaXMuY2FtZXJhLmxvb2tBdCh0aGlzLnNjZW5lLnBvc2l0aW9uKVxuICB9XG5cbiAgc2V0dXBMaWdodCgpIHtcbiAgICBsZXQgbGlnaHRBbWJpZW50ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweDY2NjY2Nik7XG4gICAgbGV0IGxpZ2h0U291cmNlID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoMHg4ODg4ODgpO1xuXG4gICAgbGlnaHRTb3VyY2UucG9zaXRpb24uc2V0KDMsIDMsIDMpO1xuXG4gICAgdGhpcy5zY2VuZS5hZGQobGlnaHRBbWJpZW50KTtcbiAgICB0aGlzLnNjZW5lLmFkZChsaWdodFNvdXJjZSk7XG4gIH1cblxuICByZW5kZXJMb29wKCkge1xuICAgIHRoaXMuZ2FtZUVuZ2luZS5nYW1lTG9vcCgpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNaW5pb24ge1xuICBjb25zdHJ1Y3RvcihhcmdzKSB7XG4gICAgdGhpcy5oZWFsdGggPSAyMDtcbiAgICB0aGlzLmF0dGFja1N0cmVuZ3RoID0gMztcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGFyZ3MuZGlyZWN0aW9uO1xuICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXcoYXJncy5zdGFydGluZ1opO1xuICAgIHRoaXMuc3BlZWQgPSAwLjA4O1xuICB9XG5cbiAgaW5pdGlhbGl6ZVZpZXcoc3RhcnRpbmdaKSB7XG4gICAgbGV0IGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEsMSwxKTtcbiAgICBsZXQgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe2NvbG9yOiAweDAwZmYwMCwgc3BlY3VsYXI6IDB4NTU1NTU1LCBzaGluaW5lc3M6IDMwIH0pO1xuICAgIHRoaXMudmlld09iaiA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG5cblxuICAgIHRoaXMudmlld09iai5wb3NpdGlvbi56ID0gKHN0YXJ0aW5nWiAqIDEwKSAtIDM1O1xuICAgIHRoaXMudmlld09iai5wb3NpdGlvbi54ID0gLTM4ICogdGhpcy5kaXJlY3Rpb247XG4gICAgLy90aGlzLnZpZXdPYmoucG9zaXRpb24ueiA9IDA7XG5cbiAgfVxuXG4gIHJ1bkxvb3AoKSB7XG4gICAgdGhpcy52aWV3T2JqLnBvc2l0aW9uLnggKz0gKHRoaXMuc3BlZWQgKiB0aGlzLmRpcmVjdGlvbik7XG4gIH1cbn1cbiIsImltcG9ydCBNaW5pb24gZnJvbSAnLi9taW5pb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIge1xuXG4gIGNvbnN0cnVjdG9yKGFyZ3MpIHtcbiAgICB0aGlzLnR5cGUgPSBhcmdzLnR5cGU7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBhcmdzLmRpcmVjdGlvbjtcblxuICAgIHRoaXMuc2V0dXBHYW1lU3RhdGUoKTtcbiAgfVxuXG4gIHNwYXduTWluaW9uKCkge1xuICAgIGlmKHRoaXMubW9uZXkgPj0gdGhpcy5taW5pb25Db3N0KSB7XG4gICAgICB0aGlzLm1vbmV5IC09IHRoaXMubWluaW9uQ29zdDtcbiAgICAgIGxldCBtaW5pb24gPSBuZXcgTWluaW9uKHtkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uLCBzdGFydGluZ1o6IHRoaXMudG1wfSk7XG4gICAgICB0aGlzLnRtcCArPSAxO1xuXG4gICAgICB0aGlzLm1pbmlvbnMucHVzaChtaW5pb24pO1xuICAgICAgcmV0dXJuIG1pbmlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcnVuTG9vcCgpIHtcbiAgICB0aGlzLm1pbmlvbnMuZm9yRWFjaChtaW5pb24gPT4gbWluaW9uLnJ1bkxvb3AoKSk7XG4gIH1cblxuICBzZXR1cEdhbWVTdGF0ZSgpIHtcbiAgICB0aGlzLm1pbmlvbnMgPSBbXTtcbiAgICB0aGlzLnNjb3JlID0gMDtcbiAgICB0aGlzLm1vbmV5ID0gMjAwO1xuICAgIHRoaXMubWluaW9uQ29zdCA9IDIwO1xuICAgIHRoaXMudG1wID0gMDtcbiAgfVxufVxuIiwiZnVuY3Rpb24gaGFuZGxlUmVzaXplKHJlbmRlcmVyLCBjYW1lcmEpe1xuICBsZXQgdyA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICBsZXQgaCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgcmVuZGVyZXIuc2V0U2l6ZSh3LGgpO1xuICBjYW1lcmEuYXNwZWN0ID0gdy9oO1xuICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xufVxuXG5mdW5jdGlvbiBzZXR1cFJlc2l6aW5nKHJlbmRlcmVyLCBjYW1lcmEpIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICBoYW5kbGVSZXNpemUocmVuZGVyZXIsIGNhbWVyYSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBTY3JlZW5WaWV3KCkge1xuICBsZXQgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgbGV0IGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg3NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMSwgMTAwMCk7XG4gIGxldCByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG5cbiAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcblxuICBzZXR1cFJlc2l6aW5nKHJlbmRlcmVyLCBjYW1lcmEpO1xuXG4gIHJldHVybiB7IHNjZW5lLCBjYW1lcmEsIHJlbmRlcmVyIH07XG59XG4iXX0=\n"]}