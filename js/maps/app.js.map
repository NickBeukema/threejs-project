{"version":3,"sources":["app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","render","requestAnimationFrame","gameView","renderLoop","globals","renderer","scene","camera","_view","_gameEngine","_gameEngine2","_gameView","_gameView2","gameEngine","_setupScreenView","setupScreenView","./modules/game-engine","./modules/game-view","./modules/view","2","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_player","_player2","GameEngine","this","state","initializePlayers","players","type","./player","3","GameView","setupLight","setupCube","position","z","lightAmbient","THREE","AmbientLight","lightSource","PointLight","set","add","geometry","BoxGeometry","material","MeshPhongMaterial","color","specular","shininess","cube","Mesh","rotation","x","y","4","Player","args","5","handleResize","w","window","innerWidth","h","innerHeight","setSize","aspect","updateProjectionMatrix","setupResizing","addEventListener","Scene","PerspectiveCamera","WebGLRenderer","document","body","appendChild","domElement"],"mappings":"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","file":"../app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _view = require('./modules/view');\n\nvar _gameEngine = require('./modules/game-engine');\n\nvar _gameEngine2 = _interopRequireDefault(_gameEngine);\n\nvar _gameView = require('./modules/game-view');\n\nvar _gameView2 = _interopRequireDefault(_gameView);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Globals\nvar globals = void 0;\n\nvar gameEngine = void 0,\n    gameView = void 0;\n\n// Shapes\nvar cube;\n\nfunction init() {\n  var _setupScreenView = (0, _view.setupScreenView)(),\n      scene = _setupScreenView.scene,\n      camera = _setupScreenView.camera,\n      renderer = _setupScreenView.renderer;\n\n  globals = { scene: scene, camera: camera, renderer: renderer };\n\n  gameEngine = new _gameEngine2.default();\n  gameView = new _gameView2.default(globals);\n\n  render();\n}\n\nfunction render() {\n  requestAnimationFrame(render);\n  gameView.renderLoop();\n  globals.renderer.render(globals.scene, globals.camera);\n}\n\ninit();\n\n},{\"./modules/game-engine\":2,\"./modules/game-view\":3,\"./modules/view\":5}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _player = require('./player');\n\nvar _player2 = _interopRequireDefault(_player);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GameEngine = function () {\n  function GameEngine() {\n    _classCallCheck(this, GameEngine);\n\n    this.state = {};\n    this.initializePlayers();\n  }\n\n  _createClass(GameEngine, [{\n    key: 'initializePlayers',\n    value: function initializePlayers() {\n      this.state.players = [new _player2.default({ type: 'human' }), new _player2.default({ type: 'computer' })];\n    }\n  }]);\n\n  return GameEngine;\n}();\n\nexports.default = GameEngine;\n\n},{\"./player\":4}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GameView = function () {\n  function GameView(globals) {\n    _classCallCheck(this, GameView);\n\n    this.scene = globals.scene;\n    this.camera = globals.camera;\n    this.renderer = globals.renderer;\n\n    this.setupLight();\n    this.setupCube();\n\n    this.camera.position.z = 4;\n  }\n\n  _createClass(GameView, [{\n    key: \"setupLight\",\n    value: function setupLight() {\n      var lightAmbient = new THREE.AmbientLight(0x666666);\n      var lightSource = new THREE.PointLight(0x888888);\n\n      lightSource.position.set(3, 3, 3);\n\n      this.scene.add(lightAmbient);\n      this.scene.add(lightSource);\n    }\n  }, {\n    key: \"setupCube\",\n    value: function setupCube() {\n      var geometry = new THREE.BoxGeometry(1, 1, 1);\n      var material = new THREE.MeshPhongMaterial({ color: 0x00ff00, specular: 0x555555, shininess: 30 });\n      this.cube = new THREE.Mesh(geometry, material);\n\n      this.scene.add(this.cube);\n    }\n  }, {\n    key: \"renderLoop\",\n    value: function renderLoop() {\n      this.cube.rotation.x += 0.01;\n      this.cube.rotation.y += 0.01;\n    }\n  }]);\n\n  return GameView;\n}();\n\nexports.default = GameView;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Player = function Player(args) {\n  _classCallCheck(this, Player);\n\n  this.type = args.type;\n};\n\nexports.default = Player;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setupScreenView = setupScreenView;\nfunction handleResize(renderer, camera) {\n  var w = window.innerWidth;\n  var h = window.innerHeight;\n  renderer.setSize(w, h);\n  camera.aspect = w / h;\n  camera.updateProjectionMatrix();\n}\n\nfunction setupResizing(renderer, camera) {\n  window.addEventListener('resize', function () {\n    handleResize(renderer, camera);\n  });\n}\n\nfunction setupScreenView() {\n  var scene = new THREE.Scene();\n  var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n  var renderer = new THREE.WebGLRenderer();\n\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  document.body.appendChild(renderer.domElement);\n\n  setupResizing(renderer, camera);\n\n  return { scene: scene, camera: camera, renderer: renderer };\n}\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvYXBwLmpzIiwic3JjL2pzL21vZHVsZXMvZ2FtZS1lbmdpbmUuanMiLCJzcmMvanMvbW9kdWxlcy9nYW1lLXZpZXcuanMiLCJzcmMvanMvbW9kdWxlcy9wbGF5ZXIuanMiLCJzcmMvanMvbW9kdWxlcy92aWV3LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTtBQUNBLElBQUksZ0JBQUo7O0FBRUEsSUFBSSxtQkFBSjtBQUFBLElBQWdCLGlCQUFoQjs7QUFFQTtBQUNBLElBQUksSUFBSjs7QUFFQSxTQUFTLElBQVQsR0FBZ0I7QUFBQSx5QkFDb0IsNEJBRHBCO0FBQUEsTUFDUixLQURRLG9CQUNSLEtBRFE7QUFBQSxNQUNELE1BREMsb0JBQ0QsTUFEQztBQUFBLE1BQ08sUUFEUCxvQkFDTyxRQURQOztBQUVkLFlBQVUsRUFBRSxZQUFGLEVBQVMsY0FBVCxFQUFpQixrQkFBakIsRUFBVjs7QUFFQSxlQUFhLDBCQUFiO0FBQ0EsYUFBVyx1QkFBYSxPQUFiLENBQVg7O0FBRUE7QUFDRDs7QUFFRCxTQUFTLE1BQVQsR0FBa0I7QUFDaEIsd0JBQXNCLE1BQXRCO0FBQ0EsV0FBUyxVQUFUO0FBQ0EsVUFBUSxRQUFSLENBQWlCLE1BQWpCLENBQXdCLFFBQVEsS0FBaEMsRUFBdUMsUUFBUSxNQUEvQztBQUNEOztBQUVEOzs7Ozs7Ozs7OztBQzVCQTs7Ozs7Ozs7SUFFcUIsVTtBQUVuQix3QkFBYztBQUFBOztBQUNaLFNBQUssS0FBTCxHQUFhLEVBQWI7QUFDQSxTQUFLLGlCQUFMO0FBQ0Q7Ozs7d0NBRW1CO0FBQ2xCLFdBQUssS0FBTCxDQUFXLE9BQVgsR0FBcUIsQ0FDbkIscUJBQVcsRUFBQyxNQUFNLE9BQVAsRUFBWCxDQURtQixFQUNVLHFCQUFXLEVBQUMsTUFBTSxVQUFQLEVBQVgsQ0FEVixDQUFyQjtBQUdEOzs7Ozs7a0JBWGtCLFU7Ozs7Ozs7Ozs7Ozs7SUNGQSxRO0FBQ25CLG9CQUFZLE9BQVosRUFBcUI7QUFBQTs7QUFDbkIsU0FBSyxLQUFMLEdBQWEsUUFBUSxLQUFyQjtBQUNBLFNBQUssTUFBTCxHQUFjLFFBQVEsTUFBdEI7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsUUFBUSxRQUF4Qjs7QUFFQSxTQUFLLFVBQUw7QUFDQSxTQUFLLFNBQUw7O0FBRUEsU0FBSyxNQUFMLENBQVksUUFBWixDQUFxQixDQUFyQixHQUF5QixDQUF6QjtBQUNEOzs7O2lDQUVZO0FBQ1gsVUFBSSxlQUFlLElBQUksTUFBTSxZQUFWLENBQXVCLFFBQXZCLENBQW5CO0FBQ0EsVUFBSSxjQUFjLElBQUksTUFBTSxVQUFWLENBQXFCLFFBQXJCLENBQWxCOztBQUVBLGtCQUFZLFFBQVosQ0FBcUIsR0FBckIsQ0FBeUIsQ0FBekIsRUFBNEIsQ0FBNUIsRUFBK0IsQ0FBL0I7O0FBRUEsV0FBSyxLQUFMLENBQVcsR0FBWCxDQUFlLFlBQWY7QUFDQSxXQUFLLEtBQUwsQ0FBVyxHQUFYLENBQWUsV0FBZjtBQUNEOzs7Z0NBRVc7QUFDVixVQUFJLFdBQVcsSUFBSSxNQUFNLFdBQVYsQ0FBc0IsQ0FBdEIsRUFBd0IsQ0FBeEIsRUFBMEIsQ0FBMUIsQ0FBZjtBQUNBLFVBQUksV0FBVyxJQUFJLE1BQU0saUJBQVYsQ0FBNEIsRUFBQyxPQUFPLFFBQVIsRUFBa0IsVUFBVSxRQUE1QixFQUFzQyxXQUFXLEVBQWpELEVBQTVCLENBQWY7QUFDQSxXQUFLLElBQUwsR0FBWSxJQUFJLE1BQU0sSUFBVixDQUFlLFFBQWYsRUFBeUIsUUFBekIsQ0FBWjs7QUFFQSxXQUFLLEtBQUwsQ0FBVyxHQUFYLENBQWUsS0FBSyxJQUFwQjtBQUNEOzs7aUNBRVk7QUFDWCxXQUFLLElBQUwsQ0FBVSxRQUFWLENBQW1CLENBQW5CLElBQXdCLElBQXhCO0FBQ0EsV0FBSyxJQUFMLENBQVUsUUFBVixDQUFtQixDQUFuQixJQUF3QixJQUF4QjtBQUNEOzs7Ozs7a0JBakNrQixROzs7Ozs7Ozs7OztJQ0FBLE0sR0FDbkIsZ0JBQVksSUFBWixFQUFrQjtBQUFBOztBQUNoQixPQUFLLElBQUwsR0FBWSxLQUFLLElBQWpCO0FBQ0QsQzs7a0JBSGtCLE07Ozs7Ozs7O1FDY0wsZSxHQUFBLGU7QUFkaEIsU0FBUyxZQUFULENBQXNCLFFBQXRCLEVBQWdDLE1BQWhDLEVBQXVDO0FBQ3JDLE1BQUksSUFBSSxPQUFPLFVBQWY7QUFDQSxNQUFJLElBQUksT0FBTyxXQUFmO0FBQ0EsV0FBUyxPQUFULENBQWlCLENBQWpCLEVBQW1CLENBQW5CO0FBQ0EsU0FBTyxNQUFQLEdBQWdCLElBQUUsQ0FBbEI7QUFDQSxTQUFPLHNCQUFQO0FBQ0Q7O0FBRUQsU0FBUyxhQUFULENBQXVCLFFBQXZCLEVBQWlDLE1BQWpDLEVBQXlDO0FBQ3ZDLFNBQU8sZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MsWUFBTTtBQUN0QyxpQkFBYSxRQUFiLEVBQXVCLE1BQXZCO0FBQ0QsR0FGRDtBQUdEOztBQUVNLFNBQVMsZUFBVCxHQUEyQjtBQUNoQyxNQUFJLFFBQVEsSUFBSSxNQUFNLEtBQVYsRUFBWjtBQUNBLE1BQUksU0FBUyxJQUFJLE1BQU0saUJBQVYsQ0FBNEIsRUFBNUIsRUFBZ0MsT0FBTyxVQUFQLEdBQW9CLE9BQU8sV0FBM0QsRUFBd0UsR0FBeEUsRUFBNkUsSUFBN0UsQ0FBYjtBQUNBLE1BQUksV0FBVyxJQUFJLE1BQU0sYUFBVixFQUFmOztBQUVBLFdBQVMsT0FBVCxDQUFpQixPQUFPLFVBQXhCLEVBQW9DLE9BQU8sV0FBM0M7QUFDQSxXQUFTLElBQVQsQ0FBYyxXQUFkLENBQTBCLFNBQVMsVUFBbkM7O0FBRUEsZ0JBQWMsUUFBZCxFQUF3QixNQUF4Qjs7QUFFQSxTQUFPLEVBQUUsWUFBRixFQUFTLGNBQVQsRUFBaUIsa0JBQWpCLEVBQVA7QUFDRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgeyBzZXR1cFNjcmVlblZpZXcgfSBmcm9tICcuL21vZHVsZXMvdmlldyc7XG5pbXBvcnQgR2FtZUVuZ2luZSBmcm9tICcuL21vZHVsZXMvZ2FtZS1lbmdpbmUnO1xuaW1wb3J0IEdhbWVWaWV3IGZyb20gJy4vbW9kdWxlcy9nYW1lLXZpZXcnO1xuXG4vLyBHbG9iYWxzXG5sZXQgZ2xvYmFscztcblxubGV0IGdhbWVFbmdpbmUsIGdhbWVWaWV3O1xuXG4vLyBTaGFwZXNcbnZhciBjdWJlO1xuXG5mdW5jdGlvbiBpbml0KCkge1xuICBsZXQgeyBzY2VuZSwgY2FtZXJhLCByZW5kZXJlciB9ID0gc2V0dXBTY3JlZW5WaWV3KCk7XG4gIGdsb2JhbHMgPSB7IHNjZW5lLCBjYW1lcmEsIHJlbmRlcmVyIH07XG5cbiAgZ2FtZUVuZ2luZSA9IG5ldyBHYW1lRW5naW5lKCk7XG4gIGdhbWVWaWV3ID0gbmV3IEdhbWVWaWV3KGdsb2JhbHMpO1xuXG4gIHJlbmRlcigpO1xufVxuXG5mdW5jdGlvbiByZW5kZXIoKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICBnYW1lVmlldy5yZW5kZXJMb29wKCk7XG4gIGdsb2JhbHMucmVuZGVyZXIucmVuZGVyKGdsb2JhbHMuc2NlbmUsIGdsb2JhbHMuY2FtZXJhKTtcbn1cblxuaW5pdCgpO1xuIiwiaW1wb3J0IFBsYXllciBmcm9tICcuL3BsYXllcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVFbmdpbmUge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICB0aGlzLmluaXRpYWxpemVQbGF5ZXJzKCk7XG4gIH1cblxuICBpbml0aWFsaXplUGxheWVycygpIHtcbiAgICB0aGlzLnN0YXRlLnBsYXllcnMgPSBbXG4gICAgICBuZXcgUGxheWVyKHt0eXBlOiAnaHVtYW4nfSksIG5ldyBQbGF5ZXIoe3R5cGU6ICdjb21wdXRlcid9KVxuICAgIF07XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVWaWV3IHtcbiAgY29uc3RydWN0b3IoZ2xvYmFscykge1xuICAgIHRoaXMuc2NlbmUgPSBnbG9iYWxzLnNjZW5lO1xuICAgIHRoaXMuY2FtZXJhID0gZ2xvYmFscy5jYW1lcmE7XG4gICAgdGhpcy5yZW5kZXJlciA9IGdsb2JhbHMucmVuZGVyZXI7XG5cbiAgICB0aGlzLnNldHVwTGlnaHQoKTtcbiAgICB0aGlzLnNldHVwQ3ViZSgpO1xuXG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDQ7XG4gIH1cblxuICBzZXR1cExpZ2h0KCkge1xuICAgIGxldCBsaWdodEFtYmllbnQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4NjY2NjY2KTtcbiAgICBsZXQgbGlnaHRTb3VyY2UgPSBuZXcgVEhSRUUuUG9pbnRMaWdodCgweDg4ODg4OCk7XG5cbiAgICBsaWdodFNvdXJjZS5wb3NpdGlvbi5zZXQoMywgMywgMyk7XG5cbiAgICB0aGlzLnNjZW5lLmFkZChsaWdodEFtYmllbnQpO1xuICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0U291cmNlKTtcbiAgfVxuXG4gIHNldHVwQ3ViZSgpIHtcbiAgICBsZXQgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMSwxLDEpO1xuICAgIGxldCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7Y29sb3I6IDB4MDBmZjAwLCBzcGVjdWxhcjogMHg1NTU1NTUsIHNoaW5pbmVzczogMzAgfSk7XG4gICAgdGhpcy5jdWJlID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcblxuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuY3ViZSk7XG4gIH1cblxuICByZW5kZXJMb29wKCkge1xuICAgIHRoaXMuY3ViZS5yb3RhdGlvbi54ICs9IDAuMDE7XG4gICAgdGhpcy5jdWJlLnJvdGF0aW9uLnkgKz0gMC4wMTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyIHtcbiAgY29uc3RydWN0b3IoYXJncykge1xuICAgIHRoaXMudHlwZSA9IGFyZ3MudHlwZTtcbiAgfVxufVxuIiwiZnVuY3Rpb24gaGFuZGxlUmVzaXplKHJlbmRlcmVyLCBjYW1lcmEpe1xuICBsZXQgdyA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICBsZXQgaCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgcmVuZGVyZXIuc2V0U2l6ZSh3LGgpO1xuICBjYW1lcmEuYXNwZWN0ID0gdy9oO1xuICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xufVxuXG5mdW5jdGlvbiBzZXR1cFJlc2l6aW5nKHJlbmRlcmVyLCBjYW1lcmEpIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICBoYW5kbGVSZXNpemUocmVuZGVyZXIsIGNhbWVyYSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBTY3JlZW5WaWV3KCkge1xuICBsZXQgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgbGV0IGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg3NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMSwgMTAwMCk7XG4gIGxldCByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG5cbiAgcmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTtcblxuICBzZXR1cFJlc2l6aW5nKHJlbmRlcmVyLCBjYW1lcmEpO1xuXG4gIHJldHVybiB7IHNjZW5lLCBjYW1lcmEsIHJlbmRlcmVyIH07XG59XG4iXX0=\n"]}